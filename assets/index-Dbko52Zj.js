var Ms=Object.defineProperty;var $r=e=>{throw TypeError(e)};var Os=(e,t,r)=>t in e?Ms(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var k=(e,t,r)=>Os(e,typeof t!="symbol"?t+"":t,r),en=(e,t,r)=>t.has(e)||$r("Cannot "+r);var A=(e,t,r)=>(en(e,t,"read from private field"),r?r.call(e):t.get(e)),te=(e,t,r)=>t.has(e)?$r("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ie=(e,t,r,n)=>(en(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();const tn=!1;var dt=Array.isArray,Ts=Array.prototype.indexOf,Rr=Array.from,Cs=Object.defineProperty,He=Object.getOwnPropertyDescriptor,Mn=Object.getOwnPropertyDescriptors,As=Object.prototype,Is=Array.prototype,Dr=Object.getPrototypeOf,rn=Object.isExtensible;function wt(e){return typeof e=="function"}const nt=()=>{};function Ls(e){return e()}function Pt(e){for(var t=0;t<e.length;t++)e[t]()}const ce=2,Hr=4,zt=8,Fr=16,Oe=32,vt=64,jr=128,ae=256,$t=512,ie=1024,Me=2048,qe=4096,Pe=8192,qr=16384,On=32768,ar=65536,nn=1<<17,Rs=1<<18,Tn=1<<19,Mr=1<<20,Kr=1<<21,xe=Symbol("$state"),Cn=Symbol("legacy props"),Ds=Symbol(""),An=new class extends Error{constructor(){super(...arguments);k(this,"name","StaleReactionError");k(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function In(e){return e===this.v}function Ln(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Rn(e){return!Ln(e,this.v)}function Hs(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Fs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function js(e){throw new Error("https://svelte.dev/e/effect_orphan")}function qs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ks(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function zs(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Bs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Us(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Vs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ht=!1,Js=!1;function Ys(){ht=!0}const Ws=1,Gs=2,Zs=16,Xs=1,Qs=2,$s=4,ea=8,ta=16,Dn=1,ra=2,re=Symbol(),na="http://www.w3.org/1999/xhtml";function ir(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let O=null;function sn(e){O=e}function lr(e,t=!1,r){var n=O={p:O,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};ht&&!t&&(O.l={s:null,u:null,r1:[],r2:Ot(!1)}),Ur(()=>{n.d=!0})}function or(e){const t=O;if(t!==null){const o=t.e;if(o!==null){var r=C,n=N;t.e=null;try{for(var s=0;s<o.length;s++){var a=o[s];je(a.effect),we(a.reaction),Jn(a.fn)}}finally{je(r),we(n)}}O=t.p,t.m=!0}return{}}function Bt(){return!ht||O!==null&&O.l===null}function he(e){if(typeof e!="object"||e===null||xe in e)return e;const t=Dr(e);if(t!==As&&t!==Is)return e;var r=new Map,n=dt(e),s=j(0),a=N,o=l=>{var i=N;we(a);var u=l();return we(i),u};return n&&r.set("length",j(e.length)),new Proxy(e,{defineProperty(l,i,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Bs();var v=r.get(i);return v===void 0?v=o(()=>{var f=j(u.value);return r.set(i,f),f}):_(v,u.value,!0),!0},deleteProperty(l,i){var u=r.get(i);if(u===void 0){if(i in l){const c=o(()=>j(re));r.set(i,c),kr(s)}}else{if(n&&typeof i=="string"){var v=r.get("length"),f=Number(i);Number.isInteger(f)&&f<v.v&&_(v,f)}_(u,re),kr(s)}return!0},get(l,i,u){var h;if(i===xe)return e;var v=r.get(i),f=i in l;if(v===void 0&&(!f||(h=He(l,i))!=null&&h.writable)&&(v=o(()=>{var p=he(f?l[i]:re),y=j(p);return y}),r.set(i,v)),v!==void 0){var c=d(v);return c===re?void 0:c}return Reflect.get(l,i,u)},getOwnPropertyDescriptor(l,i){var u=Reflect.getOwnPropertyDescriptor(l,i);if(u&&"value"in u){var v=r.get(i);v&&(u.value=d(v))}else if(u===void 0){var f=r.get(i),c=f==null?void 0:f.v;if(f!==void 0&&c!==re)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return u},has(l,i){var c;if(i===xe)return!0;var u=r.get(i),v=u!==void 0&&u.v!==re||Reflect.has(l,i);if(u!==void 0||C!==null&&(!v||(c=He(l,i))!=null&&c.writable)){u===void 0&&(u=o(()=>{var h=v?he(l[i]):re,p=j(h);return p}),r.set(i,u));var f=d(u);if(f===re)return!1}return v},set(l,i,u,v){var F;var f=r.get(i),c=i in l;if(n&&i==="length")for(var h=u;h<f.v;h+=1){var p=r.get(h+"");p!==void 0?_(p,re):h in l&&(p=o(()=>j(re)),r.set(h+"",p))}if(f===void 0)(!c||(F=He(l,i))!=null&&F.writable)&&(f=o(()=>j(void 0)),_(f,he(u)),r.set(i,f));else{c=f.v!==re;var y=o(()=>he(u));_(f,y)}var T=Reflect.getOwnPropertyDescriptor(l,i);if(T!=null&&T.set&&T.set.call(v,u),!c){if(n&&typeof i=="string"){var m=r.get("length"),S=Number(i);Number.isInteger(S)&&S>=m.v&&_(m,S+1)}kr(s)}return!0},ownKeys(l){d(s);var i=Reflect.ownKeys(l).filter(f=>{var c=r.get(f);return c===void 0||c.v!==re});for(var[u,v]of r)v.v!==re&&!(u in l)&&i.push(u);return i},setPrototypeOf(){Us()}})}function kr(e,t=1){_(e,e.v+t)}function an(e){try{if(e!==null&&typeof e=="object"&&xe in e)return e[xe]}catch{}return e}function sa(e,t){return Object.is(an(e),an(t))}function Ut(e){var t=ce|Me,r=N!==null&&(N.f&ce)!==0?N:null;return C===null||r!==null&&(r.f&ae)!==0?t|=ae:C.f|=Tn,{ctx:O,deps:null,effects:null,equals:In,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??C,ac:null}}function rt(e){const t=Ut(e);return ns(t),t}function zr(e){const t=Ut(e);return t.equals=Rn,t}function Hn(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)Fe(t[r])}}function aa(e){for(var t=e.parent;t!==null;){if((t.f&ce)===0)return t;t=t.parent}return null}function Fn(e){var t,r=C;je(aa(e));try{Hn(e),t=is(e)}finally{je(r)}return t}function jn(e){var t=Fn(e);if(e.equals(t)||(e.v=t,e.wv=ss()),!pt){var r=(De||(e.f&ae)!==0)&&e.deps!==null?qe:ie;pe(e,r)}}const Mt=new Map;function Ot(e,t){var r={f:0,v:e,reactions:null,equals:In,rv:0,wv:0};return r}function j(e,t){const r=Ot(e);return ns(r),r}function Ve(e,t=!1,r=!0){var s;const n=Ot(e);return t||(n.equals=Rn),ht&&r&&O!==null&&O.l!==null&&((s=O.l).s??(s.s=[])).push(n),n}function _(e,t,r=!1){N!==null&&(!ye||(N.f&nn)!==0)&&Bt()&&(N.f&(ce|Fr|nn))!==0&&!((U==null?void 0:U.reaction)===N&&U.sources.includes(e))&&Vs();let n=r?he(t):t;return qn(e,n)}function qn(e,t){if(!e.equals(t)){var r=e.v;pt?Mt.set(e,t):Mt.set(e,r),e.v=t,(e.f&ce)!==0&&((e.f&Me)!==0&&Fn(e),pe(e,(e.f&ae)===0?ie:qe)),e.wv=ss(),Kn(e,Me),Bt()&&C!==null&&(C.f&ie)!==0&&(C.f&(Oe|vt))===0&&(fe===null?ma([e]):fe.push(e))}return t}function Kn(e,t){var r=e.reactions;if(r!==null)for(var n=Bt(),s=r.length,a=0;a<s;a++){var o=r[a],l=o.f;(l&Me)===0&&(!n&&o===C||(pe(o,t),(l&(ie|ae))!==0&&((l&ce)!==0?Kn(o,qe):vr(o))))}}function ia(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let la=!1;var ln,zn,Bn,Un;function oa(){if(ln===void 0){ln=window,zn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Bn=He(t,"firstChild").get,Un=He(t,"nextSibling").get,rn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),rn(r)&&(r.__t=void 0)}}function Br(e=""){return document.createTextNode(e)}function Ne(e){return Bn.call(e)}function ur(e){return Un.call(e)}function x(e,t){return Ne(e)}function Je(e,t){{var r=Ne(e);return r instanceof Comment&&r.data===""?ur(r):r}}function P(e,t=1,r=!1){let n=e;for(;t--;)n=ur(n);return n}function ua(e){e.textContent=""}function Vn(e){C===null&&N===null&&js(),N!==null&&(N.f&ae)!==0&&C===null&&Fs(),pt&&Hs()}function fa(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Ke(e,t,r,n=!0){var s=C,a={ctx:O,deps:null,nodes_start:null,nodes_end:null,f:e|Me,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{dr(a),a.f|=On}catch(i){throw Fe(a),i}else t!==null&&vr(a);var o=r&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(Tn|jr))===0;if(!o&&n&&(s!==null&&fa(a,s),N!==null&&(N.f&ce)!==0)){var l=N;(l.effects??(l.effects=[])).push(a)}return a}function Ur(e){const t=Ke(zt,null,!1);return pe(t,ie),t.teardown=e,t}function Or(e){Vn();var t=C!==null&&(C.f&Oe)!==0&&O!==null&&!O.m;if(t){var r=O;(r.e??(r.e=[])).push({fn:e,effect:C,reaction:N})}else return Jn(e)}function Jn(e){return Ke(Hr|Kr,e,!1)}function ca(e){return Vn(),Ke(zt|Kr,e,!0)}function da(e){const t=Ke(vt,e,!0);return(r={})=>new Promise(n=>{r.outro?Tt(t,()=>{Fe(t),n(void 0)}):(Fe(t),n(void 0))})}function Yn(e){return Ke(Hr,e,!1)}function Xt(e,t){var r=O,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=fr(()=>{e(),!n.ran&&(n.ran=!0,_(r.l.r2,!0),H(t))})}function Wn(){var e=O;fr(()=>{if(d(e.l.r2)){for(var t of e.l.r1){var r=t.effect;(r.f&ie)!==0&&pe(r,qe),Vt(r)&&dr(r),t.ran=!1}e.l.r2.v=!1}})}function fr(e){return Ke(zt,e,!0)}function be(e,t=[],r=Ut){const n=t.map(r);return cr(()=>e(...n.map(d)))}function cr(e,t=0){var r=Ke(zt|Fr|t,e,!0);return r}function ct(e,t=!0){return Ke(zt|Oe,e,!0,t)}function Gn(e){var t=e.teardown;if(t!==null){const r=pt,n=N;on(!0),we(null);try{t.call(null)}finally{on(r),we(n)}}}function Zn(e,t=!1){var s;var r=e.first;for(e.first=e.last=null;r!==null;){(s=r.ac)==null||s.abort(An);var n=r.next;(r.f&vt)!==0?r.parent=null:Fe(r,t),r=n}}function va(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Oe)===0&&Fe(t),t=r}}function Fe(e,t=!0){var r=!1;(t||(e.f&Rs)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(ha(e.nodes_start,e.nodes_end),r=!0),Zn(e,t&&!r),nr(e,0),pe(e,qr);var n=e.transitions;if(n!==null)for(const a of n)a.stop();Gn(e);var s=e.parent;s!==null&&s.first!==null&&Xn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ha(e,t){for(;e!==null;){var r=e===t?null:ur(e);e.remove(),e=r}}function Xn(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Tt(e,t){var r=[];Vr(e,r,!0),Qn(r,()=>{Fe(e),t&&t()})}function Qn(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var s of e)s.out(n)}else t()}function Vr(e,t,r){if((e.f&Pe)===0){if(e.f^=Pe,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&t.push(o);for(var n=e.first;n!==null;){var s=n.next,a=(n.f&ar)!==0||(n.f&Oe)!==0;Vr(n,t,a?r:!1),n=s}}}function er(e){$n(e,!0)}function $n(e,t){if((e.f&Pe)!==0){e.f^=Pe;for(var r=e.first;r!==null;){var n=r.next,s=(r.f&ar)!==0||(r.f&Oe)!==0;$n(r,s?t:!1),r=n}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let Ct=[],Tr=[];function es(){var e=Ct;Ct=[],Pt(e)}function pa(){var e=Tr;Tr=[],Pt(e)}function ts(e){Ct.length===0&&queueMicrotask(es),Ct.push(e)}function _a(){Ct.length>0&&es(),Tr.length>0&&pa()}function ga(e){var t=C;if((t.f&On)===0){if((t.f&jr)===0)throw e;t.fn(e)}else rs(e,t)}function rs(e,t){for(;t!==null;){if((t.f&jr)!==0)try{t.b.error(e);return}catch{}t=t.parent}throw e}let At=!1,It=null,Ye=!1,pt=!1;function on(e){pt=e}let kt=[];let N=null,ye=!1;function we(e){N=e}let C=null;function je(e){C=e}let U=null;function ns(e){N!==null&&N.f&Mr&&(U===null?U={reaction:N,sources:[e]}:U.sources.push(e))}let X=null,se=0,fe=null;function ma(e){fe=e}let tr=1,rr=0,De=!1;function ss(){return++tr}function Vt(e){var f;var t=e.f;if((t&Me)!==0)return!0;if((t&qe)!==0){var r=e.deps,n=(t&ae)!==0;if(r!==null){var s,a,o=(t&$t)!==0,l=n&&C!==null&&!De,i=r.length;if(o||l){var u=e,v=u.parent;for(s=0;s<i;s++)a=r[s],(o||!((f=a==null?void 0:a.reactions)!=null&&f.includes(u)))&&(a.reactions??(a.reactions=[])).push(u);o&&(u.f^=$t),l&&v!==null&&(v.f&ae)===0&&(u.f^=ae)}for(s=0;s<i;s++)if(a=r[s],Vt(a)&&jn(a),a.wv>e.wv)return!0}(!n||C!==null&&!De)&&pe(e,ie)}return!1}function as(e,t,r=!0){var n=e.reactions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];(U==null?void 0:U.reaction)===N&&U.sources.includes(e)||((a.f&ce)!==0?as(a,t,!1):t===a&&(r?pe(a,Me):(a.f&ie)!==0&&pe(a,qe),vr(a)))}}function is(e){var h;var t=X,r=se,n=fe,s=N,a=De,o=U,l=O,i=ye,u=e.f;X=null,se=0,fe=null,De=(u&ae)!==0&&(ye||!Ye||N===null),N=(u&(Oe|vt))===0?e:null,U=null,sn(e.ctx),ye=!1,rr++,e.f|=Mr,e.ac!==null&&(e.ac.abort(An),e.ac=null);try{var v=(0,e.fn)(),f=e.deps;if(X!==null){var c;if(nr(e,se),f!==null&&se>0)for(f.length=se+X.length,c=0;c<X.length;c++)f[se+c]=X[c];else e.deps=f=X;if(!De||(u&ce)!==0&&e.reactions!==null)for(c=se;c<f.length;c++)((h=f[c]).reactions??(h.reactions=[])).push(e)}else f!==null&&se<f.length&&(nr(e,se),f.length=se);if(Bt()&&fe!==null&&!ye&&f!==null&&(e.f&(ce|qe|Me))===0)for(c=0;c<fe.length;c++)as(fe[c],e);return s!==null&&s!==e&&(rr++,fe!==null&&(n===null?n=fe:n.push(...fe))),v}catch(p){ga(p)}finally{X=t,se=r,fe=n,N=s,De=a,U=o,sn(l),ye=i,e.f^=Mr}}function ba(e,t){let r=t.reactions;if(r!==null){var n=Ts.call(r,e);if(n!==-1){var s=r.length-1;s===0?r=t.reactions=null:(r[n]=r[s],r.pop())}}r===null&&(t.f&ce)!==0&&(X===null||!X.includes(t))&&(pe(t,qe),(t.f&(ae|$t))===0&&(t.f^=$t),Hn(t),nr(t,0))}function nr(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)ba(e,r[n])}function dr(e){var t=e.f;if((t&qr)===0){pe(e,ie);var r=C,n=Ye;C=e,Ye=!0;try{(t&Fr)!==0?va(e):Zn(e),Gn(e);var s=is(e);e.teardown=typeof s=="function"?s:null,e.wv=tr;var a;tn&&Js&&(e.f&Me)!==0&&e.deps}finally{Ye=n,C=r}}}function ya(){try{qs()}catch(e){if(It!==null)rs(e,It);else throw e}}function ls(){var e=Ye;try{var t=0;for(Ye=!0;kt.length>0;){t++>1e3&&ya();var r=kt,n=r.length;kt=[];for(var s=0;s<n;s++){var a=wa(r[s]);xa(a)}Mt.clear()}}finally{At=!1,Ye=e,It=null}}function xa(e){var t=e.length;if(t!==0){for(var r=0;r<t;r++){var n=e[r];if((n.f&(qr|Pe))===0&&Vt(n)){var s=tr;if(dr(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Xn(n):n.fn=null),tr>s&&(n.f&Kr)!==0)break}}for(;r<t;r+=1)vr(e[r])}}function vr(e){At||(At=!0,queueMicrotask(ls));for(var t=It=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(vt|Oe))!==0){if((r&ie)===0)return;t.f^=ie}}kt.push(t)}function wa(e){for(var t=[],r=e;r!==null;){var n=r.f,s=(n&(Oe|vt))!==0,a=s&&(n&ie)!==0;if(!a&&(n&Pe)===0){(n&Hr)!==0?t.push(r):s?r.f^=ie:Vt(r)&&dr(r);var o=r.first;if(o!==null){r=o;continue}}var l=r.parent;for(r=r.next;r===null&&l!==null;)r=l.next,l=l.parent}return t}function Ea(e){for(var t;;){if(_a(),kt.length===0)return At=!1,It=null,t;At=!0,ls()}}async function Sa(){await Promise.resolve(),Ea()}function d(e){var t=e.f,r=(t&ce)!==0;if(N!==null&&!ye){if((U==null?void 0:U.reaction)!==N||!(U!=null&&U.sources.includes(e))){var n=N.deps;e.rv<rr&&(e.rv=rr,X===null&&n!==null&&n[se]===e?se++:X===null?X=[e]:(!De||!X.includes(e))&&X.push(e))}}else if(r&&e.deps===null&&e.effects===null){var s=e,a=s.parent;a!==null&&(a.f&ae)===0&&(s.f^=ae)}return r&&(s=e,Vt(s)&&jn(s)),pt&&Mt.has(e)?Mt.get(e):e.v}function H(e){var t=ye;try{return ye=!0,e()}finally{ye=t}}const ka=-7169;function pe(e,t){e.f=e.f&ka|t}function ke(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(xe in e)Cr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&xe in r&&Cr(r)}}}function Cr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{Cr(e[n],t)}catch{}const r=Dr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Mn(r);for(let s in n){const a=n[s].get;if(a)try{a.call(e)}catch{}}}}}const Na=["touchstart","touchmove"];function Pa(e){return Na.includes(e)}let un=!1;function Ma(){un||(un=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function os(e){var t=N,r=C;we(null),je(null);try{return e()}finally{we(t),je(r)}}function us(e,t,r,n=r){e.addEventListener(t,()=>os(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),Ma()}const fs=new Set,Ar=new Set;function Oa(e,t,r,n={}){function s(a){if(n.capture||St.call(t,a),!a.cancelBubble)return os(()=>r==null?void 0:r.call(this,a))}return ts(()=>{t.addEventListener(e,s,n)}),s}function Ta(e,t,r,n,s){var a={capture:n,passive:s},o=Oa(e,t,r,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Ur(()=>{t.removeEventListener(e,o,a)})}function Ca(e){for(var t=0;t<e.length;t++)fs.add(e[t]);for(var r of Ar)r(e)}function St(e){var S;var t=this,r=t.ownerDocument,n=e.type,s=((S=e.composedPath)==null?void 0:S.call(e))||[],a=s[0]||e.target,o=0,l=e.__root;if(l){var i=s.indexOf(l);if(i!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;i<=u&&(o=i)}if(a=s[o]||e.target,a!==t){Cs(e,"currentTarget",{configurable:!0,get(){return a||r}});var v=N,f=C;we(null),je(null);try{for(var c,h=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var y=a["__"+n];if(y!=null&&(!a.disabled||e.target===a))if(dt(y)){var[T,...m]=y;T.apply(a,[e,...m])}else y.call(a,e)}catch(F){c?h.push(F):c=F}if(e.cancelBubble||p===t||p===null)break;a=p}if(c){for(let F of h)queueMicrotask(()=>{throw F});throw c}}finally{e.__root=t,delete e.currentTarget,we(v),je(f)}}}function cs(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Lt(e,t){var r=C;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function le(e,t){var r=(t&Dn)!==0,n=(t&ra)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=cs(a?e:"<!>"+e),r||(s=Ne(s)));var o=n||zn?document.importNode(s,!0):s.cloneNode(!0);if(r){var l=Ne(o),i=o.lastChild;Lt(l,i)}else Lt(o,o);return o}}function Aa(e,t,r="svg"){var n=!e.startsWith("<!>"),s=(t&Dn)!==0,a=`<${r}>${n?e:"<!>"+e}</${r}>`,o;return()=>{if(!o){var l=cs(a),i=Ne(l);if(s)for(o=document.createDocumentFragment();Ne(i);)o.appendChild(Ne(i));else o=Ne(i)}var u=o.cloneNode(!0);if(s){var v=Ne(u),f=u.lastChild;Lt(v,f)}else Lt(u,u);return u}}function hr(e,t){return Aa(e,t,"svg")}function Qt(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Br();return e.append(t,r),Lt(t,r),e}function z(e,t){e!==null&&e.before(t)}function Le(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function Ia(e,t){return La(e,t)}const et=new Map;function La(e,{target:t,anchor:r,props:n={},events:s,context:a,intro:o=!0}){oa();var l=new Set,i=f=>{for(var c=0;c<f.length;c++){var h=f[c];if(!l.has(h)){l.add(h);var p=Pa(h);t.addEventListener(h,St,{passive:p});var y=et.get(h);y===void 0?(document.addEventListener(h,St,{passive:p}),et.set(h,1)):et.set(h,y+1)}}};i(Rr(fs)),Ar.add(i);var u=void 0,v=da(()=>{var f=r??t.appendChild(Br());return ct(()=>{if(a){lr({});var c=O;c.c=a}s&&(n.$$events=s),u=e(f,n)||{},a&&or()}),()=>{var p;for(var c of l){t.removeEventListener(c,St);var h=et.get(c);--h===0?(document.removeEventListener(c,St),et.delete(c)):et.set(c,h)}Ar.delete(i),f!==r&&((p=f.parentNode)==null||p.removeChild(f))}});return Ra.set(u,v),u}let Ra=new WeakMap;function ne(e,t,[r,n]=[0,0]){var s=e,a=null,o=null,l=re,i=r>0?ar:0,u=!1;const v=(c,h=!0)=>{u=!0,f(h,c)},f=(c,h)=>{l!==(l=c)&&(l?(a?er(a):h&&(a=ct(()=>h(s))),o&&Tt(o,()=>{o=null})):(o?er(o):h&&(o=ct(()=>h(s,[r+1,n]))),a&&Tt(a,()=>{a=null})))};cr(()=>{u=!1,t(v),u||f(null,null)},i)}function Da(e,t){return t}function Ha(e,t,r,n){for(var s=[],a=t.length,o=0;o<a;o++)Vr(t[o].e,s,!0);var l=a>0&&s.length===0&&r!==null;if(l){var i=r.parentNode;ua(i),i.append(r),n.clear(),Re(e,t[0].prev,t[a-1].next)}Qn(s,()=>{for(var u=0;u<a;u++){var v=t[u];l||(n.delete(v.k),Re(e,v.prev,v.next)),Fe(v.e,!l)}})}function Fa(e,t,r,n,s,a=null){var o=e,l={flags:t,items:new Map,first:null};{var i=e;o=i.appendChild(Br())}var u=null,v=!1,f=zr(()=>{var c=r();return dt(c)?c:c==null?[]:Rr(c)});cr(()=>{var c=d(f),h=c.length;v&&h===0||(v=h===0,ja(c,l,o,s,t,n,r),a!==null&&(h===0?u?er(u):u=ct(()=>a(o)):u!==null&&Tt(u,()=>{u=null})),d(f))})}function ja(e,t,r,n,s,a,o){var l=e.length,i=t.items,u=t.first,v=u,f,c=null,h=[],p=[],y,T,m,S;for(S=0;S<l;S+=1){if(y=e[S],T=a(y,S),m=i.get(T),m===void 0){var F=v?v.e.nodes_start:r;c=Ka(F,t,c,c===null?t.first:c.next,y,T,S,n,s,o),i.set(T,c),h=[],p=[],v=c.next;continue}if(qa(m,y,S),(m.e.f&Pe)!==0&&er(m.e),m!==v){if(f!==void 0&&f.has(m)){if(h.length<p.length){var Q=p[0],w;c=Q.prev;var g=h[0],b=h[h.length-1];for(w=0;w<h.length;w+=1)fn(h[w],Q,r);for(w=0;w<p.length;w+=1)f.delete(p[w]);Re(t,g.prev,b.next),Re(t,c,g),Re(t,b,Q),v=Q,c=b,S-=1,h=[],p=[]}else f.delete(m),fn(m,v,r),Re(t,m.prev,m.next),Re(t,m,c===null?t.first:c.next),Re(t,c,m),c=m;continue}for(h=[],p=[];v!==null&&v.k!==T;)(v.e.f&Pe)===0&&(f??(f=new Set)).add(v),p.push(v),v=v.next;if(v===null)continue;m=v}h.push(m),c=m,v=m.next}if(v!==null||f!==void 0){for(var L=f===void 0?[]:Rr(f);v!==null;)(v.e.f&Pe)===0&&L.push(v),v=v.next;var M=L.length;if(M>0){var q=l===0?r:null;Ha(t,L,q,i)}}C.first=t.first&&t.first.e,C.last=c&&c.e}function qa(e,t,r,n){qn(e.v,t),e.i=r}function Ka(e,t,r,n,s,a,o,l,i,u){var v=(i&Ws)!==0,f=(i&Zs)===0,c=v?f?Ve(s,!1,!1):Ot(s):s,h=(i&Gs)===0?o:Ot(o),p={i:h,v:c,k:a,a:null,e:null,prev:r,next:n};try{return p.e=ct(()=>l(e,c,h,u),la),p.e.prev=r&&r.e,p.e.next=n&&n.e,r===null?t.first=p:(r.next=p,r.e.next=p.e),n!==null&&(n.prev=p,n.e.prev=p.e),p}finally{}}function fn(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,s=t?t.e.nodes_start:r,a=e.e.nodes_start;a!==n;){var o=ur(a);s.before(a),a=o}}function Re(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function cn(e,t,r){var n=e,s,a;cr(()=>{s!==(s=t())&&(a&&(Tt(a),a=null),s&&(a=ct(()=>r(n,s))))},ar)}const dn=[...` 	
\r\fÂ \v\uFEFF`];function za(e,t,r){var n=e==null?"":""+e;if(n=n?n+" "+t:t,r){for(var s in r)if(r[s])n=n?n+" "+s:s;else if(n.length)for(var a=s.length,o=0;(o=n.indexOf(s,o))>=0;){var l=o+a;(o===0||dn.includes(n[o-1]))&&(l===n.length||dn.includes(n[l]))?n=(o===0?"":n.substring(0,o))+n.substring(l+1):o=l}}return n===""?null:n}function Ba(e,t){return e==null?null:String(e)}function Ua(e,t,r,n,s,a){var o=e.__className;if(o!==r||o===void 0){var l=za(r,n,a);l==null?e.removeAttribute("class"):e.setAttribute("class",l),e.__className=r}else if(a&&s!==a)for(var i in a){var u=!!a[i];(s==null||u!==!!s[i])&&e.classList.toggle(i,u)}return a}function Va(e,t,r,n){var s=e.__style;if(s!==t){var a=Ba(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return n}function ds(e,t,r=!1){if(e.multiple){if(t==null)return;if(!dt(t))return ia();for(var n of e.options)n.selected=t.includes(Nt(n));return}for(n of e.options){var s=Nt(n);if(sa(s,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function Ja(e){var t=new MutationObserver(()=>{ds(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ur(()=>{t.disconnect()})}function Ya(e,t,r=t){var n=!0;us(e,"change",s=>{var a=s?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(a),Nt);else{var l=e.querySelector(a)??e.querySelector("option:not([disabled])");o=l&&Nt(l)}r(o)}),Yn(()=>{var s=t();if(ds(e,s,n),n&&s===void 0){var a=e.querySelector(":checked");a!==null&&(s=Nt(a),r(s))}e.__value=s,n=!1}),Ja(e)}function Nt(e){return"__value"in e?e.__value:e.value}const Wa=Symbol("is custom element"),Ga=Symbol("is html");function K(e,t,r,n){var s=Za(e);s[t]!==(s[t]=r)&&(t==="loading"&&(e[Ds]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Xa(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Za(e){return e.__attributes??(e.__attributes={[Wa]:e.nodeName.includes("-"),[Ga]:e.namespaceURI===na})}var vn=new Map;function Xa(e){var t=vn.get(e.nodeName);if(t)return t;vn.set(e.nodeName,t=[]);for(var r,n=e,s=Element.prototype;s!==n;){r=Mn(n);for(var a in r)r[a].set&&t.push(a);n=Dr(n)}return t}function Et(e,t,r=t){var n=Bt();us(e,"input",s=>{var a=s?e.defaultValue:e.value;if(a=Nr(e)?Pr(a):a,r(a),n&&a!==(a=t())){var o=e.selectionStart,l=e.selectionEnd;e.value=a??"",l!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(l,e.value.length))}}),H(t)==null&&e.value&&r(Nr(e)?Pr(e.value):e.value),fr(()=>{var s=t();Nr(e)&&s===Pr(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Nr(e){var t=e.type;return t==="number"||t==="range"}function Pr(e){return e===""?null:+e}function hn(e,t){return e===t||(e==null?void 0:e[xe])===t}function Ir(e={},t,r,n){return Yn(()=>{var s,a;return fr(()=>{s=a,a=[],H(()=>{e!==r(...a)&&(t(e,...a),s&&hn(r(...s),e)&&t(null,...s))})}),()=>{ts(()=>{a&&hn(r(...a),e)&&t(null,...a)})}}),e}function vs(e=!1){const t=O,r=t.l.u;if(!r)return;let n=()=>ke(t.s);if(e){let s=0,a={};const o=Ut(()=>{let l=!1;const i=t.s;for(const u in i)i[u]!==a[u]&&(a[u]=i[u],l=!0);return l&&s++,s});n=()=>d(o)}r.b.length&&ca(()=>{pn(t,n),Pt(r.b)}),Or(()=>{const s=H(()=>r.m.map(Ls));return()=>{for(const a of s)typeof a=="function"&&a()}}),r.a.length&&Or(()=>{pn(t,n),Pt(r.a)})}function pn(e,t){if(e.l.s)for(const r of e.l.s)d(r);t()}function _n(e,t){var a;var r=(a=e.$$events)==null?void 0:a[t.type],n=dt(r)?r.slice():r==null?[]:[r];for(var s of n)s.call(this,t)}function Qa(e,t,r){if(e==null)return t(void 0),r&&r(void 0),nt;const n=H(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const tt=[];function hs(e,t){return{subscribe:ps(e,t).subscribe}}function ps(e,t=nt){let r=null;const n=new Set;function s(l){if(Ln(e,l)&&(e=l,r)){const i=!tt.length;for(const u of n)u[1](),tt.push(u,e);if(i){for(let u=0;u<tt.length;u+=2)tt[u][0](tt[u+1]);tt.length=0}}}function a(l){s(l(e))}function o(l,i=nt){const u=[l,i];return n.add(u),n.size===1&&(r=t(s,a)||nt),l(e),()=>{n.delete(u),n.size===0&&r&&(r(),r=null)}}return{set:s,update:a,subscribe:o}}function _s(e,t,r){const n=!Array.isArray(e),s=n?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return hs(r,(o,l)=>{let i=!1;const u=[];let v=0,f=nt;const c=()=>{if(v)return;f();const p=t(n?u[0]:u,o,l);a?o(p):f=typeof p=="function"?p:nt},h=s.map((p,y)=>Qa(p,T=>{u[y]=T,v&=~(1<<y),i&&c()},()=>{v|=1<<y}));return i=!0,c(),function(){Pt(h),f(),i=!1}})}let Zt=!1;function $a(e){var t=Zt;try{return Zt=!1,[e(),Zt]}finally{Zt=t}}const ei={get(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(wt(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n)return n[t]}},set(e,t,r){let n=e.props.length;for(;n--;){let s=e.props[n];wt(s)&&(s=s());const a=He(s,t);if(a&&a.set)return a.set(r),!0}return!1},getOwnPropertyDescriptor(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(wt(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n){const s=He(n,t);return s&&!s.configurable&&(s.configurable=!0),s}}},has(e,t){if(t===xe||t===Cn)return!1;for(let r of e.props)if(wt(r)&&(r=r()),r!=null&&t in r)return!0;return!1},ownKeys(e){const t=[];for(let r of e.props)if(wt(r)&&(r=r()),!!r){for(const n in r)t.includes(n)||t.push(n);for(const n of Object.getOwnPropertySymbols(r))t.includes(n)||t.push(n)}return t}};function gn(...e){return new Proxy({props:e},ei)}function ti(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function D(e,t,r,n){var m;var s=!ht||(r&Qs)!==0,a=(r&ea)!==0,o=(r&ta)!==0,l=n,i=!0,u=()=>(i&&(i=!1,l=o?H(n):n),l),v;if(a){var f=xe in e||Cn in e;v=((m=He(e,t))==null?void 0:m.set)??(f&&t in e?S=>e[t]=S:void 0)}var c,h=!1;a?[c,h]=$a(()=>e[t]):c=e[t],c===void 0&&n!==void 0&&(c=u(),v&&(s&&zs(),v(c)));var p;if(s?p=()=>{var S=e[t];return S===void 0?u():(i=!0,S)}:p=()=>{var S=e[t];return S!==void 0&&(l=void 0),S===void 0?l:S},s&&(r&$s)===0)return p;if(v){var y=e.$$legacy;return function(S,F){return arguments.length>0?((!s||!F||y||h)&&v(F?p():S),S):p()}}var T=((r&Xs)!==0?Ut:zr)(p);return a&&d(T),function(S,F){if(arguments.length>0){const Q=F?d(T):s&&a?he(S):S;return _(T,Q),l!==void 0&&(l=Q),S}return ti(T)?T.v:d(T)}}function ri(e){O===null&&ir(),ht&&O.l!==null?gs(O).m.push(e):Or(()=>{const t=H(e);if(typeof t=="function")return t})}function ni(e){O===null&&ir(),ri(()=>()=>H(e))}function si(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}function ai(){const e=O;return e===null&&ir(),(t,r,n)=>{var a;const s=(a=e.s.$$events)==null?void 0:a[t];if(s){const o=dt(s)?s.slice():[s],l=si(t,r,n);for(const i of o)i.call(e.x,l);return!l.defaultPrevented}return!0}}function ii(e){O===null&&ir(),O.l===null&&Ks(),gs(O).a.push(e)}function gs(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const li="5";var Pn;typeof window<"u"&&((Pn=window.__svelte??(window.__svelte={})).v??(Pn.v=new Set)).add(li);Ys();function oi(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,s,a,o=[],l="",i=e.split("/");for(i[0]||i.shift();s=i.shift();)r=s[0],r==="*"?(o.push("wild"),l+="/(.*)"):r===":"?(n=s.indexOf("?",1),a=s.indexOf(".",1),o.push(s.substring(1,~n?n:~a?a:s.length)),l+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~n?"?":"")+"\\"+s.substring(a))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+"/?$","i")}}function mn(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const r=t.indexOf("?");let n="";return r>-1&&(n=t.substr(r+1),t=t.substr(0,r)),{location:t,querystring:n}}const Jr=hs(null,function(t){t(mn());const r=()=>{t(mn())};return window.addEventListener("hashchange",r,!1),function(){window.removeEventListener("hashchange",r,!1)}});_s(Jr,e=>e.location);_s(Jr,e=>e.querystring);const bn=ps(void 0);function ui(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function fi(e,t){lr(t,!1);let r=D(t,"routes",24,()=>({})),n=D(t,"prefix",8,""),s=D(t,"restoreScrollState",8,!1);class a{constructor(g,b){if(!b||typeof b!="function"&&(typeof b!="object"||b._sveltesparouter!==!0))throw Error("Invalid component object");if(!g||typeof g=="string"&&(g.length<1||g.charAt(0)!="/"&&g.charAt(0)!="*")||typeof g=="object"&&!(g instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:L,keys:M}=oi(g);this.path=g,typeof b=="object"&&b._sveltesparouter===!0?(this.component=b.component,this.conditions=b.conditions||[],this.userData=b.userData,this.props=b.props||{}):(this.component=()=>Promise.resolve(b),this.conditions=[],this.props={}),this._pattern=L,this._keys=M}match(g){if(n()){if(typeof n()=="string")if(g.startsWith(n()))g=g.substr(n().length)||"/";else return null;else if(n()instanceof RegExp){const q=g.match(n());if(q&&q[0])g=g.substr(q[0].length)||"/";else return null}}const b=this._pattern.exec(g);if(b===null)return null;if(this._keys===!1)return b;const L={};let M=0;for(;M<this._keys.length;){try{L[this._keys[M]]=decodeURIComponent(b[M+1]||"")||null}catch{L[this._keys[M]]=null}M++}return L}async checkConditions(g){for(let b=0;b<this.conditions.length;b++)if(!await this.conditions[b](g))return!1;return!0}}const o=[];r()instanceof Map?r().forEach((w,g)=>{o.push(new a(g,w))}):Object.keys(r()).forEach(w=>{o.push(new a(w,r()[w]))});let l=Ve(null),i=Ve(null),u=Ve({});const v=ai();async function f(w,g){await Sa(),v(w,g)}let c=null,h=null;s()&&(h=w=>{w.state&&(w.state.__svelte_spa_router_scrollY||w.state.__svelte_spa_router_scrollX)?c=w.state:c=null},window.addEventListener("popstate",h),ii(()=>{ui(c)}));let p=null,y=null;const T=Jr.subscribe(async w=>{p=w;let g=0;for(;g<o.length;){const b=o[g].match(w.location);if(!b){g++;continue}const L={route:o[g].path,location:w.location,querystring:w.querystring,userData:o[g].userData,params:b&&typeof b=="object"&&Object.keys(b).length?b:null};if(!await o[g].checkConditions(L)){_(l,null),y=null,f("conditionsFailed",L);return}f("routeLoading",Object.assign({},L));const M=o[g].component;if(y!=M){M.loading?(_(l,M.loading),y=M,_(i,M.loadingParams),_(u,{}),f("routeLoaded",Object.assign({},L,{component:d(l),name:d(l).name,params:d(i)}))):(_(l,null),y=null);const q=await M();if(w!=p)return;_(l,q&&q.default||q),y=M}b&&typeof b=="object"&&Object.keys(b).length?_(i,b):_(i,null),_(u,o[g].props),f("routeLoaded",Object.assign({},L,{component:d(l),name:d(l).name,params:d(i)})).then(()=>{bn.set(d(i))});return}_(l,null),y=null,bn.set(void 0)});ni(()=>{T(),h&&window.removeEventListener("popstate",h)}),Xt(()=>ke(s()),()=>{history.scrollRestoration=s()?"manual":"auto"}),Wn(),vs();var m=Qt(),S=Je(m);{var F=w=>{var g=Qt(),b=Je(g);cn(b,()=>d(l),(L,M)=>{M(L,gn({get params(){return d(i)}},()=>d(u),{$$events:{routeEvent(q){_n.call(this,t,q)}}}))}),z(w,g)},Q=w=>{var g=Qt(),b=Je(g);cn(b,()=>d(l),(L,M)=>{M(L,gn(()=>d(u),{$$events:{routeEvent(q){_n.call(this,t,q)}}}))}),z(w,g)};ne(S,w=>{d(i)?w(F):w(Q,!1)})}z(e,m),or()}class W{constructor(t,r){k(this,"base");k(this,"exponent");if(t===0)this.base=0,this.exponent=0;else{const n=Math.floor(Math.log10(Math.abs(t))),s=t/Math.pow(10,n);this.base=s,this.exponent=r+n}}static fromNumber(t){if(t===0)return new W(0,0);const r=Math.floor(Math.log10(Math.abs(t))),n=t/Math.pow(10,r);return new W(n,r)}toNumber(){return this.base*Math.pow(10,this.exponent)}add(t){const r=this.toNumber(),n=t.toNumber();return W.fromNumber(r+n)}sub(t){const r=this.toNumber(),n=t.toNumber();return W.fromNumber(r-n)}mul(t){const r=this.base*t.base,n=this.exponent+t.exponent;return new W(r,n)}div(t){const r=this.base/t.base,n=this.exponent-t.exponent;return new W(r,n)}exp(t){const r=this.base*Math.pow(10,this.exponent),n=t.base*Math.pow(10,t.exponent),s=Math.pow(r,n),a=Math.floor(Math.log10(s)),o=s/Math.pow(10,a);return new W(o,a)}ln(){const t=Math.log(this.base)+this.exponent*Math.log(10);return new W(t,0)}sqrt(){const t=Math.sqrt(this.base),r=this.exponent%2===0,n=this.exponent/2;return r?new W(t,n):new W(t*Math.sqrt(10),Math.floor(n))}toString(){return`${this.base}e${this.exponent}`}roundFloat(t,r){return t.toFixed(r).toString().replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,"")}toRoundedString(t=6){return this.exponent+1>t?`${this.roundFloat(this.base,t)}e${this.exponent}`:this.roundFloat(this.toNumber(),t)}}const yn={H:1.008,He:4.0026022,Li:6.94,Be:9.01218315,B:10.81,C:12.011,N:14.007,O:15.999,F:18.9984031636,Ne:20.17976,Na:22.989769282,Mg:24.305,Al:26.98153857,Si:28.085,P:30.9737619985,S:32.06,Cl:35.45,Ar:39.9481,K:39.09831,Ca:40.0784,Sc:44.9559085,Ti:47.8671,V:50.94151,Cr:51.99616,Mn:54.9380443,Fe:55.8452,Co:58.9331944,Ni:58.69344,Cu:63.5463,Zn:65.382,Ga:69.7231,Ge:72.6308,As:74.9215956,Se:78.9718,Br:79.904,Kr:83.7982,Rb:85.46783,Sr:87.621,Y:88.905842,Zr:91.2242,Nb:92.906372,Mo:95.951,Tc:98,Ru:101.072,Rh:102.905502,Pd:106.421,Ag:107.86822,Cd:112.4144,In:114.8181,Sn:118.7107,Sb:121.7601,Te:127.603,I:126.904473,Xe:131.2936,Cs:132.905451966,Ba:137.3277,La:138.905477,Ce:140.1161,Pr:140.907662,Nd:144.2423,Pm:145,Sm:150.362,Eu:151.9641,Gd:157.253,Tb:158.925352,Dy:162.5001,Ho:164.930332,Er:167.2593,Tm:168.934222,Yb:173.0451,Lu:174.96681,Hf:178.492,Ta:180.947882,W:183.841,Re:186.2071,Os:190.233,Ir:192.2173,Pt:195.0849,Au:196.9665695,Hg:200.5923,Tl:204.38,Pb:207.21,Bi:208.980401,Po:209,At:210,Rn:222,Fr:223,Ra:226,Ac:227,Th:232.03774,Pa:231.035882,U:238.028913,Np:237,Pu:244,Am:243,Cm:247,Bk:247,Cf:251,Es:252,Fm:257,Md:258,No:259,Lr:266,Rf:267,Db:268,Sg:269,Bh:270,Hs:269,Mt:278,Ds:281,Rg:282,Cn:285,Nh:286,Fl:289,Mc:289,Lv:293,Ts:294,Og:294,Uue:315};function ci(e){e=e.replace(/\s+/g,"");const t=/([A-Z][a-z]?)(\d*)/g;function r(a){let o=0;const l=a.matchAll(t);for(const i of l){const u=i[1],v=i[2]?parseInt(i[2],10):1;if(!(u in yn))throw new Error(`Invalid element symbol: ${u}`);o+=yn[u]*v}return o}const n=[];let s=0;for(;s<e.length;){const a=e[s];if(a==="(")n.push("");else if(a===")"){if(!n.length)throw new Error("Unmatched parenthesis in formula");let o=n.pop();s++;let l="";for(;s<e.length&&/\d/.test(e[s]);)l+=e[s],s++;const i=l?parseInt(l,10):1;o=o.repeat(i),n.length?n[n.length-1]+=o:n.push(o);continue}else n.length?n[n.length-1]+=a:n.push(a);s++}return n.length?r(n.join("")):0}class Rt{constructor(t=null){k(this,"functions",{});k(this,"ans");this.functions.sqrt=([r])=>r.sqrt(),this.functions.ln=([r])=>r.ln(),this.ans=t}static getPrecedence(t,r){const n={"+":1,"-":1,"*":2,"/":2,"u-":3,"i*":3,"^":4};return t==="^"&&["u-","i*"].includes(r)||t==="u-"&&r==="u-"||t==="^"&&r==="^"?"right":t===r||n[t]>=n[r]?"left":"right"}evaluate(t){const r=this.tokenize(t),n=this.toRPN(r);return this.evalRPN(n)}insertImplicitMul(t){let r,n,s=0;for(;s<t.length-1;)r=this.classifyToken(t[s]),n=this.classifyToken(t[s+1]),[3,0,1].includes(r)&&[2,4,6].includes(n)?(t.splice(s+1,0,"i*"),s+=2):s++}classifyToken(t){if(isNaN(Number(t))){if(this.functions[t])return 4;if(t==="(")return 2;if(t===")")return 3;if(["+","-","*","/","^","i*"].includes(t))return 5;if(t.startsWith("M(")&&t.endsWith(")"))return 6;if(t==="Ans")return 1;throw Error("unrecognized token")}else return 0}tokenize(t){const r=/M\([^()]*\)|\d+\.?\d*(?:[eE][+-]?\d+)?|\.\d+(?:[eE][+-]?\d+)?|Ans|[()+\-*/^]|\w+/g,n=t.match(r)??[];return this.insertImplicitMul(n),n}toRPN(t){const r=[],n=[];let s=null,a,o,l;for(const i of t){switch(this.classifyToken(i)){case 0:r.push(i);break;case 1:r.push((this.ans??0).toString());break;case 2:n.push(i);break;case 3:for(;n.length&&n[n.length-1]!=="(";)r.push(n.pop());n.pop(),n.length&&this.functions[n[n.length-1]]&&r.push(n.pop());break;case 4:n.push(i);break;case 5:for(a=i==="-"&&(s===null||["+","-","*","/","^","("].includes(s)),o=a?"u-":i;n.length&&Rt.getPrecedence(n[n.length-1],o)==="left";)r.push(n.pop());n.push(o==="i*"?"*":o);break;case 6:if(l=i.match(/^M\(([^()]*)\)$/),l){const u=l[1];r.push(ci(u).toString())}else throw new Error(`Invalid M(...) expression: ${i}`);break}s=i}for(;n.length;)r.push(n.pop());return r}evalRPN(t){const r=[];for(const n of t)if(!isNaN(Number(n)))r.push(W.fromNumber(Number(n)));else if(["+","-","*","/","^"].includes(n)){const s=r.pop(),a=r.pop();switch(n){case"+":r.push(a.add(s));break;case"-":r.push(a.sub(s));break;case"*":r.push(a.mul(s));break;case"/":r.push(a.div(s));break;case"^":r.push(a.exp(s));break}}else if(this.functions[n]){const s=[r.pop()];r.push(this.functions[n](s))}else if(n==="u-"){const s=r.pop();r.push(W.fromNumber(-1).mul(s))}else throw new Error(`Unknown token: ${n}`);return r[0]}}function xn(e,t){t&&t!=="lg"&&t!=="sm"&&t!=="xs"?e.style.fontSize=t.replace("x","em"):e.style.fontSize=""}function di(e,t,r,n,s,a=1,o="",l=""){let i=1,u=1;s&&(s=="horizontal"?i=-1:s=="vertical"?u=-1:i=u=-1),typeof e=="string"&&(e=parseFloat(e)),typeof t=="string"&&(t=parseFloat(t)),typeof r=="string"&&(r=parseFloat(r));const v=`${t*a}${o}`,f=`${r*a}${o}`;let c=`translate(${v},${f}) scale(${i*e},${u*e})`;return n&&(c+=` rotate(${n}${l})`),c}var vi=hr('<title class="svelte-bvo74f"> </title>'),hi=hr('<path class="svelte-bvo74f"></path>'),pi=hr('<path class="svelte-bvo74f"></path><path class="svelte-bvo74f"></path>',1),_i=hr('<svg role="img" xmlns="http://www.w3.org/2000/svg"><!><g class="svelte-bvo74f"><g class="svelte-bvo74f"><!></g></g></svg>');function me(e,t){lr(t,!1);const r=Ve(),n=Ve();let s=D(t,"class",24,()=>{}),a=D(t,"id",24,()=>{}),o=D(t,"style",24,()=>{}),l=D(t,"icon",8),i=D(t,"title",24,()=>{}),u=D(t,"size",24,()=>{}),v=D(t,"color",24,()=>{}),f=D(t,"fw",8,!1),c=D(t,"pull",24,()=>{}),h=D(t,"scale",8,1),p=D(t,"translateX",8,0),y=D(t,"translateY",8,0),T=D(t,"rotate",24,()=>{}),m=D(t,"flip",24,()=>{}),S=D(t,"spin",8,!1),F=D(t,"pulse",8,!1),Q=D(t,"primaryColor",8,""),w=D(t,"secondaryColor",8,""),g=D(t,"primaryOpacity",8,1),b=D(t,"secondaryOpacity",8,.4),L=D(t,"swapOpacity",8,!1),M=Ve();Xt(()=>(d(M),ke(u()),xn),()=>{d(M)&&u()&&xn(d(M),u())}),Xt(()=>ke(l()),()=>{_(r,l()&&l().icon||[0,0,"",[],""])}),Xt(()=>(ke(h()),ke(p()),ke(y()),ke(T()),ke(m())),()=>{_(n,di(h(),p(),y(),T(),m(),512))}),Wn(),vs();var q=Qt(),pr=Je(q);{var _r=_t=>{var _e=_i();let Jt;var Yt=x(_e);{var gr=G=>{var oe=vi(),Ee=x(oe);be(()=>Le(Ee,i())),z(G,oe)};ne(Yt,G=>{i()&&G(gr)})}var We=P(Yt),Wt=x(We),mr=x(Wt);{var br=G=>{var oe=hi();be(()=>{K(oe,"d",(d(r),H(()=>d(r)[4]))),K(oe,"fill",v()||Q()||"currentColor"),K(oe,"transform",`translate(${d(r),H(()=>d(r)[0]/-2)??""} ${d(r),H(()=>d(r)[1]/-2)??""})`)}),z(G,oe)},yr=G=>{var oe=pi(),Ee=Je(oe),Ge=P(Ee);be(()=>{K(Ee,"d",(d(r),H(()=>d(r)[4][0]))),K(Ee,"fill",w()||v()||"currentColor"),K(Ee,"fill-opacity",L()!=!1?g():b()),K(Ee,"transform",`translate(${d(r),H(()=>d(r)[0]/-2)??""} ${d(r),H(()=>d(r)[1]/-2)??""})`),K(Ge,"d",(d(r),H(()=>d(r)[4][1]))),K(Ge,"fill",Q()||v()||"currentColor"),K(Ge,"fill-opacity",L()!=!1?b():g()),K(Ge,"transform",`translate(${d(r),H(()=>d(r)[0]/-2)??""} ${d(r),H(()=>d(r)[1]/-2)??""})`)}),z(G,oe)};ne(mr,G=>{d(r),H(()=>typeof d(r)[4]=="string")?G(br):G(yr,!1)})}Ir(_e,G=>_(M,G),()=>d(M)),be(G=>{K(_e,"id",a()),Jt=Ua(_e,0,`svelte-fa svelte-fa-base ${s()??""}`,"svelte-bvo74f",Jt,G),Va(_e,o()),K(_e,"viewBox",`0 0 ${d(r),H(()=>d(r)[0])??""} ${d(r),H(()=>d(r)[1])??""}`),K(_e,"aria-hidden",i()===void 0),K(We,"transform",`translate(${d(r),H(()=>d(r)[0]/2)??""} ${d(r),H(()=>d(r)[1]/2)??""})`),K(We,"transform-origin",`${d(r),H(()=>d(r)[0]/4)??""} 0`),K(Wt,"transform",d(n))},[()=>({pulse:F(),"svelte-fa-size-lg":u()==="lg","svelte-fa-size-sm":u()==="sm","svelte-fa-size-xs":u()==="xs","svelte-fa-fw":f(),"svelte-fa-pull-left":c()==="left","svelte-fa-pull-right":c()==="right",spin:S()})],zr),z(_t,_e)};ne(pr,_t=>{d(r),H(()=>d(r)[4])&&_t(_r)})}z(e,q),or()}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const gi={prefix:"fas",iconName:"toggle-off",icon:[576,512,[],"f204","M384 128c70.7 0 128 57.3 128 128s-57.3 128-128 128l-192 0c-70.7 0-128-57.3-128-128s57.3-128 128-128l192 0zM576 256c0-106-86-192-192-192L192 64C86 64 0 150 0 256S86 448 192 448l192 0c106 0 192-86 192-192zM192 352a96 96 0 1 0 0-192 96 96 0 1 0 0 192z"]},mi={prefix:"fas",iconName:"toggle-on",icon:[576,512,[],"f205","M192 64C86 64 0 150 0 256S86 448 192 448l192 0c106 0 192-86 192-192s-86-192-192-192L192 64zm192 96a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"]},bi={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},yi={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},xi={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},wi={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},wn={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},En={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},Sn={1:"1",2:"2",3:"3",q:"4",w:"5",e:"6",a:"7",s:"8",d:"9",c:".",x:"0",z:"e",Alt:"Ans",4:"+",r:"-",f:"*",v:"/",5:"^",t:"sqrt(",g:"ln(",b:"M(",Shift:"Enter"," ":"()","`":"Backspace",Tab:"Tab",Escape:"Escape"},kn={1:"1",2:"2",3:"3",p:"+",r:"^",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",".":".",0:"0",e:"e",Alt:"Ans",m:"-",t:"*",d:"/",q:"sqrt(",l:"ln(",n:"M(",Enter:"Enter"," ":"()",Backspace:"Backspace",Tab:"Tab",Escape:"Escape",j:"ArrowDown",k:"ArrowUp"};var Dt,Ht;class Ei{constructor(){te(this,Dt,j(he({})));k(this,"exprHistory",[]);k(this,"ansHistory",[]);k(this,"maxHistoryLen",50);k(this,"maxDigits",12);k(this,"index",this.ansHistory.length-1);te(this,Ht,j(he([])));k(this,"pushHistory",(t,r)=>{this.ansHistory.push(t),this.exprHistory.push(r),this.ansHistory.length>=this.maxHistoryLen?(this.ansHistory.shift(),this.exprHistory.shift()):this.index++,localStorage.setItem("exprHistory",JSON.stringify(this.exprHistory)),localStorage.setItem("ansHistory",JSON.stringify(this.ansHistory))});k(this,"pushTemplate",t=>{this.templates.push(t),localStorage.setItem("templates",JSON.stringify(this.templates))});k(this,"removeTemplate",t=>{const r=this.templates.indexOf(t);r>-1&&this.templates.splice(r,1),localStorage.setItem("templates",JSON.stringify(this.templates))});k(this,"pullFromStorage",()=>{this.keybinds=JSON.parse(localStorage.getItem("keybinds")??"{}"),this.exprHistory=JSON.parse(localStorage.getItem("exprHistory")??"[]"),this.ansHistory=JSON.parse(localStorage.getItem("ansHistory")??"[]"),this.maxHistoryLen=parseInt(localStorage.getItem("maxHistoryLen")??this.maxHistoryLen.toString()),this.index=this.ansHistory.length-1,this.maxDigits=parseInt(localStorage.getItem("maxDigits")??this.maxDigits.toString()),this.templates=JSON.parse(localStorage.getItem("templates")??"[]")});k(this,"handleExport",()=>{const t={};for(let a=0;a<localStorage.length;a++){const o=localStorage.key(a);o&&(["keybinds","exprHistory","ansHistory","templates"].includes(o),t[o]=JSON.parse(localStorage.getItem(o)??"{}"))}const r=JSON.stringify(t,null,2),n=new Blob([r],{type:"application/json"}),s=document.createElement("a");s.href=URL.createObjectURL(n),s.download="qalc_data.json",document.body.appendChild(s),s.click(),document.body.removeChild(s)});k(this,"clearKeybinds",()=>{localStorage.setItem("keybinds","{}"),this.keybinds={},alert("Cleared keybinds!")});k(this,"setOneHandedKeybinds",()=>{localStorage.setItem("keybinds",JSON.stringify(Sn)),this.keybinds=Sn,alert("Set default one-handed keybinds!")});k(this,"setTwoHandedKeybinds",()=>{localStorage.setItem("keybinds",JSON.stringify(kn)),this.keybinds=kn,alert("Set default two-handed keybinds!")});k(this,"handleImport",()=>{const t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=()=>{if(!t.files||t.files.length===0)return alert("No file selected");const r=t.files[0],n=new FileReader;n.onload=()=>{try{const s=JSON.parse(n.result);for(const[a,o]of Object.entries(s))["keybinds","exprHistory","ansHistory"].includes(a)?(localStorage.setItem(a,JSON.stringify(o)),s[a]=JSON.parse(localStorage.getItem(a)??"{}")):localStorage.setItem(a,o);this.pullFromStorage(),alert("Updated your settings!")}catch(s){alert(`Invalid JSON file: ${s}`)}},n.onerror=()=>{alert("Failed to read file")},n.readAsText(r)},t.click()});k(this,"clearHistory",()=>{this.ansHistory=[],this.exprHistory=[],this.index=0,localStorage.setItem("ansHistory","[]"),localStorage.setItem("exprHistory","[]"),alert("Cleared history!")});this.pullFromStorage()}get keybinds(){return d(A(this,Dt))}set keybinds(t){_(A(this,Dt),t,!0)}get templates(){return d(A(this,Ht))}set templates(t){_(A(this,Ht),t,!0)}}Dt=new WeakMap,Ht=new WeakMap;var st,Ft,jt,qt,Kt;class Nn{constructor(t,r){te(this,st);k(this,"numOpenParens",0);k(this,"numCloseParens",0);te(this,Ft,j(he(W.fromNumber(0))));k(this,"molarMassMode",!1);k(this,"storageState");te(this,jt,j(""));te(this,qt,j(""));te(this,Kt,j(!0));k(this,"reset",()=>{this.textarea.value="",this.numOpenParens=0,this.numCloseParens=0,this.molarMassMode=!1,this.errorLine=""});k(this,"goUp",()=>{this.storageState.index>0&&(this.storageState.index--,this.textarea.value=this.storageState.exprHistory[this.storageState.index],this.numOpenParens=this.textarea.value.split("(").length-1,this.numCloseParens=this.textarea.value.split(")").length-1,this.molarMassMode=!1,this.ans=W.fromNumber(this.storageState.ansHistory[this.storageState.index]),this.expr=this.storageState.exprHistory[this.storageState.index])});k(this,"handleKey",t=>{let r=t.key;const n=r in this.storageState.keybinds;let s=this.storageState.keybinds[r]??t.key;if(s!=="Tab"){if(s==="Enter"){if(t.preventDefault(),this.textarea.value==="")return;try{for(;this.numOpenParens>this.numCloseParens;)this.textarea.value+=")",this.numCloseParens++;const a=new Rt(this.ans);this.ans=a.evaluate(this.textarea.value),this.expr=this.textarea.value,this.reset(),this.storageState.pushHistory(this.ans.toNumber(),this.expr)}catch(a){this.errorLine="syntax error",console.log(`syntax error: ${a}`)}return}if(s==="Backspace"){t.preventDefault();const a=this.textarea.selectionStart;if(a>0){const o=this.textarea.value,l=this.textarea.value[a-1];this.textarea.value=o.slice(0,a-1)+o.slice(a),this.textarea.selectionStart=this.textarea.selectionEnd=a-1,l==="("?this.numOpenParens--:l===")"&&this.numCloseParens--}return}if(s==="Escape"){t.preventDefault(),this.reset();return}if(s==="ArrowUp"){t.preventDefault(),this.goUp();return}if(s==="ArrowDown"){t.preventDefault(),this.goDown();return}if(s==="()"){const a=["+","-","*","/","^"];this.molarMassMode?(this.molarMassMode=!1,s=")"):a.includes(this.textarea.value[this.textarea.value.length-1])?s="(":this.numOpenParens>this.numCloseParens?s=")":this.numOpenParens===this.numCloseParens?s="(":s=" "}if(this.numOpenParens+=s.split("(").length-1,this.numCloseParens+=s.split(")").length-1,s==="M("&&(this.molarMassMode=!0),n){t.preventDefault();const{selectionStart:a,selectionEnd:o,value:l}=this.textarea,i=l.slice(0,a),u=l.slice(o),v=i.length+s.length;this.textarea.value=i+s+u,this.textarea.setSelectionRange(v,v)}}});k(this,"handleExprClick",()=>{this.textarea.value=this.expr});k(this,"handleAnsClick",()=>{this.textarea.value=this.ans.toRoundedString(this.storageState.maxDigits)});k(this,"handleScroll",t=>{t.deltaY<0?this.goUp():t.deltaY>0&&this.goDown()});Ie(this,st,j(he(t))),this.storageState=r}get textarea(){return d(A(this,st))}set textarea(t){_(A(this,st),t,!0)}get ans(){return d(A(this,Ft))}set ans(t){_(A(this,Ft),t,!0)}get expr(){return d(A(this,jt))}set expr(t){_(A(this,jt),t,!0)}get errorLine(){return d(A(this,qt))}set errorLine(t){_(A(this,qt),t,!0)}get useKeybinds(){return d(A(this,Kt))}set useKeybinds(t){_(A(this,Kt),t,!0)}goDown(){this.storageState.index<this.storageState.exprHistory.length-1&&(this.storageState.index++,this.textarea.value=this.storageState.exprHistory[this.storageState.index],this.numOpenParens=this.textarea.value.split("(").length-1,this.numCloseParens=this.textarea.value.split(")").length-1,this.molarMassMode=!1,this.ans=W.fromNumber(this.storageState.ansHistory[this.storageState.index]),this.expr=this.storageState.exprHistory[this.storageState.index])}}st=new WeakMap,Ft=new WeakMap,jt=new WeakMap,qt=new WeakMap,Kt=new WeakMap;var at,it,lt,ot,ut,ft;const sr=class sr{constructor(t,r){te(this,at);te(this,it);te(this,lt);te(this,ot);te(this,ut);te(this,ft);k(this,"template");k(this,"values");k(this,"pushValue",t=>{if(this.paramIndex>=this.template.parameters.length)throw new Error("values already full");return this.values.push(t),this.paramIndex++,this.paramValue="",this.paramIndex===this.template.parameters.length});this.template=t,Ie(this,at,j(0)),Ie(this,it,rt(()=>t==null?void 0:t.parameters[this.paramIndex])),Ie(this,lt,j("")),Ie(this,ot,rt(()=>sr.getNextParamKey(r))),Ie(this,ut,rt(()=>sr.getEnterKey(r))),Ie(this,ft,rt(()=>{var n;return this.paramIndex===(((n=t==null?void 0:t.parameters)==null?void 0:n.length)??0)-1})),this.values=[]}get paramIndex(){return d(A(this,at))}set paramIndex(t){_(A(this,at),t,!0)}get paramName(){return d(A(this,it))}set paramName(t){_(A(this,it),t)}get paramValue(){return d(A(this,lt))}set paramValue(t){_(A(this,lt),t,!0)}get nextParamKey(){return d(A(this,ot))}set nextParamKey(t){_(A(this,ot),t)}get enterKey(){return d(A(this,ut))}set enterKey(t){_(A(this,ut),t)}get isLastParam(){return d(A(this,ft))}set isLastParam(t){_(A(this,ft),t)}static getNextParamKey(t){for(const r of Object.keys(t))if(t[r]==="nextParameter")return r;return"Tab"}static getEnterKey(t){for(const r of Object.keys(t))if(t[r]==="Enter")return r;return"Enter"}};at=new WeakMap,it=new WeakMap,lt=new WeakMap,ot=new WeakMap,ut=new WeakMap,ft=new WeakMap;let Lr=sr;var Si=(e,t)=>{_(t,!d(t))},ki=le("<p> </p>"),Ni=le("<p> </p>"),Pi=le('<div class="text-[0.5rem] flex gap-2 items-center"><textarea class="p-[2px] pl-1 overflow-hidden border-2 rounded resize-none whitespace-nowrap" rows="1"></textarea> <!></div>'),Mi=(e,t)=>{_(t,!d(t))},Oi=(e,t)=>{_(t,!d(t))},Ti=le('<textarea rows="10" class="w-full p-1 border border-gray-300 rounded-b rounded-tr resize-none focus:outline-none focus:ring-2"></textarea>'),Ci=le('<textarea rows="1" class="w-full p-1 overflow-hidden border border-gray-300 rounded-b rounded-tr resize-none focus:outline-none focus:ring-2"></textarea>'),Ai=le('<div class="flex flex-col gap-2 pl-4"><div><p class="inline-block p-1 font-bold border border-b-0 border-gray-300 rounded-t border-rfont-bold">Name</p> <textarea rows="1" class="w-full p-1 overflow-hidden border border-gray-300 rounded-b rounded-tr resize-none focus:outline-none focus:ring-2" placeholder="my cool template"></textarea></div> <div><p class="inline-block p-1 font-bold border border-b-0 border-gray-300 rounded-t border-rfont-bold">Type</p> <select class="w-full p-1 border border-gray-300 rounded-b rounded-tr focus:outline-none focus:ring-2"><option>Expression</option><option>JavaScript</option></select></div> <div><p class="inline-block p-1 font-bold border border-b-0 border-gray-300 rounded-t border-rfont-bold">Parameters</p> <textarea rows="1" class="w-full p-1 overflow-hidden border border-gray-300 rounded-b rounded-tr resize-none focus:outline-none focus:ring-2"></textarea></div> <div><p class="inline-block p-1 font-bold border border-b-0 border-gray-300 rounded-t border-rfont-bold"> </p> <!></div> <div><button class="inline-block p-1 font-bold bg-gray-300 border-2 rounded hover:cursor-pointer">Add</button></div></div>'),Ii=(e,t,r)=>{confirm(`Delete "${d(t).name}"?`)&&r.removeTemplate(d(t))},Li=le('<div class="p-1 font-bold border-2 bg-gray-200 flex justify-between items-center"><button class="hover:cursor-pointer"> </button> <button class="hover:cursor-pointer"><!></button></div>'),Ri=le('<div class="flex flex-col w-full gap-2 pl-4"><button class="flex items-center gap-1 font-bold hover:cursor-pointer"><!> <p>Add</p></button> <!> <div class="border-gray-300 border-1 rounded p-2"><input type="text" placeholder="Search templates..." class="w-full p-1 mb-2 border border-gray-400 rounded"/> <div class="grid grid-cols-1 gap-2 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3"></div></div></div>'),Di=le('<div class="flex flex-col items-end gap-4 p-2 w-full"><button class="text-gray-500 hover:cursor-pointer"> </button> <button class="font-bold hover:cursor-pointer"> </button></div> <textarea id="textarea" class="w-full h-auto p-2 overflow-hidden font-mono border-2 rounded resize-none whitespace-nowrap" rows="1"></textarea> <!> <p class="text-red-700 font-bold text-[0.5rem]"> </p> <div class="flex flex-col gap-1 w-full text-[0.5rem]"><button class="flex items-center gap-1 font-bold hover:cursor-pointer"><!> <p>Templates</p></button> <!></div>',1),Hi=le('<div class="flex gap-4"><button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Use one-handed preset</button> <button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Use two-handed preset</button></div> <div class="flex gap-4"><button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Import data from file</button> <button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Export data to file</button></div> <div class="flex gap-4"><button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Clear keybinds</button> <button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Clear history</button></div>',1),Fi=le('<main><div class="absolute top-0 m-2 flex flex-col gap-2"><div class="flex justify-between"><button class="m-2 font-bold hover:cursor-pointer"><!></button> <button class="m-2 font-bold"><a href="https://github.com/storchdev/qalc" class="hover:cursor-pointer"><!></a></button></div> <div class="flex items-center gap-2 border-2 rounded p-2"><p class="text-[0.5rem] font-bold">Keybinds</p> <button class="hover:cursor-pointer"><!></button></div></div> <div class="flex items-center justify-center h-[100vh]"><div class="flex flex-col items-center gap-4 xl:w-[50%] lg:w-[60%] md:w-[75%] w-[90%]"><!></div></div></main>');function ji(e,t){lr(t,!0);const r=`// nCr example
// only write the function body
// ALWAYS return a number!

if (r > n) return 0;
if (r === 0 || r === n) return 1;

r = Math.min(r, n - r);
let result = 1;

for (let i = 1; i <= r; i++) {
    result *= (n - i + 1);
    result /= i;
}

return result;
`,n="n,r",s="(-{b}+sqrt({b}^2-4*{a}*{c}))/(2*{a})",a="a,b,c",o=document.createElement("textarea"),l=new Ei,i=new Nn(o,l);let u=j(!0),v=j(!1),f=he({name:"",type:"expression",parameters:"",content:""}),c=j(!1),h=j(void 0);function p(E){if(E!==void 0)return new Lr(E,l.keybinds)}let y=rt(()=>p(d(h)));const T=document.createElement("textarea");let m=new Nn(T,l);function S(E){let de=E.key;E.key===" "?de="Space":E.key==="`"&&(de="Backtick");let V=l.keybinds[de]??E.key;if(V==="Escape"){_(h,void 0),i.textarea.focus();return}if(V==="Tab"&&d(y)){E.preventDefault();const B=d(y).pushValue(m.textarea.value);if(m.textarea.value="",B){const Z=d(y).template;let ve;if(Z.type==="javascript"){let J=[];const R=new Rt(i.ans);for(const Be of d(y).values)try{J.push(R.evaluate(Be).toNumber())}catch{alert(`error in evaluating parameter: ${Be}`),_(h,void 0);return}let ze;try{ze=new Function(...Z.parameters,Z.content)(...J)}catch(Be){alert(`code errored: ${Be}`),_(h,void 0);return}if(typeof ze!="number"){alert("code did not return a number!"),_(h,void 0);return}ve=W.fromNumber(ze).toRoundedString(l.maxDigits)}else{let J=0,R;ve=Z.content.replace(/\{[^}]+\}/g,()=>(R=d(y).values[J],J++,R))}_(h,void 0);const Se=i.textarea.selectionStart,Te=i.textarea.selectionEnd,Ze=i.textarea.value.substring(0,Se),Xe=i.textarea.value.substring(Te);i.textarea.value=Ze+ve+Xe;const Qe=Se+ve.length;i.textarea.selectionStart=i.textarea.selectionEnd=Qe,i.textarea.focus()}}else m.handleKey(E)}let F=j(""),Q=rt(()=>l.templates.filter(E=>E.name.toLowerCase().includes(d(F).toLowerCase())));function w(){if(f.name===""){alert("name cannot be empty!");return}if(f.name.length>10){alert("name must be 10 characters or under!");return}for(const V of l.templates)if(V.name===f.name){alert("another template already has this name!");return}const E=f.parameters.split(",");if(f.parameters===""){alert("include at least 1 parameter!");return}for(const V of E)try{new Function(`let ${V}`)}catch{alert(`invalid parameter name: ${V}`);return}if(f.type==="expression"){const V=[...f.content.matchAll(/\{([^}]+)\}/g)].map(B=>B[1]);if(V.length===0){alert("include at least 1 parameter in this expression! (use {})");return}for(const B of V)if(!E.includes(B)){alert(`expression includes unspecified parameter: ${B}`);return}try{const B=f.content.replace(/\{[^}]+\}/g,()=>"1");new Rt().evaluate(B)}catch{alert("expression contains a syntax error!");return}}else if(f.type==="javascript"){let V;try{V=Function(...E,f.content)}catch(Z){alert(`code failed to compile: ${Z}`);return}let B;try{const Z=E.map((ve,Se)=>Se);B=V(...Z)}catch(Z){alert(`code failed to run on test arguments: ${Z}`);return}typeof B!="number"&&alert("code did not return a number!")}else{alert("unknown template type!");return}_(v,!1);const de={name:f.name,type:f.type,parameters:E,content:f.content};l.pushTemplate(de)}function g(){i.useKeybinds=!i.useKeybinds,m.useKeybinds=!m.useKeybinds}var b=Fi(),L=x(b),M=x(L),q=x(M);q.__click=[Si,c];var pr=x(q);{var _r=E=>{me(E,{get icon(){return wi}})},_t=E=>{me(E,{get icon(){return xi}})};ne(pr,E=>{d(c)?E(_t,!1):E(_r)})}var _e=P(q,2),Jt=x(_e),Yt=x(Jt);me(Yt,{get icon(){return bi}});var gr=P(M,2),We=P(x(gr),2);We.__click=g;var Wt=x(We);{var mr=E=>{me(E,{get icon(){return mi}})},br=E=>{me(E,{get icon(){return gi}})};ne(Wt,E=>{i.useKeybinds?E(mr):E(br,!1)})}var yr=P(L,2),G=x(yr),oe=x(G);{var Ee=E=>{var de=Di(),V=Je(de),B=x(V);B.__click=function(...I){var Y;(Y=i.handleExprClick)==null||Y.apply(this,I)};var Z=x(B),ve=P(B,2);ve.__click=function(...I){var Y;(Y=i.handleAnsClick)==null||Y.apply(this,I)};var Se=x(ve),Te=P(V,2);Te.__keydown=function(...I){var Y;(Y=i.handleKey)==null||Y.apply(this,I)},Ir(Te,I=>i.textarea=I,()=>i==null?void 0:i.textarea);var Ze=P(Te,2);{var Xe=I=>{var Y=Pi(),Ce=x(Y);Ce.__keydown=S,Ir(Ce,$=>m.textarea=$,()=>m==null?void 0:m.textarea);var xr=P(Ce,2);{var wr=$=>{var ge=ki(),gt=x(ge);be(()=>{var Ae;return Le(gt,`Press ${((Ae=d(y))==null?void 0:Ae.nextParamKey)??""} to input the
                                next parameter!`)}),z($,ge)},Er=$=>{var ge=Ni(),gt=x(ge);be(()=>{var Ae;return Le(gt,`Press ${((Ae=d(y))==null?void 0:Ae.nextParamKey)??""} to finish!`)}),z($,ge)};ne(xr,$=>{var ge;(ge=d(y))!=null&&ge.isLastParam?$(Er,!1):$(wr)})}be(()=>{var $;return K(Ce,"placeholder",($=d(y))==null?void 0:$.paramName)}),z(I,Y)};ne(Ze,I=>{d(h)&&I(Xe)})}var Qe=P(Ze,2),J=x(Qe),R=P(Qe,2),ze=x(R);ze.__click=[Mi,u];var Be=x(ze);{var Yr=I=>{me(I,{get icon(){return wn}})},ms=I=>{me(I,{get icon(){return En}})};ne(Be,I=>{d(u)?I(Yr):I(ms,!1)})}var bs=P(ze,2);{var ys=I=>{var Y=Ri(),Ce=x(Y);Ce.__click=[Oi,v];var xr=x(Ce);{var wr=ee=>{me(ee,{get icon(){return wn}})},Er=ee=>{me(ee,{get icon(){return En}})};ne(xr,ee=>{d(v)?ee(wr):ee(Er,!1)})}var $=P(Ce,2);{var ge=ee=>{var $e=Ai(),mt=x($e),bt=P(x(mt),2),Gt=P(mt,2),yt=P(x(Gt),2),xt=x(yt);xt.value=xt.__value="expression";var Wr=P(xt);Wr.value=Wr.__value="javascript";var Gr=P(Gt,2),Zr=P(x(Gr),2),Xr=P(Gr,2),Qr=x(Xr),ws=x(Qr),Es=P(Qr,2);{var Ss=ue=>{var Ue=Ti();K(Ue,"placeholder",r),Et(Ue,()=>f.content,Sr=>f.content=Sr),z(ue,Ue)},ks=ue=>{var Ue=Ci();K(Ue,"placeholder",s),Et(Ue,()=>f.content,Sr=>f.content=Sr),z(ue,Ue)};ne(Es,ue=>{f.type==="javascript"?ue(Ss):ue(ks,!1)})}var Ns=P(Xr,2),Ps=x(Ns);Ps.__click=w,be(()=>{K(Zr,"placeholder",f.type==="javascript"?n:a),Le(ws,f.type==="javascript"?"Code":"Expression")}),Et(bt,()=>f.name,ue=>f.name=ue),Ya(yt,()=>f.type,ue=>f.type=ue),Et(Zr,()=>f.parameters,ue=>f.parameters=ue),z(ee,$e)};ne($,ee=>{d(v)&&ee(ge)})}var gt=P($,2),Ae=x(gt),xs=P(Ae,2);Fa(xs,21,()=>d(Q),Da,(ee,$e)=>{var mt=Li(),bt=x(mt);bt.__click=()=>{_(h,d($e),!0),setTimeout(()=>{m.textarea.focus()},100)};var Gt=x(bt),yt=P(bt,2);yt.__click=[Ii,$e,l];var xt=x(yt);me(xt,{get icon(){return yi}}),be(()=>Le(Gt,d($e).name)),z(ee,mt)}),Et(Ae,()=>d(F),ee=>_(F,ee)),z(I,Y)};ne(bs,I=>{d(u)&&I(ys)})}be(I=>{Le(Z,i.expr),Le(Se,`= ${I??""}`),Le(J,i.errorLine)},[()=>i.ans.toRoundedString(l.maxDigits)]),Ta("wheel",Te,function(...I){var Y;(Y=i.handleScroll)==null||Y.apply(this,I)}),z(E,de)},Ge=E=>{var de=Hi(),V=Je(de),B=x(V);B.__click=function(...J){var R;(R=l.setOneHandedKeybinds)==null||R.apply(this,J)};var Z=P(B,2);Z.__click=function(...J){var R;(R=l.setTwoHandedKeybinds)==null||R.apply(this,J)};var ve=P(V,2),Se=x(ve);Se.__click=function(...J){var R;(R=l.handleImport)==null||R.apply(this,J)};var Te=P(Se,2);Te.__click=function(...J){var R;(R=l.handleExport)==null||R.apply(this,J)};var Ze=P(ve,2),Xe=x(Ze);Xe.__click=function(...J){var R;(R=l.clearKeybinds)==null||R.apply(this,J)};var Qe=P(Xe,2);Qe.__click=function(...J){var R;(R=l.clearHistory)==null||R.apply(this,J)},z(E,de)};ne(oe,E=>{d(c)?E(Ge,!1):E(Ee)})}z(e,b),or()}Ca(["click","keydown"]);var qi=le('<main><p class="text-red-500 font-bold">Page Not Found!</p></main>');function Ki(e){var t=qi();z(e,t)}var zi=le("<main><!></main>");function Bi(e){const t={"/":ji,"*":Ki};var r=zi(),n=x(r);fi(n,{get routes(){return t}}),z(e,r)}Ia(Bi,{target:document.getElementById("app")});

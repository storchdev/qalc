var bs=Object.defineProperty;var Vr=e=>{throw TypeError(e)};var ys=(e,t,r)=>t in e?bs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var S=(e,t,r)=>ys(e,typeof t!="symbol"?t+"":t,r),Jr=(e,t,r)=>t.has(e)||Vr("Cannot "+r);var L=(e,t,r)=>(Jr(e,t,"read from private field"),r?r.call(e):t.get(e)),re=(e,t,r)=>t.has(e)?Vr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Me=(e,t,r,n)=>(Jr(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();const Yr=!1;var it=Array.isArray,xs=Array.prototype.indexOf,Nr=Array.from,ws=Object.defineProperty,Le=Object.getOwnPropertyDescriptor,bn=Object.getOwnPropertyDescriptors,Es=Object.prototype,Ss=Array.prototype,Or=Object.getPrototypeOf,Wr=Object.isExtensible;function gt(e){return typeof e=="function"}const $e=()=>{};function ks(e){return e()}function Et(e){for(var t=0;t<e.length;t++)e[t]()}const ve=2,Cr=4,Ft=8,Mr=16,Ne=32,ot=64,Tr=128,oe=256,Gt=512,le=1024,Pe=2048,De=4096,ke=8192,Ir=16384,yn=32768,tr=65536,Gr=1<<17,Ps=1<<18,xn=1<<19,yr=1<<20,Ar=1<<21,xe=Symbol("$state"),wn=Symbol("legacy props"),Ns=Symbol(""),En=new class extends Error{constructor(){super(...arguments);S(this,"name","StaleReactionError");S(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Sn(e){return e===this.v}function kn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Pn(e){return!kn(e,this.v)}function Os(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Cs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ms(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ts(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Is(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function As(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ls(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Rs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Hs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let lt=!1,Ds=!1;function Fs(){lt=!0}const js=1,Ks=2,qs=16,Bs=1,Us=2,zs=4,Vs=8,Js=16,Nn=1,Ys=2,ne=Symbol(),Ws="http://www.w3.org/1999/xhtml";function rr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let O=null;function Zr(e){O=e}function nr(e,t=!1,r){var n=O={p:O,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};lt&&!t&&(O.l={s:null,u:null,r1:[],r2:kt(!1)}),Hr(()=>{n.d=!0})}function sr(e){const t=O;if(t!==null){const l=t.e;if(l!==null){var r=I,n=k;t.e=null;try{for(var s=0;s<l.length;s++){var a=l[s];He(a.effect),we(a.reaction),Dn(a.fn)}}finally{He(r),we(n)}}O=t.p,t.m=!0}return{}}function jt(){return!lt||O!==null&&O.l===null}function pe(e){if(typeof e!="object"||e===null||xe in e)return e;const t=Or(e);if(t!==Es&&t!==Ss)return e;var r=new Map,n=it(e),s=B(0),a=k,l=o=>{var i=k;we(a);var u=o();return we(i),u};return n&&r.set("length",B(e.length)),new Proxy(e,{defineProperty(o,i,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ls();var v=r.get(i);return v===void 0?v=l(()=>{var f=B(u.value);return r.set(i,f),f}):g(v,u.value,!0),!0},deleteProperty(o,i){var u=r.get(i);if(u===void 0){if(i in o){const d=l(()=>B(ne));r.set(i,d),gr(s)}}else{if(n&&typeof i=="string"){var v=r.get("length"),f=Number(i);Number.isInteger(f)&&f<v.v&&g(v,f)}g(u,ne),gr(s)}return!0},get(o,i,u){var h;if(i===xe)return e;var v=r.get(i),f=i in o;if(v===void 0&&(!f||(h=Le(o,i))!=null&&h.writable)&&(v=l(()=>{var p=pe(f?o[i]:ne),y=B(p);return y}),r.set(i,v)),v!==void 0){var d=c(v);return d===ne?void 0:d}return Reflect.get(o,i,u)},getOwnPropertyDescriptor(o,i){var u=Reflect.getOwnPropertyDescriptor(o,i);if(u&&"value"in u){var v=r.get(i);v&&(u.value=c(v))}else if(u===void 0){var f=r.get(i),d=f==null?void 0:f.v;if(f!==void 0&&d!==ne)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(o,i){var d;if(i===xe)return!0;var u=r.get(i),v=u!==void 0&&u.v!==ne||Reflect.has(o,i);if(u!==void 0||I!==null&&(!v||(d=Le(o,i))!=null&&d.writable)){u===void 0&&(u=l(()=>{var h=v?pe(o[i]):ne,p=B(h);return p}),r.set(i,u));var f=c(u);if(f===ne)return!1}return v},set(o,i,u,v){var M;var f=r.get(i),d=i in o;if(n&&i==="length")for(var h=u;h<f.v;h+=1){var p=r.get(h+"");p!==void 0?g(p,ne):h in o&&(p=l(()=>B(ne)),r.set(h+"",p))}if(f===void 0)(!d||(M=Le(o,i))!=null&&M.writable)&&(f=l(()=>B(void 0)),g(f,pe(u)),r.set(i,f));else{d=f.v!==ne;var y=l(()=>pe(u));g(f,y)}var C=Reflect.getOwnPropertyDescriptor(o,i);if(C!=null&&C.set&&C.set.call(v,u),!d){if(n&&typeof i=="string"){var m=r.get("length"),w=Number(i);Number.isInteger(w)&&w>=m.v&&g(m,w+1)}gr(s)}return!0},ownKeys(o){c(s);var i=Reflect.ownKeys(o).filter(f=>{var d=r.get(f);return d===void 0||d.v!==ne});for(var[u,v]of r)v.v!==ne&&!(u in o)&&i.push(u);return i},setPrototypeOf(){Rs()}})}function gr(e,t=1){g(e,e.v+t)}function $r(e){try{if(e!==null&&typeof e=="object"&&xe in e)return e[xe]}catch{}return e}function Gs(e,t){return Object.is($r(e),$r(t))}function Kt(e){var t=ve|Pe,r=k!==null&&(k.f&ve)!==0?k:null;return I===null||r!==null&&(r.f&oe)!==0?t|=oe:I.f|=xn,{ctx:O,deps:null,effects:null,equals:Sn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??I,ac:null}}function Ie(e){const t=Kt(e);return Wn(t),t}function Lr(e){const t=Kt(e);return t.equals=Pn,t}function On(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)Re(t[r])}}function Zs(e){for(var t=e.parent;t!==null;){if((t.f&ve)===0)return t;t=t.parent}return null}function Cn(e){var t,r=I;He(Zs(e));try{On(e),t=$n(e)}finally{He(r)}return t}function Mn(e){var t=Cn(e);if(e.equals(t)||(e.v=t,e.wv=Gn()),!ut){var r=(Ae||(e.f&oe)!==0)&&e.deps!==null?De:le;_e(e,r)}}const St=new Map;function kt(e,t){var r={f:0,v:e,reactions:null,equals:Sn,rv:0,wv:0};return r}function B(e,t){const r=kt(e);return Wn(r),r}function Be(e,t=!1,r=!0){var s;const n=kt(e);return t||(n.equals=Pn),lt&&r&&O!==null&&O.l!==null&&((s=O.l).s??(s.s=[])).push(n),n}function g(e,t,r=!1){k!==null&&(!ye||(k.f&Gr)!==0)&&jt()&&(k.f&(ve|Mr|Gr))!==0&&!((J==null?void 0:J.reaction)===k&&J.sources.includes(e))&&Hs();let n=r?pe(t):t;return Tn(e,n)}function Tn(e,t){if(!e.equals(t)){var r=e.v;ut?St.set(e,t):St.set(e,r),e.v=t,(e.f&ve)!==0&&((e.f&Pe)!==0&&Cn(e),_e(e,(e.f&oe)===0?le:De)),e.wv=Gn(),In(e,Pe),jt()&&I!==null&&(I.f&le)!==0&&(I.f&(Ne|ot))===0&&(ce===null?ua([e]):ce.push(e))}return t}function In(e,t){var r=e.reactions;if(r!==null)for(var n=jt(),s=r.length,a=0;a<s;a++){var l=r[a],o=l.f;(o&Pe)===0&&(!n&&l===I||(_e(l,t),(o&(le|oe))!==0&&((o&ve)!==0?In(l,De):ur(l))))}}function $s(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let Xs=!1;var Xr,An,Ln,Rn;function Qs(){if(Xr===void 0){Xr=window,An=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Ln=Le(t,"firstChild").get,Rn=Le(t,"nextSibling").get,Wr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Wr(r)&&(r.__t=void 0)}}function Rr(e=""){return document.createTextNode(e)}function Se(e){return Ln.call(e)}function ar(e){return Rn.call(e)}function E(e,t){return Se(e)}function Ue(e,t){{var r=Se(e);return r instanceof Comment&&r.data===""?ar(r):r}}function T(e,t=1,r=!1){let n=e;for(;t--;)n=ar(n);return n}function ea(e){e.textContent=""}function Hn(e){I===null&&k===null&&Ms(),k!==null&&(k.f&oe)!==0&&I===null&&Cs(),ut&&Os()}function ta(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Fe(e,t,r,n=!0){var s=I,a={ctx:O,deps:null,nodes_start:null,nodes_end:null,f:e|Pe,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{lr(a),a.f|=yn}catch(i){throw Re(a),i}else t!==null&&ur(a);var l=r&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(xn|Tr))===0;if(!l&&n&&(s!==null&&ta(a,s),k!==null&&(k.f&ve)!==0)){var o=k;(o.effects??(o.effects=[])).push(a)}return a}function Hr(e){const t=Fe(Ft,null,!1);return _e(t,le),t.teardown=e,t}function xr(e){Hn();var t=I!==null&&(I.f&Ne)!==0&&O!==null&&!O.m;if(t){var r=O;(r.e??(r.e=[])).push({fn:e,effect:I,reaction:k})}else return Dn(e)}function Dn(e){return Fe(Cr|Ar,e,!1)}function ra(e){return Hn(),Fe(Ft|Ar,e,!0)}function na(e){const t=Fe(ot,e,!0);return(r={})=>new Promise(n=>{r.outro?Pt(t,()=>{Re(t),n(void 0)}):(Re(t),n(void 0))})}function Fn(e){return Fe(Cr,e,!1)}function Yt(e,t){var r=O,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=ir(()=>{e(),!n.ran&&(n.ran=!0,g(r.l.r2,!0),F(t))})}function jn(){var e=O;ir(()=>{if(c(e.l.r2)){for(var t of e.l.r1){var r=t.effect;(r.f&le)!==0&&_e(r,De),qt(r)&&lr(r),t.ran=!1}e.l.r2.v=!1}})}function ir(e){return Fe(Ft,e,!0)}function he(e,t=[],r=Kt){const n=t.map(r);return or(()=>e(...n.map(c)))}function or(e,t=0){var r=Fe(Ft|Mr|t,e,!0);return r}function at(e,t=!0){return Fe(Ft|Ne,e,!0,t)}function Kn(e){var t=e.teardown;if(t!==null){const r=ut,n=k;Qr(!0),we(null);try{t.call(null)}finally{Qr(r),we(n)}}}function qn(e,t=!1){var s;var r=e.first;for(e.first=e.last=null;r!==null;){(s=r.ac)==null||s.abort(En);var n=r.next;(r.f&ot)!==0?r.parent=null:Re(r,t),r=n}}function sa(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Ne)===0&&Re(t),t=r}}function Re(e,t=!0){var r=!1;(t||(e.f&Ps)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(aa(e.nodes_start,e.nodes_end),r=!0),qn(e,t&&!r),Qt(e,0),_e(e,Ir);var n=e.transitions;if(n!==null)for(const a of n)a.stop();Kn(e);var s=e.parent;s!==null&&s.first!==null&&Bn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function aa(e,t){for(;e!==null;){var r=e===t?null:ar(e);e.remove(),e=r}}function Bn(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Pt(e,t){var r=[];Dr(e,r,!0),Un(r,()=>{Re(e),t&&t()})}function Un(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var s of e)s.out(n)}else t()}function Dr(e,t,r){if((e.f&ke)===0){if(e.f^=ke,e.transitions!==null)for(const l of e.transitions)(l.is_global||r)&&t.push(l);for(var n=e.first;n!==null;){var s=n.next,a=(n.f&tr)!==0||(n.f&Ne)!==0;Dr(n,t,a?r:!1),n=s}}}function Zt(e){zn(e,!0)}function zn(e,t){if((e.f&ke)!==0){e.f^=ke;for(var r=e.first;r!==null;){var n=r.next,s=(r.f&tr)!==0||(r.f&Ne)!==0;zn(r,s?t:!1),r=n}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let Nt=[],wr=[];function Vn(){var e=Nt;Nt=[],Et(e)}function ia(){var e=wr;wr=[],Et(e)}function Jn(e){Nt.length===0&&queueMicrotask(Vn),Nt.push(e)}function oa(){Nt.length>0&&Vn(),wr.length>0&&ia()}function la(e){var t=I;if((t.f&yn)===0){if((t.f&Tr)===0)throw e;t.fn(e)}else Yn(e,t)}function Yn(e,t){for(;t!==null;){if((t.f&Tr)!==0)try{t.b.error(e);return}catch{}t=t.parent}throw e}let Ot=!1,Ct=null,ze=!1,ut=!1;function Qr(e){ut=e}let xt=[];let k=null,ye=!1;function we(e){k=e}let I=null;function He(e){I=e}let J=null;function Wn(e){k!==null&&k.f&yr&&(J===null?J={reaction:k,sources:[e]}:J.sources.push(e))}let $=null,ie=0,ce=null;function ua(e){ce=e}let $t=1,Xt=0,Ae=!1;function Gn(){return++$t}function qt(e){var f;var t=e.f;if((t&Pe)!==0)return!0;if((t&De)!==0){var r=e.deps,n=(t&oe)!==0;if(r!==null){var s,a,l=(t&Gt)!==0,o=n&&I!==null&&!Ae,i=r.length;if(l||o){var u=e,v=u.parent;for(s=0;s<i;s++)a=r[s],(l||!((f=a==null?void 0:a.reactions)!=null&&f.includes(u)))&&(a.reactions??(a.reactions=[])).push(u);l&&(u.f^=Gt),o&&v!==null&&(v.f&oe)===0&&(u.f^=oe)}for(s=0;s<i;s++)if(a=r[s],qt(a)&&Mn(a),a.wv>e.wv)return!0}(!n||I!==null&&!Ae)&&_e(e,le)}return!1}function Zn(e,t,r=!0){var n=e.reactions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];(J==null?void 0:J.reaction)===k&&J.sources.includes(e)||((a.f&ve)!==0?Zn(a,t,!1):t===a&&(r?_e(a,Pe):(a.f&le)!==0&&_e(a,De),ur(a)))}}function $n(e){var h;var t=$,r=ie,n=ce,s=k,a=Ae,l=J,o=O,i=ye,u=e.f;$=null,ie=0,ce=null,Ae=(u&oe)!==0&&(ye||!ze||k===null),k=(u&(Ne|ot))===0?e:null,J=null,Zr(e.ctx),ye=!1,Xt++,e.f|=yr,e.ac!==null&&(e.ac.abort(En),e.ac=null);try{var v=(0,e.fn)(),f=e.deps;if($!==null){var d;if(Qt(e,ie),f!==null&&ie>0)for(f.length=ie+$.length,d=0;d<$.length;d++)f[ie+d]=$[d];else e.deps=f=$;if(!Ae||(u&ve)!==0&&e.reactions!==null)for(d=ie;d<f.length;d++)((h=f[d]).reactions??(h.reactions=[])).push(e)}else f!==null&&ie<f.length&&(Qt(e,ie),f.length=ie);if(jt()&&ce!==null&&!ye&&f!==null&&(e.f&(ve|De|Pe))===0)for(d=0;d<ce.length;d++)Zn(ce[d],e);return s!==null&&s!==e&&(Xt++,ce!==null&&(n===null?n=ce:n.push(...ce))),v}catch(p){la(p)}finally{$=t,ie=r,ce=n,k=s,Ae=a,J=l,Zr(o),ye=i,e.f^=yr}}function fa(e,t){let r=t.reactions;if(r!==null){var n=xs.call(r,e);if(n!==-1){var s=r.length-1;s===0?r=t.reactions=null:(r[n]=r[s],r.pop())}}r===null&&(t.f&ve)!==0&&($===null||!$.includes(t))&&(_e(t,De),(t.f&(oe|Gt))===0&&(t.f^=Gt),On(t),Qt(t,0))}function Qt(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)fa(e,r[n])}function lr(e){var t=e.f;if((t&Ir)===0){_e(e,le);var r=I,n=ze;I=e,ze=!0;try{(t&Mr)!==0?sa(e):qn(e),Kn(e);var s=$n(e);e.teardown=typeof s=="function"?s:null,e.wv=$t;var a;Yr&&Ds&&(e.f&Pe)!==0&&e.deps}finally{ze=n,I=r}}}function ca(){try{Ts()}catch(e){if(Ct!==null)Yn(e,Ct);else throw e}}function Xn(){var e=ze;try{var t=0;for(ze=!0;xt.length>0;){t++>1e3&&ca();var r=xt,n=r.length;xt=[];for(var s=0;s<n;s++){var a=va(r[s]);da(a)}St.clear()}}finally{Ot=!1,ze=e,Ct=null}}function da(e){var t=e.length;if(t!==0){for(var r=0;r<t;r++){var n=e[r];if((n.f&(Ir|ke))===0&&qt(n)){var s=$t;if(lr(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Bn(n):n.fn=null),$t>s&&(n.f&Ar)!==0)break}}for(;r<t;r+=1)ur(e[r])}}function ur(e){Ot||(Ot=!0,queueMicrotask(Xn));for(var t=Ct=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(ot|Ne))!==0){if((r&le)===0)return;t.f^=le}}xt.push(t)}function va(e){for(var t=[],r=e;r!==null;){var n=r.f,s=(n&(Ne|ot))!==0,a=s&&(n&le)!==0;if(!a&&(n&ke)===0){(n&Cr)!==0?t.push(r):s?r.f^=le:qt(r)&&lr(r);var l=r.first;if(l!==null){r=l;continue}}var o=r.parent;for(r=r.next;r===null&&o!==null;)r=o.next,o=o.parent}return t}function ha(e){for(var t;;){if(oa(),xt.length===0)return Ot=!1,Ct=null,t;Ot=!0,Xn()}}async function pa(){await Promise.resolve(),ha()}function c(e){var t=e.f,r=(t&ve)!==0;if(k!==null&&!ye){if((J==null?void 0:J.reaction)!==k||!(J!=null&&J.sources.includes(e))){var n=k.deps;e.rv<Xt&&(e.rv=Xt,$===null&&n!==null&&n[ie]===e?ie++:$===null?$=[e]:(!Ae||!$.includes(e))&&$.push(e))}}else if(r&&e.deps===null&&e.effects===null){var s=e,a=s.parent;a!==null&&(a.f&oe)===0&&(s.f^=oe)}return r&&(s=e,qt(s)&&Mn(s)),ut&&St.has(e)?St.get(e):e.v}function F(e){var t=ye;try{return ye=!0,e()}finally{ye=t}}const _a=-7169;function _e(e,t){e.f=e.f&_a|t}function Ee(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(xe in e)Er(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&xe in r&&Er(r)}}}function Er(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{Er(e[n],t)}catch{}const r=Or(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=bn(r);for(let s in n){const a=n[s].get;if(a)try{a.call(e)}catch{}}}}}const ga=["touchstart","touchmove"];function ma(e){return ga.includes(e)}let en=!1;function ba(){en||(en=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Qn(e){var t=k,r=I;we(null),He(null);try{return e()}finally{we(t),He(r)}}function es(e,t,r,n=r){e.addEventListener(t,()=>Qn(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),ba()}const ts=new Set,Sr=new Set;function ya(e,t,r,n={}){function s(a){if(n.capture||yt.call(t,a),!a.cancelBubble)return Qn(()=>r==null?void 0:r.call(this,a))}return Jn(()=>{t.addEventListener(e,s,n)}),s}function xa(e,t,r,n,s){var a={capture:n,passive:s},l=ya(e,t,r,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Hr(()=>{t.removeEventListener(e,l,a)})}function wa(e){for(var t=0;t<e.length;t++)ts.add(e[t]);for(var r of Sr)r(e)}function yt(e){var w;var t=this,r=t.ownerDocument,n=e.type,s=((w=e.composedPath)==null?void 0:w.call(e))||[],a=s[0]||e.target,l=0,o=e.__root;if(o){var i=s.indexOf(o);if(i!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;i<=u&&(l=i)}if(a=s[l]||e.target,a!==t){ws(e,"currentTarget",{configurable:!0,get(){return a||r}});var v=k,f=I;we(null),He(null);try{for(var d,h=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var y=a["__"+n];if(y!=null&&(!a.disabled||e.target===a))if(it(y)){var[C,...m]=y;C.apply(a,[e,...m])}else y.call(a,e)}catch(M){d?h.push(M):d=M}if(e.cancelBubble||p===t||p===null)break;a=p}if(d){for(let M of h)queueMicrotask(()=>{throw M});throw d}}finally{e.__root=t,delete e.currentTarget,we(v),He(f)}}}function rs(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Mt(e,t){var r=I;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function ue(e,t){var r=(t&Nn)!==0,n=(t&Ys)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=rs(a?e:"<!>"+e),r||(s=Se(s)));var l=n||An?document.importNode(s,!0):s.cloneNode(!0);if(r){var o=Se(l),i=l.lastChild;Mt(o,i)}else Mt(l,l);return l}}function Ea(e,t,r="svg"){var n=!e.startsWith("<!>"),s=(t&Nn)!==0,a=`<${r}>${n?e:"<!>"+e}</${r}>`,l;return()=>{if(!l){var o=rs(a),i=Se(o);if(s)for(l=document.createDocumentFragment();Se(i);)l.appendChild(Se(i));else l=Se(i)}var u=l.cloneNode(!0);if(s){var v=Se(u),f=u.lastChild;Mt(v,f)}else Mt(u,u);return u}}function fr(e,t){return Ea(e,t,"svg")}function Wt(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Rr();return e.append(t,r),Mt(t,r),e}function z(e,t){e!==null&&e.before(t)}function be(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function Sa(e,t){return ka(e,t)}const Ge=new Map;function ka(e,{target:t,anchor:r,props:n={},events:s,context:a,intro:l=!0}){Qs();var o=new Set,i=f=>{for(var d=0;d<f.length;d++){var h=f[d];if(!o.has(h)){o.add(h);var p=ma(h);t.addEventListener(h,yt,{passive:p});var y=Ge.get(h);y===void 0?(document.addEventListener(h,yt,{passive:p}),Ge.set(h,1)):Ge.set(h,y+1)}}};i(Nr(ts)),Sr.add(i);var u=void 0,v=na(()=>{var f=r??t.appendChild(Rr());return at(()=>{if(a){nr({});var d=O;d.c=a}s&&(n.$$events=s),u=e(f,n)||{},a&&sr()}),()=>{var p;for(var d of o){t.removeEventListener(d,yt);var h=Ge.get(d);--h===0?(document.removeEventListener(d,yt),Ge.delete(d)):Ge.set(d,h)}Sr.delete(i),f!==r&&((p=f.parentNode)==null||p.removeChild(f))}});return Pa.set(u,v),u}let Pa=new WeakMap;function de(e,t,[r,n]=[0,0]){var s=e,a=null,l=null,o=ne,i=r>0?tr:0,u=!1;const v=(d,h=!0)=>{u=!0,f(h,d)},f=(d,h)=>{o!==(o=d)&&(o?(a?Zt(a):h&&(a=at(()=>h(s))),l&&Pt(l,()=>{l=null})):(l?Zt(l):h&&(l=at(()=>h(s,[r+1,n]))),a&&Pt(a,()=>{a=null})))};or(()=>{u=!1,t(v),u||f(null,null)},i)}function Na(e,t){return t}function Oa(e,t,r,n){for(var s=[],a=t.length,l=0;l<a;l++)Dr(t[l].e,s,!0);var o=a>0&&s.length===0&&r!==null;if(o){var i=r.parentNode;ea(i),i.append(r),n.clear(),Te(e,t[0].prev,t[a-1].next)}Un(s,()=>{for(var u=0;u<a;u++){var v=t[u];o||(n.delete(v.k),Te(e,v.prev,v.next)),Re(v.e,!o)}})}function Ca(e,t,r,n,s,a=null){var l=e,o={flags:t,items:new Map,first:null};{var i=e;l=i.appendChild(Rr())}var u=null,v=!1,f=Lr(()=>{var d=r();return it(d)?d:d==null?[]:Nr(d)});or(()=>{var d=c(f),h=d.length;v&&h===0||(v=h===0,Ma(d,o,l,s,t,n,r),a!==null&&(h===0?u?Zt(u):u=at(()=>a(l)):u!==null&&Pt(u,()=>{u=null})),c(f))})}function Ma(e,t,r,n,s,a,l){var o=e.length,i=t.items,u=t.first,v=u,f,d=null,h=[],p=[],y,C,m,w;for(w=0;w<o;w+=1){if(y=e[w],C=a(y,w),m=i.get(C),m===void 0){var M=v?v.e.nodes_start:r;d=Ia(M,t,d,d===null?t.first:d.next,y,C,w,n,s,l),i.set(C,d),h=[],p=[],v=d.next;continue}if(Ta(m,y,w),(m.e.f&ke)!==0&&Zt(m.e),m!==v){if(f!==void 0&&f.has(m)){if(h.length<p.length){var X=p[0],x;d=X.prev;var _=h[0],b=h[h.length-1];for(x=0;x<h.length;x+=1)tn(h[x],X,r);for(x=0;x<p.length;x+=1)f.delete(p[x]);Te(t,_.prev,b.next),Te(t,d,_),Te(t,b,X),v=X,d=b,w-=1,h=[],p=[]}else f.delete(m),tn(m,v,r),Te(t,m.prev,m.next),Te(t,m,d===null?t.first:d.next),Te(t,d,m),d=m;continue}for(h=[],p=[];v!==null&&v.k!==C;)(v.e.f&ke)===0&&(f??(f=new Set)).add(v),p.push(v),v=v.next;if(v===null)continue;m=v}h.push(m),d=m,v=m.next}if(v!==null||f!==void 0){for(var H=f===void 0?[]:Nr(f);v!==null;)(v.e.f&ke)===0&&H.push(v),v=v.next;var P=H.length;if(P>0){var V=o===0?r:null;Oa(t,H,V,i)}}I.first=t.first&&t.first.e,I.last=d&&d.e}function Ta(e,t,r,n){Tn(e.v,t),e.i=r}function Ia(e,t,r,n,s,a,l,o,i,u){var v=(i&js)!==0,f=(i&qs)===0,d=v?f?Be(s,!1,!1):kt(s):s,h=(i&Ks)===0?l:kt(l),p={i:h,v:d,k:a,a:null,e:null,prev:r,next:n};try{return p.e=at(()=>o(e,d,h,u),Xs),p.e.prev=r&&r.e,p.e.next=n&&n.e,r===null?t.first=p:(r.next=p,r.e.next=p.e),n!==null&&(n.prev=p,n.e.prev=p.e),p}finally{}}function tn(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,s=t?t.e.nodes_start:r,a=e.e.nodes_start;a!==n;){var l=ar(a);s.before(a),a=l}}function Te(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function rn(e,t,r){var n=e,s,a;or(()=>{s!==(s=t())&&(a&&(Pt(a),a=null),s&&(a=at(()=>r(n,s))))},tr)}const nn=[...` 	
\r\fÂ \v\uFEFF`];function Aa(e,t,r){var n=e==null?"":""+e;if(n=n?n+" "+t:t,r){for(var s in r)if(r[s])n=n?n+" "+s:s;else if(n.length)for(var a=s.length,l=0;(l=n.indexOf(s,l))>=0;){var o=l+a;(l===0||nn.includes(n[l-1]))&&(o===n.length||nn.includes(n[o]))?n=(l===0?"":n.substring(0,l))+n.substring(o+1):l=o}}return n===""?null:n}function La(e,t){return e==null?null:String(e)}function Ra(e,t,r,n,s,a){var l=e.__className;if(l!==r||l===void 0){var o=Aa(r,n,a);o==null?e.removeAttribute("class"):e.setAttribute("class",o),e.__className=r}else if(a&&s!==a)for(var i in a){var u=!!a[i];(s==null||u!==!!s[i])&&e.classList.toggle(i,u)}return a}function Ha(e,t,r,n){var s=e.__style;if(s!==t){var a=La(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return n}function ns(e,t,r=!1){if(e.multiple){if(t==null)return;if(!it(t))return $s();for(var n of e.options)n.selected=t.includes(wt(n));return}for(n of e.options){var s=wt(n);if(Gs(s,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function Da(e){var t=new MutationObserver(()=>{ns(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Hr(()=>{t.disconnect()})}function Fa(e,t,r=t){var n=!0;es(e,"change",s=>{var a=s?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(a),wt);else{var o=e.querySelector(a)??e.querySelector("option:not([disabled])");l=o&&wt(o)}r(l)}),Fn(()=>{var s=t();if(ns(e,s,n),n&&s===void 0){var a=e.querySelector(":checked");a!==null&&(s=wt(a),r(s))}e.__value=s,n=!1}),Da(e)}function wt(e){return"__value"in e?e.__value:e.value}const ja=Symbol("is custom element"),Ka=Symbol("is html");function U(e,t,r,n){var s=qa(e);s[t]!==(s[t]=r)&&(t==="loading"&&(e[Ns]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Ba(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function qa(e){return e.__attributes??(e.__attributes={[ja]:e.nodeName.includes("-"),[Ka]:e.namespaceURI===Ws})}var sn=new Map;function Ba(e){var t=sn.get(e.nodeName);if(t)return t;sn.set(e.nodeName,t=[]);for(var r,n=e,s=Element.prototype;s!==n;){r=bn(n);for(var a in r)r[a].set&&t.push(a);n=Or(n)}return t}function mt(e,t,r=t){var n=jt();es(e,"input",s=>{var a=s?e.defaultValue:e.value;if(a=mr(e)?br(a):a,r(a),n&&a!==(a=t())){var l=e.selectionStart,o=e.selectionEnd;e.value=a??"",o!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(o,e.value.length))}}),F(t)==null&&e.value&&r(mr(e)?br(e.value):e.value),ir(()=>{var s=t();mr(e)&&s===br(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function mr(e){var t=e.type;return t==="number"||t==="range"}function br(e){return e===""?null:+e}function an(e,t){return e===t||(e==null?void 0:e[xe])===t}function kr(e={},t,r,n){return Fn(()=>{var s,a;return ir(()=>{s=a,a=[],F(()=>{e!==r(...a)&&(t(e,...a),s&&an(r(...s),e)&&t(null,...s))})}),()=>{Jn(()=>{a&&an(r(...a),e)&&t(null,...a)})}}),e}function ss(e=!1){const t=O,r=t.l.u;if(!r)return;let n=()=>Ee(t.s);if(e){let s=0,a={};const l=Kt(()=>{let o=!1;const i=t.s;for(const u in i)i[u]!==a[u]&&(a[u]=i[u],o=!0);return o&&s++,s});n=()=>c(l)}r.b.length&&ra(()=>{on(t,n),Et(r.b)}),xr(()=>{const s=F(()=>r.m.map(ks));return()=>{for(const a of s)typeof a=="function"&&a()}}),r.a.length&&xr(()=>{on(t,n),Et(r.a)})}function on(e,t){if(e.l.s)for(const r of e.l.s)c(r);t()}function ln(e,t){var a;var r=(a=e.$$events)==null?void 0:a[t.type],n=it(r)?r.slice():r==null?[]:[r];for(var s of n)s.call(this,t)}function Ua(e,t,r){if(e==null)return t(void 0),r&&r(void 0),$e;const n=F(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const Ze=[];function as(e,t){return{subscribe:is(e,t).subscribe}}function is(e,t=$e){let r=null;const n=new Set;function s(o){if(kn(e,o)&&(e=o,r)){const i=!Ze.length;for(const u of n)u[1](),Ze.push(u,e);if(i){for(let u=0;u<Ze.length;u+=2)Ze[u][0](Ze[u+1]);Ze.length=0}}}function a(o){s(o(e))}function l(o,i=$e){const u=[o,i];return n.add(u),n.size===1&&(r=t(s,a)||$e),o(e),()=>{n.delete(u),n.size===0&&r&&(r(),r=null)}}return{set:s,update:a,subscribe:l}}function os(e,t,r){const n=!Array.isArray(e),s=n?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return as(r,(l,o)=>{let i=!1;const u=[];let v=0,f=$e;const d=()=>{if(v)return;f();const p=t(n?u[0]:u,l,o);a?l(p):f=typeof p=="function"?p:$e},h=s.map((p,y)=>Ua(p,C=>{u[y]=C,v&=~(1<<y),i&&d()},()=>{v|=1<<y}));return i=!0,d(),function(){Et(h),f(),i=!1}})}let Jt=!1;function za(e){var t=Jt;try{return Jt=!1,[e(),Jt]}finally{Jt=t}}const Va={get(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(gt(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n)return n[t]}},set(e,t,r){let n=e.props.length;for(;n--;){let s=e.props[n];gt(s)&&(s=s());const a=Le(s,t);if(a&&a.set)return a.set(r),!0}return!1},getOwnPropertyDescriptor(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(gt(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n){const s=Le(n,t);return s&&!s.configurable&&(s.configurable=!0),s}}},has(e,t){if(t===xe||t===wn)return!1;for(let r of e.props)if(gt(r)&&(r=r()),r!=null&&t in r)return!0;return!1},ownKeys(e){const t=[];for(let r of e.props)if(gt(r)&&(r=r()),!!r){for(const n in r)t.includes(n)||t.push(n);for(const n of Object.getOwnPropertySymbols(r))t.includes(n)||t.push(n)}return t}};function un(...e){return new Proxy({props:e},Va)}function Ja(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function D(e,t,r,n){var m;var s=!lt||(r&Us)!==0,a=(r&Vs)!==0,l=(r&Js)!==0,o=n,i=!0,u=()=>(i&&(i=!1,o=l?F(n):n),o),v;if(a){var f=xe in e||wn in e;v=((m=Le(e,t))==null?void 0:m.set)??(f&&t in e?w=>e[t]=w:void 0)}var d,h=!1;a?[d,h]=za(()=>e[t]):d=e[t],d===void 0&&n!==void 0&&(d=u(),v&&(s&&As(),v(d)));var p;if(s?p=()=>{var w=e[t];return w===void 0?u():(i=!0,w)}:p=()=>{var w=e[t];return w!==void 0&&(o=void 0),w===void 0?o:w},s&&(r&zs)===0)return p;if(v){var y=e.$$legacy;return function(w,M){return arguments.length>0?((!s||!M||y||h)&&v(M?p():w),w):p()}}var C=((r&Bs)!==0?Kt:Lr)(p);return a&&c(C),function(w,M){if(arguments.length>0){const X=M?c(C):s&&a?pe(w):w;return g(C,X),o!==void 0&&(o=X),w}return Ja(C)?C.v:c(C)}}function Ya(e){O===null&&rr(),lt&&O.l!==null?ls(O).m.push(e):xr(()=>{const t=F(e);if(typeof t=="function")return t})}function Wa(e){O===null&&rr(),Ya(()=>()=>F(e))}function Ga(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}function Za(){const e=O;return e===null&&rr(),(t,r,n)=>{var a;const s=(a=e.s.$$events)==null?void 0:a[t];if(s){const l=it(s)?s.slice():[s],o=Ga(t,r,n);for(const i of l)i.call(e.x,o);return!o.defaultPrevented}return!0}}function $a(e){O===null&&rr(),O.l===null&&Is(),ls(O).a.push(e)}function ls(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Xa="5";var mn;typeof window<"u"&&((mn=window.__svelte??(window.__svelte={})).v??(mn.v=new Set)).add(Xa);Fs();function Qa(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,s,a,l=[],o="",i=e.split("/");for(i[0]||i.shift();s=i.shift();)r=s[0],r==="*"?(l.push("wild"),o+="/(.*)"):r===":"?(n=s.indexOf("?",1),a=s.indexOf(".",1),l.push(s.substring(1,~n?n:~a?a:s.length)),o+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(o+=(~n?"?":"")+"\\"+s.substring(a))):o+="/"+s;return{keys:l,pattern:new RegExp("^"+o+"/?$","i")}}function fn(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const r=t.indexOf("?");let n="";return r>-1&&(n=t.substr(r+1),t=t.substr(0,r)),{location:t,querystring:n}}const Fr=as(null,function(t){t(fn());const r=()=>{t(fn())};return window.addEventListener("hashchange",r,!1),function(){window.removeEventListener("hashchange",r,!1)}});os(Fr,e=>e.location);os(Fr,e=>e.querystring);const cn=is(void 0);function ei(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function ti(e,t){nr(t,!1);let r=D(t,"routes",24,()=>({})),n=D(t,"prefix",8,""),s=D(t,"restoreScrollState",8,!1);class a{constructor(_,b){if(!b||typeof b!="function"&&(typeof b!="object"||b._sveltesparouter!==!0))throw Error("Invalid component object");if(!_||typeof _=="string"&&(_.length<1||_.charAt(0)!="/"&&_.charAt(0)!="*")||typeof _=="object"&&!(_ instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:H,keys:P}=Qa(_);this.path=_,typeof b=="object"&&b._sveltesparouter===!0?(this.component=b.component,this.conditions=b.conditions||[],this.userData=b.userData,this.props=b.props||{}):(this.component=()=>Promise.resolve(b),this.conditions=[],this.props={}),this._pattern=H,this._keys=P}match(_){if(n()){if(typeof n()=="string")if(_.startsWith(n()))_=_.substr(n().length)||"/";else return null;else if(n()instanceof RegExp){const V=_.match(n());if(V&&V[0])_=_.substr(V[0].length)||"/";else return null}}const b=this._pattern.exec(_);if(b===null)return null;if(this._keys===!1)return b;const H={};let P=0;for(;P<this._keys.length;){try{H[this._keys[P]]=decodeURIComponent(b[P+1]||"")||null}catch{H[this._keys[P]]=null}P++}return H}async checkConditions(_){for(let b=0;b<this.conditions.length;b++)if(!await this.conditions[b](_))return!1;return!0}}const l=[];r()instanceof Map?r().forEach((x,_)=>{l.push(new a(_,x))}):Object.keys(r()).forEach(x=>{l.push(new a(x,r()[x]))});let o=Be(null),i=Be(null),u=Be({});const v=Za();async function f(x,_){await pa(),v(x,_)}let d=null,h=null;s()&&(h=x=>{x.state&&(x.state.__svelte_spa_router_scrollY||x.state.__svelte_spa_router_scrollX)?d=x.state:d=null},window.addEventListener("popstate",h),$a(()=>{ei(d)}));let p=null,y=null;const C=Fr.subscribe(async x=>{p=x;let _=0;for(;_<l.length;){const b=l[_].match(x.location);if(!b){_++;continue}const H={route:l[_].path,location:x.location,querystring:x.querystring,userData:l[_].userData,params:b&&typeof b=="object"&&Object.keys(b).length?b:null};if(!await l[_].checkConditions(H)){g(o,null),y=null,f("conditionsFailed",H);return}f("routeLoading",Object.assign({},H));const P=l[_].component;if(y!=P){P.loading?(g(o,P.loading),y=P,g(i,P.loadingParams),g(u,{}),f("routeLoaded",Object.assign({},H,{component:c(o),name:c(o).name,params:c(i)}))):(g(o,null),y=null);const V=await P();if(x!=p)return;g(o,V&&V.default||V),y=P}b&&typeof b=="object"&&Object.keys(b).length?g(i,b):g(i,null),g(u,l[_].props),f("routeLoaded",Object.assign({},H,{component:c(o),name:c(o).name,params:c(i)})).then(()=>{cn.set(c(i))});return}g(o,null),y=null,cn.set(void 0)});Wa(()=>{C(),h&&window.removeEventListener("popstate",h)}),Yt(()=>Ee(s()),()=>{history.scrollRestoration=s()?"manual":"auto"}),jn(),ss();var m=Wt(),w=Ue(m);{var M=x=>{var _=Wt(),b=Ue(_);rn(b,()=>c(o),(H,P)=>{P(H,un({get params(){return c(i)}},()=>c(u),{$$events:{routeEvent(V){ln.call(this,t,V)}}}))}),z(x,_)},X=x=>{var _=Wt(),b=Ue(_);rn(b,()=>c(o),(H,P)=>{P(H,un(()=>c(u),{$$events:{routeEvent(V){ln.call(this,t,V)}}}))}),z(x,_)};de(w,x=>{c(i)?x(M):x(X,!1)})}z(e,m),sr()}class Z{constructor(t,r){S(this,"base");S(this,"exponent");if(t===0)this.base=0,this.exponent=0;else{const n=Math.floor(Math.log10(Math.abs(t))),s=t/Math.pow(10,n);this.base=s,this.exponent=r+n}}static fromNumber(t){if(t===0)return new Z(0,0);const r=Math.floor(Math.log10(Math.abs(t))),n=t/Math.pow(10,r);return new Z(n,r)}toNumber(){return this.base*Math.pow(10,this.exponent)}add(t){const r=this.toNumber(),n=t.toNumber();return Z.fromNumber(r+n)}sub(t){const r=this.toNumber(),n=t.toNumber();return Z.fromNumber(r-n)}mul(t){const r=this.base*t.base,n=this.exponent+t.exponent;return new Z(r,n)}div(t){const r=this.base/t.base,n=this.exponent-t.exponent;return new Z(r,n)}exp(t){const r=this.base*Math.pow(10,this.exponent),n=t.base*Math.pow(10,t.exponent),s=Math.pow(r,n),a=Math.floor(Math.log10(s)),l=s/Math.pow(10,a);return new Z(l,a)}ln(){const t=Math.log(this.base)+this.exponent*Math.log(10);return new Z(t,0)}sqrt(){const t=Math.sqrt(this.base),r=this.exponent%2===0,n=this.exponent/2;return r?new Z(t,n):new Z(t*Math.sqrt(10),Math.floor(n))}toString(){return`${this.base}e${this.exponent}`}roundFloat(t,r){return t.toFixed(r).toString().replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,"")}toRoundedString(t=6){return this.exponent+1>t?`${this.roundFloat(this.base,t)}e${this.exponent}`:this.roundFloat(this.toNumber(),t)}}const dn={H:1.008,He:4.0026022,Li:6.94,Be:9.01218315,B:10.81,C:12.011,N:14.007,O:15.999,F:18.9984031636,Ne:20.17976,Na:22.989769282,Mg:24.305,Al:26.98153857,Si:28.085,P:30.9737619985,S:32.06,Cl:35.45,Ar:39.9481,K:39.09831,Ca:40.0784,Sc:44.9559085,Ti:47.8671,V:50.94151,Cr:51.99616,Mn:54.9380443,Fe:55.8452,Co:58.9331944,Ni:58.69344,Cu:63.5463,Zn:65.382,Ga:69.7231,Ge:72.6308,As:74.9215956,Se:78.9718,Br:79.904,Kr:83.7982,Rb:85.46783,Sr:87.621,Y:88.905842,Zr:91.2242,Nb:92.906372,Mo:95.951,Tc:98,Ru:101.072,Rh:102.905502,Pd:106.421,Ag:107.86822,Cd:112.4144,In:114.8181,Sn:118.7107,Sb:121.7601,Te:127.603,I:126.904473,Xe:131.2936,Cs:132.905451966,Ba:137.3277,La:138.905477,Ce:140.1161,Pr:140.907662,Nd:144.2423,Pm:145,Sm:150.362,Eu:151.9641,Gd:157.253,Tb:158.925352,Dy:162.5001,Ho:164.930332,Er:167.2593,Tm:168.934222,Yb:173.0451,Lu:174.96681,Hf:178.492,Ta:180.947882,W:183.841,Re:186.2071,Os:190.233,Ir:192.2173,Pt:195.0849,Au:196.9665695,Hg:200.5923,Tl:204.38,Pb:207.21,Bi:208.980401,Po:209,At:210,Rn:222,Fr:223,Ra:226,Ac:227,Th:232.03774,Pa:231.035882,U:238.028913,Np:237,Pu:244,Am:243,Cm:247,Bk:247,Cf:251,Es:252,Fm:257,Md:258,No:259,Lr:266,Rf:267,Db:268,Sg:269,Bh:270,Hs:269,Mt:278,Ds:281,Rg:282,Cn:285,Nh:286,Fl:289,Mc:289,Lv:293,Ts:294,Og:294,Uue:315};function ri(e){e=e.replace(/\s+/g,"");const t=/([A-Z][a-z]?)(\d*)/g;function r(a){let l=0;const o=a.matchAll(t);for(const i of o){const u=i[1],v=i[2]?parseInt(i[2],10):1;if(!(u in dn))throw new Error(`Invalid element symbol: ${u}`);l+=dn[u]*v}return l}const n=[];let s=0;for(;s<e.length;){const a=e[s];if(a==="(")n.push("");else if(a===")"){if(!n.length)throw new Error("Unmatched parenthesis in formula");let l=n.pop();s++;let o="";for(;s<e.length&&/\d/.test(e[s]);)o+=e[s],s++;const i=o?parseInt(o,10):1;l=l.repeat(i),n.length?n[n.length-1]+=l:n.push(l);continue}else n.length?n[n.length-1]+=a:n.push(a);s++}return n.length?r(n.join("")):0}class Tt{constructor(t=null){S(this,"functions",{});S(this,"ans");this.functions.sqrt=([r])=>r.sqrt(),this.functions.ln=([r])=>r.ln(),this.ans=t}static getPrecedence(t,r){const n={"+":1,"-":1,"*":2,"/":2,"u-":3,"i*":3,"^":4};return t==="^"&&["u-","i*"].includes(r)||t==="u-"&&r==="u-"||t==="^"&&r==="^"?"right":t===r||n[t]>=n[r]?"left":"right"}evaluate(t){const r=this.tokenize(t),n=this.toRPN(r);return this.evalRPN(n)}insertImplicitMul(t){let r,n,s=0;for(;s<t.length-1;)r=this.classifyToken(t[s]),n=this.classifyToken(t[s+1]),[3,0,1].includes(r)&&[2,4,6].includes(n)?(t.splice(s+1,0,"i*"),s+=2):s++}classifyToken(t){if(isNaN(Number(t))){if(this.functions[t])return 4;if(t==="(")return 2;if(t===")")return 3;if(["+","-","*","/","^","i*"].includes(t))return 5;if(t.startsWith("M(")&&t.endsWith(")"))return 6;if(t==="Ans")return 1;throw Error("unrecognized token")}else return 0}tokenize(t){const r=/M\([^()]*\)|\d+\.?\d*(?:[eE][+-]?\d+)?|\.\d+(?:[eE][+-]?\d+)?|Ans|[()+\-*/^]|\w+/g,n=t.match(r)??[];return this.insertImplicitMul(n),n}toRPN(t){const r=[],n=[];let s=null,a,l,o;for(const i of t){switch(this.classifyToken(i)){case 0:r.push(i);break;case 1:r.push((this.ans??0).toString());break;case 2:n.push(i);break;case 3:for(;n.length&&n[n.length-1]!=="(";)r.push(n.pop());n.pop(),n.length&&this.functions[n[n.length-1]]&&r.push(n.pop());break;case 4:n.push(i);break;case 5:for(a=i==="-"&&(s===null||["+","-","*","/","^","("].includes(s)),l=a?"u-":i;n.length&&Tt.getPrecedence(n[n.length-1],l)==="left";)r.push(n.pop());n.push(l==="i*"?"*":l);break;case 6:if(o=i.match(/^M\(([^()]*)\)$/),o){const u=o[1];r.push(ri(u).toString())}else throw new Error(`Invalid M(...) expression: ${i}`);break}s=i}for(;n.length;)r.push(n.pop());return r}evalRPN(t){const r=[];for(const n of t)if(!isNaN(Number(n)))r.push(Z.fromNumber(Number(n)));else if(["+","-","*","/","^"].includes(n)){const s=r.pop(),a=r.pop();switch(n){case"+":r.push(a.add(s));break;case"-":r.push(a.sub(s));break;case"*":r.push(a.mul(s));break;case"/":r.push(a.div(s));break;case"^":r.push(a.exp(s));break}}else if(this.functions[n]){const s=[r.pop()];r.push(this.functions[n](s))}else if(n==="u-"){const s=r.pop();r.push(Z.fromNumber(-1).mul(s))}else throw new Error(`Unknown token: ${n}`);return r[0]}}function vn(e,t){t&&t!=="lg"&&t!=="sm"&&t!=="xs"?e.style.fontSize=t.replace("x","em"):e.style.fontSize=""}function ni(e,t,r,n,s,a=1,l="",o=""){let i=1,u=1;s&&(s=="horizontal"?i=-1:s=="vertical"?u=-1:i=u=-1),typeof e=="string"&&(e=parseFloat(e)),typeof t=="string"&&(t=parseFloat(t)),typeof r=="string"&&(r=parseFloat(r));const v=`${t*a}${l}`,f=`${r*a}${l}`;let d=`translate(${v},${f}) scale(${i*e},${u*e})`;return n&&(d+=` rotate(${n}${o})`),d}var si=fr('<title class="svelte-bvo74f"> </title>'),ai=fr('<path class="svelte-bvo74f"></path>'),ii=fr('<path class="svelte-bvo74f"></path><path class="svelte-bvo74f"></path>',1),oi=fr('<svg role="img" xmlns="http://www.w3.org/2000/svg"><!><g class="svelte-bvo74f"><g class="svelte-bvo74f"><!></g></g></svg>');function bt(e,t){nr(t,!1);const r=Be(),n=Be();let s=D(t,"class",24,()=>{}),a=D(t,"id",24,()=>{}),l=D(t,"style",24,()=>{}),o=D(t,"icon",8),i=D(t,"title",24,()=>{}),u=D(t,"size",24,()=>{}),v=D(t,"color",24,()=>{}),f=D(t,"fw",8,!1),d=D(t,"pull",24,()=>{}),h=D(t,"scale",8,1),p=D(t,"translateX",8,0),y=D(t,"translateY",8,0),C=D(t,"rotate",24,()=>{}),m=D(t,"flip",24,()=>{}),w=D(t,"spin",8,!1),M=D(t,"pulse",8,!1),X=D(t,"primaryColor",8,""),x=D(t,"secondaryColor",8,""),_=D(t,"primaryOpacity",8,1),b=D(t,"secondaryOpacity",8,.4),H=D(t,"swapOpacity",8,!1),P=Be();Yt(()=>(c(P),Ee(u()),vn),()=>{c(P)&&u()&&vn(c(P),u())}),Yt(()=>Ee(o()),()=>{g(r,o()&&o().icon||[0,0,"",[],""])}),Yt(()=>(Ee(h()),Ee(p()),Ee(y()),Ee(C()),Ee(m())),()=>{g(n,ni(h(),p(),y(),C(),m(),512))}),jn(),ss();var V=Wt(),Bt=Ue(V);{var cr=Ve=>{var ge=oi();let Ut;var zt=E(ge);{var dr=N=>{var K=si(),W=E(K);he(()=>be(W,i())),z(N,K)};de(zt,N=>{i()&&N(dr)})}var ft=T(zt),A=E(ft),se=E(A);{var Y=N=>{var K=ai();he(()=>{U(K,"d",(c(r),F(()=>c(r)[4]))),U(K,"fill",v()||X()||"currentColor"),U(K,"transform",`translate(${c(r),F(()=>c(r)[0]/-2)??""} ${c(r),F(()=>c(r)[1]/-2)??""})`)}),z(N,K)},j=N=>{var K=ii(),W=Ue(K),ae=T(W);he(()=>{U(W,"d",(c(r),F(()=>c(r)[4][0]))),U(W,"fill",x()||v()||"currentColor"),U(W,"fill-opacity",H()!=!1?_():b()),U(W,"transform",`translate(${c(r),F(()=>c(r)[0]/-2)??""} ${c(r),F(()=>c(r)[1]/-2)??""})`),U(ae,"d",(c(r),F(()=>c(r)[4][1]))),U(ae,"fill",X()||v()||"currentColor"),U(ae,"fill-opacity",H()!=!1?b():_()),U(ae,"transform",`translate(${c(r),F(()=>c(r)[0]/-2)??""} ${c(r),F(()=>c(r)[1]/-2)??""})`)}),z(N,K)};de(se,N=>{c(r),F(()=>typeof c(r)[4]=="string")?N(Y):N(j,!1)})}kr(ge,N=>g(P,N),()=>c(P)),he(N=>{U(ge,"id",a()),Ut=Ra(ge,0,`svelte-fa svelte-fa-base ${s()??""}`,"svelte-bvo74f",Ut,N),Ha(ge,l()),U(ge,"viewBox",`0 0 ${c(r),F(()=>c(r)[0])??""} ${c(r),F(()=>c(r)[1])??""}`),U(ge,"aria-hidden",i()===void 0),U(ft,"transform",`translate(${c(r),F(()=>c(r)[0]/2)??""} ${c(r),F(()=>c(r)[1]/2)??""})`),U(ft,"transform-origin",`${c(r),F(()=>c(r)[0]/4)??""} 0`),U(A,"transform",c(n))},[()=>({pulse:M(),"svelte-fa-size-lg":u()==="lg","svelte-fa-size-sm":u()==="sm","svelte-fa-size-xs":u()==="xs","svelte-fa-fw":f(),"svelte-fa-pull-left":d()==="left","svelte-fa-pull-right":d()==="right",spin:w()})],Lr),z(Ve,ge)};de(Bt,Ve=>{c(r),F(()=>c(r)[4])&&Ve(cr)})}z(e,V),sr()}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const li={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},hn={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},pn={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},_n={1:"1",2:"2",3:"3",q:"4",w:"5",e:"6",a:"7",s:"8",d:"9",c:".",x:"0",z:"e",Alt:"Ans",4:"+",r:"-",f:"*",v:"/",5:"^",t:"sqrt(",g:"ln(",b:"M(",Shift:"Enter",Space:"()",Backtick:"Backspace",Tab:"nextParameter"};var It,At;class ui{constructor(){re(this,It,B(pe({})));S(this,"exprHistory",[]);S(this,"ansHistory",[]);S(this,"maxHistoryLen",50);S(this,"maxDigits",12);S(this,"index",this.ansHistory.length-1);re(this,At,B(pe([])));S(this,"pushHistory",(t,r)=>{this.ansHistory.push(t),this.exprHistory.push(r),this.ansHistory.length>=this.maxHistoryLen?(this.ansHistory.shift(),this.exprHistory.shift()):this.index++,localStorage.setItem("exprHistory",JSON.stringify(this.exprHistory)),localStorage.setItem("ansHistory",JSON.stringify(this.ansHistory))});S(this,"pushTemplate",t=>{this.templates.push(t),localStorage.setItem("templates",JSON.stringify(this.templates))});S(this,"removeTemplate",t=>{const r=this.templates.indexOf(t);r>-1&&this.templates.splice(r,1),localStorage.setItem("templates",JSON.stringify(this.templates))});S(this,"pullFromStorage",()=>{this.keybinds=JSON.parse(localStorage.getItem("keybinds")??"{}"),this.exprHistory=JSON.parse(localStorage.getItem("exprHistory")??"[]"),this.ansHistory=JSON.parse(localStorage.getItem("ansHistory")??"[]"),this.maxHistoryLen=parseInt(localStorage.getItem("maxHistoryLen")??this.maxHistoryLen.toString()),this.index=this.ansHistory.length-1,this.maxDigits=parseInt(localStorage.getItem("maxDigits")??this.maxDigits.toString()),this.templates=JSON.parse(localStorage.getItem("templates")??"[]")});S(this,"handleExport",()=>{const t={};for(let a=0;a<localStorage.length;a++){const l=localStorage.key(a);l&&(["keybinds","exprHistory","ansHistory","templates"].includes(l),t[l]=JSON.parse(localStorage.getItem(l)??"{}"))}const r=JSON.stringify(t,null,2),n=new Blob([r],{type:"application/json"}),s=document.createElement("a");s.href=URL.createObjectURL(n),s.download="qalc_data.json",document.body.appendChild(s),s.click(),document.body.removeChild(s)});S(this,"clearKeybinds",()=>{localStorage.setItem("keybinds","{}"),this.keybinds={},alert("Cleared keybinds!")});S(this,"setOneHandedKeybinds",()=>{localStorage.setItem("keybinds",JSON.stringify(_n)),this.keybinds=_n,alert("Set default one-handed keybinds!")});S(this,"handleImport",()=>{const t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=()=>{if(!t.files||t.files.length===0)return alert("No file selected");const r=t.files[0],n=new FileReader;n.onload=()=>{try{const s=JSON.parse(n.result);for(const[a,l]of Object.entries(s))["keybinds","exprHistory","ansHistory"].includes(a)?(localStorage.setItem(a,JSON.stringify(l)),s[a]=JSON.parse(localStorage.getItem(a)??"{}")):localStorage.setItem(a,l);this.pullFromStorage(),alert("Updated your settings!")}catch(s){alert(`Invalid JSON file: ${s}`)}},n.onerror=()=>{alert("Failed to read file")},n.readAsText(r)},t.click()});S(this,"clearHistory",()=>{this.ansHistory=[],this.exprHistory=[],this.index=0,localStorage.setItem("ansHistory","[]"),localStorage.setItem("exprHistory","[]"),alert("Cleared history!")});this.pullFromStorage()}get keybinds(){return c(L(this,It))}set keybinds(t){g(L(this,It),t,!0)}get templates(){return c(L(this,At))}set templates(t){g(L(this,At),t,!0)}}It=new WeakMap,At=new WeakMap;var Xe,Lt,Rt,Ht,Dt;class gn{constructor(t,r){re(this,Xe);S(this,"numOpenParens",0);S(this,"numCloseParens",0);re(this,Lt,B(pe(Z.fromNumber(0))));S(this,"molarMassMode",!1);S(this,"storageState");re(this,Rt,B(""));re(this,Ht,B(""));re(this,Dt,B(!0));S(this,"reset",()=>{this.textarea.value="",this.numOpenParens=0,this.numCloseParens=0,this.molarMassMode=!1,this.errorLine=""});S(this,"goUp",()=>{this.storageState.index>0&&(this.storageState.index--,this.textarea.value=this.storageState.exprHistory[this.storageState.index],this.numOpenParens=this.textarea.value.split("(").length-1,this.numCloseParens=this.textarea.value.split(")").length-1,this.molarMassMode=!1,this.ans=Z.fromNumber(this.storageState.ansHistory[this.storageState.index]),this.expr=this.storageState.exprHistory[this.storageState.index])});S(this,"handleKey",t=>{let r=t.key;t.key===" "?r="Space":t.key==="`"&&(r="Backtick");const n=r in this.storageState.keybinds;let s=this.storageState.keybinds[r]??t.key;if(this.molarMassMode&&s==="()"&&(this.useKeybinds=!0),!!this.useKeybinds){if(s==="Escape"){t.preventDefault(),this.reset();return}if(s==="Backspace"){t.preventDefault();const a=this.textarea.selectionStart;if(a>0){const l=this.textarea.value,o=this.textarea.value[a-1];this.textarea.value=l.slice(0,a-1)+l.slice(a),this.textarea.selectionStart=this.textarea.selectionEnd=a-1,o==="("?this.numOpenParens--:o===")"&&this.numCloseParens--}return}if(s==="ArrowUp"){this.goUp();return}if(s==="ArrowDown"){this.goDown();return}if(s==="Enter"){if(t.preventDefault(),this.textarea.value==="")return;try{for(;this.numOpenParens>this.numCloseParens;)this.textarea.value+=")",this.numCloseParens++;const a=new Tt(this.ans);this.ans=a.evaluate(this.textarea.value),this.expr=this.textarea.value,this.reset(),this.storageState.pushHistory(this.ans.toNumber(),this.expr)}catch(a){this.errorLine="syntax error",console.log(`syntax error: ${a}`)}return}if(s==="()"){const a=["+","-","*","/","^"];this.molarMassMode?(this.molarMassMode=!1,s=")"):a.includes(this.textarea.value[this.textarea.value.length-1])?s="(":this.numOpenParens>this.numCloseParens?s=")":this.numOpenParens===this.numCloseParens?s="(":s=" "}if(!this.molarMassMode&&(this.numOpenParens+=s.split("(").length-1,this.numCloseParens+=s.split(")").length-1,s==="M("&&(this.molarMassMode=!0,this.useKeybinds=!1),n)){t.preventDefault();const{selectionStart:a,selectionEnd:l,value:o}=this.textarea,i=o.slice(0,a),u=o.slice(l),v=i.length+s.length;this.textarea.value=i+s+u,this.textarea.setSelectionRange(v,v)}}});S(this,"handleExprClick",()=>{this.textarea.value=this.expr});S(this,"handleAnsClick",()=>{this.textarea.value=this.ans.toRoundedString(this.storageState.maxDigits)});S(this,"handleScroll",t=>{t.deltaY<0?this.goUp():t.deltaY>0&&this.goDown()});Me(this,Xe,B(pe(t))),this.storageState=r}get textarea(){return c(L(this,Xe))}set textarea(t){g(L(this,Xe),t,!0)}get ans(){return c(L(this,Lt))}set ans(t){g(L(this,Lt),t,!0)}get expr(){return c(L(this,Rt))}set expr(t){g(L(this,Rt),t,!0)}get errorLine(){return c(L(this,Ht))}set errorLine(t){g(L(this,Ht),t,!0)}get useKeybinds(){return c(L(this,Dt))}set useKeybinds(t){g(L(this,Dt),t,!0)}goDown(){this.storageState.index<this.storageState.ansHistory.length-1&&(this.storageState.index++,this.textarea.value=this.storageState.exprHistory[this.storageState.index],this.numOpenParens=this.textarea.value.split("(").length-1,this.numCloseParens=this.textarea.value.split(")").length-1,this.molarMassMode=!1,this.ans=Z.fromNumber(this.storageState.ansHistory[this.storageState.index]),this.expr=this.storageState.exprHistory[this.storageState.index])}}Xe=new WeakMap,Lt=new WeakMap,Rt=new WeakMap,Ht=new WeakMap,Dt=new WeakMap;var Qe,et,tt,rt,nt,st;const er=class er{constructor(t,r){re(this,Qe);re(this,et);re(this,tt);re(this,rt);re(this,nt);re(this,st);S(this,"template");S(this,"values");S(this,"pushValue",t=>{if(this.paramIndex>=this.template.parameters.length)throw new Error("values already full");return this.values.push(t),this.paramIndex++,this.paramValue="",this.paramIndex===this.template.parameters.length});this.template=t,Me(this,Qe,B(0)),Me(this,et,Ie(()=>t==null?void 0:t.parameters[this.paramIndex])),Me(this,tt,B("")),Me(this,rt,Ie(()=>er.getNextParamKey(r))),Me(this,nt,Ie(()=>er.getEnterKey(r))),Me(this,st,Ie(()=>{var n;return this.paramIndex===(((n=t==null?void 0:t.parameters)==null?void 0:n.length)??0)-1})),this.values=[]}get paramIndex(){return c(L(this,Qe))}set paramIndex(t){g(L(this,Qe),t,!0)}get paramName(){return c(L(this,et))}set paramName(t){g(L(this,et),t)}get paramValue(){return c(L(this,tt))}set paramValue(t){g(L(this,tt),t,!0)}get nextParamKey(){return c(L(this,rt))}set nextParamKey(t){g(L(this,rt),t)}get enterKey(){return c(L(this,nt))}set enterKey(t){g(L(this,nt),t)}get isLastParam(){return c(L(this,st))}set isLastParam(t){g(L(this,st),t)}static getNextParamKey(t){for(const r of Object.keys(t))if(t[r]==="nextParameter")return r;return"Tab"}static getEnterKey(t){for(const r of Object.keys(t))if(t[r]==="Enter")return r;return"Enter"}};Qe=new WeakMap,et=new WeakMap,tt=new WeakMap,rt=new WeakMap,nt=new WeakMap,st=new WeakMap;let Pr=er;var fi=(e,t)=>{g(t,!c(t))},ci=ue("<p> </p>"),di=ue("<p> </p>"),vi=ue('<div class="text-[0.5rem] flex gap-2 items-center"><textarea class="w-8 p-[2px] pl-1 overflow-hidden border-2 rounded resize-none whitespace-nowrap" rows="1"></textarea> <!></div>'),hi=(e,t)=>{g(t,!c(t))},pi=(e,t)=>{g(t,!c(t))},_i=ue('<textarea rows="10" class="w-full p-1 border border-gray-300 rounded-b rounded-tr resize-none focus:outline-none focus:ring-2"></textarea>'),gi=ue('<textarea rows="1" class="w-full p-1 overflow-hidden border border-gray-300 rounded-b rounded-tr resize-none focus:outline-none focus:ring-2"></textarea>'),mi=ue('<div class="flex flex-col gap-2 pl-4"><div><p class="inline-block p-1 font-bold border border-b-0 border-gray-300 rounded-t border-rfont-bold">Name</p> <textarea rows="1" class="w-full p-1 overflow-hidden border border-gray-300 rounded-b rounded-tr resize-none focus:outline-none focus:ring-2" placeholder="my cool template"></textarea></div> <div><p class="inline-block p-1 font-bold border border-b-0 border-gray-300 rounded-t border-rfont-bold">Type</p> <select class="w-full p-1 border border-gray-300 rounded-b rounded-tr focus:outline-none focus:ring-2"><option>Expression</option><option>JavaScript</option></select></div> <div><p class="inline-block p-1 font-bold border border-b-0 border-gray-300 rounded-t border-rfont-bold">Parameters</p> <textarea rows="1" class="w-full p-1 overflow-hidden border border-gray-300 rounded-b rounded-tr resize-none focus:outline-none focus:ring-2"></textarea></div> <div><p class="inline-block p-1 font-bold border border-b-0 border-gray-300 rounded-t border-rfont-bold"> </p> <!></div> <div><button class="inline-block p-1 font-bold bg-gray-300 border-2 rounded hover:cursor-pointer">Add</button></div></div>'),bi=(e,t,r)=>{g(t,c(r),!0)},yi=(e,t,r)=>{t.removeTemplate(c(r))},xi=ue('<div class="p-1 font-bold border-2 bg-gray-200 flex justify-around items-center"><button class="hover:cursor-pointer"> </button> <button class="hover:cursor-pointer"><!></button></div>'),wi=ue('<div class="flex flex-col w-full gap-2 pl-4"><button class="flex items-center gap-1 font-bold hover:cursor-pointer"><!> <p>Add</p></button> <!> <div class="border-gray-300 border-1 rounded p-2"><input type="text" placeholder="Search templates..." class="w-full p-1 mb-2 border border-gray-400 rounded"/> <div class="grid grid-cols-1 gap-2 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3"></div></div></div>'),Ei=ue('<div class="flex flex-col items-end w-1/2 gap-4 p-2"><button class="text-gray-500 hover:cursor-pointer"> </button> <button class="font-bold hover:cursor-pointer"> </button></div> <textarea id="textarea" class="w-1/2 h-auto p-2 overflow-hidden font-mono border-2 rounded resize-none whitespace-nowrap" rows="1"></textarea> <!> <p class="text-red-700 font-bold text-[0.5rem]"> </p> <div class="flex flex-col gap-1 w-1/2 text-[0.5rem]"><button class="flex items-center gap-1 font-bold hover:cursor-pointer"><!> <p>Templates</p></button> <!></div>',1),Si=ue('<div class="flex gap-4"><button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Use one-handed preset</button> <button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Clear keybinds</button></div> <div class="flex gap-4"><button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Import data from file</button> <button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Export data to file</button></div> <div class="flex gap-4"><button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Clear history</button></div>',1),ki=ue('<main><div class="absolute top-0 m-2 flex flex-col gap-2 text-[0.5rem]"><div class="inline-block font-bold"><button class="p-2 font-bold border-2 rounded hover:cursor-pointer"> </button> <a class="p-2 font-bold border-2 rounded hover:cursor-pointer" href="https://github.com/storchdev/qalc">Info</a></div> <button class="p-2 font-bold border-2 rounded hover:cursor-pointer"> </button></div> <div class="flex flex-col items-center justify-center gap-4 mt-32"><!></div></main>');function Pi(e,t){nr(t,!0);const r=`// nCr example
// only write the function body
// ALWAYS return a number!

if (r > n) return 0;
if (r === 0 || r === n) return 1;

r = Math.min(r, n - r);
let result = 1;

for (let i = 1; i <= r; i++) {
    result *= (n - i + 1);
    result /= i;
}

return result;
`,n="n,r",s="(-{b}+sqrt({b}^2-4*{a}*{c}))/(2*{a})",a="a,b,c",l=document.createElement("textarea"),o=new ui,i=new gn(l,o);let u=B(!0),v=B(!1),f=pe({name:"",type:"expression",parameters:"",content:""}),d=B(!1),h=Ie(()=>c(d)?"Back":"Settings"),p=Ie(()=>i.useKeybinds?"Keybinds: on":"Keybinds: off"),y=B(void 0);function C(A){if(A!==void 0)return new Pr(A,o.keybinds)}let m=Ie(()=>C(c(y)));const w=document.createElement("textarea");let M=new gn(w,o);function X(A){let se=A.key;if(A.key===" "?se="Space":A.key==="`"&&(se="Backtick"),(o.keybinds[se]??A.key)==="nextParameter"&&c(m)){A.preventDefault();const j=c(m).pushValue(M.textarea.value);if(M.textarea.value="",j){const N=c(m).template;let K;if(N.type==="javascript"){let q=[];const Ye=new Tt(i.ans);for(const Ke of c(m).values)try{q.push(Ye.evaluate(Ke).toNumber())}catch{alert(`error in evaluating parameter: ${Ke}`),g(y,void 0);return}let je;try{je=new Function(...N.parameters,N.content)(...q)}catch(Ke){alert(`code errored: ${Ke}`),g(y,void 0);return}if(typeof je!="number"){alert("code did not return a number!"),g(y,void 0);return}K=Z.fromNumber(je).toRoundedString(o.maxDigits)}else{let q=0,Ye;K=N.content.replace(/\{[^}]+\}/g,()=>(Ye=c(m).values[q],q++,Ye))}g(y,void 0);const W=i.textarea.selectionStart,ae=i.textarea.selectionEnd,Je=i.textarea.value.substring(0,W),ct=i.textarea.value.substring(ae);i.textarea.value=Je+K+ct;const Q=W+K.length;i.textarea.selectionStart=i.textarea.selectionEnd=Q,i.textarea.focus()}}else M.handleKey(A)}let x=B(""),_=Ie(()=>o.templates.filter(A=>A.name.toLowerCase().includes(c(x).toLowerCase())));function b(){if(f.name===""){alert("name cannot be empty!");return}if(f.name.length>10){alert("name must be 10 characters or under!");return}for(const Y of o.templates)if(Y.name===f.name){alert("another template already has this name!");return}const A=f.parameters.split(",");if(f.parameters===""){alert("include at least 1 parameter!");return}for(const Y of A)try{new Function(`let ${Y}`)}catch{alert(`invalid parameter name: ${Y}`);return}if(f.type==="expression"){const Y=[...f.content.matchAll(/\{([^}]+)\}/g)].map(j=>j[1]);if(Y.length===0){alert("include at least 1 parameter in this expression! (use {})");return}for(const j of Y)if(!A.includes(j)){alert(`expression includes unspecified parameter: ${j}`);return}try{const j=f.content.replace(/\{[^}]+\}/g,()=>"1");new Tt().evaluate(j)}catch{alert("expression contains a syntax error!");return}}else if(f.type==="javascript"){let Y;try{Y=Function(...A,f.content)}catch(N){alert(`code failed to compile: ${N}`);return}let j;try{const N=A.map((K,W)=>W);j=Y(...N)}catch(N){alert(`code failed to run on test arguments: ${N}`);return}typeof j!="number"&&alert("code did not return a number!")}else{alert("unknown template type!");return}g(v,!1);const se={name:f.name,type:f.type,parameters:A,content:f.content};o.pushTemplate(se)}var H=ki(),P=E(H),V=E(P),Bt=E(V);Bt.__click=[fi,d];var cr=E(Bt),Ve=T(V,2);Ve.__click=()=>{i.useKeybinds=!i.useKeybinds,M.useKeybinds=!M.useKeybinds};var ge=E(Ve),Ut=T(P,2),zt=E(Ut);{var dr=A=>{var se=Ei(),Y=Ue(se),j=E(Y);j.__click=function(...R){var G;(G=i.handleExprClick)==null||G.apply(this,R)};var N=E(j),K=T(j,2);K.__click=function(...R){var G;(G=i.handleAnsClick)==null||G.apply(this,R)};var W=E(K),ae=T(Y,2);ae.__keydown=function(...R){var G;(G=i.handleKey)==null||G.apply(this,R)},kr(ae,R=>i.textarea=R,()=>i==null?void 0:i.textarea);var Je=T(ae,2);{var ct=R=>{var G=vi(),Oe=E(G);Oe.__keydown=X,kr(Oe,ee=>M.textarea=ee,()=>M==null?void 0:M.textarea);var vr=T(Oe,2);{var hr=ee=>{var me=ci(),dt=E(me);he(()=>{var Ce;return be(dt,`Press ${((Ce=c(m))==null?void 0:Ce.nextParamKey)??""} to input the next
                            parameter!`)}),z(ee,me)},pr=ee=>{var me=di(),dt=E(me);he(()=>{var Ce;return be(dt,`Press ${((Ce=c(m))==null?void 0:Ce.nextParamKey)??""} to finish!`)}),z(ee,me)};de(vr,ee=>{var me;(me=c(m))!=null&&me.isLastParam?ee(pr,!1):ee(hr)})}he(()=>{var ee;return U(Oe,"placeholder",(ee=c(m))==null?void 0:ee.paramName)}),z(R,G)};de(Je,R=>{c(y)&&R(ct)})}var Q=T(Je,2),q=E(Q),Ye=T(Q,2),je=E(Ye);je.__click=[hi,u];var Ke=E(je);{var jr=R=>{bt(R,{get icon(){return hn}})},us=R=>{bt(R,{get icon(){return pn}})};de(Ke,R=>{c(u)?R(jr):R(us,!1)})}var fs=T(je,2);{var cs=R=>{var G=wi(),Oe=E(G);Oe.__click=[pi,v];var vr=E(Oe);{var hr=te=>{bt(te,{get icon(){return hn}})},pr=te=>{bt(te,{get icon(){return pn}})};de(vr,te=>{c(v)?te(hr):te(pr,!1)})}var ee=T(Oe,2);{var me=te=>{var We=mi(),vt=E(We),ht=T(E(vt),2),Vt=T(vt,2),pt=T(E(Vt),2),_t=E(pt);_t.value=_t.__value="expression";var Kr=T(_t);Kr.value=Kr.__value="javascript";var qr=T(Vt,2),Br=T(E(qr),2),Ur=T(qr,2),zr=E(Ur),vs=E(zr),hs=T(zr,2);{var ps=fe=>{var qe=_i();U(qe,"placeholder",r),mt(qe,()=>f.content,_r=>f.content=_r),z(fe,qe)},_s=fe=>{var qe=gi();U(qe,"placeholder",s),mt(qe,()=>f.content,_r=>f.content=_r),z(fe,qe)};de(hs,fe=>{f.type==="javascript"?fe(ps):fe(_s,!1)})}var gs=T(Ur,2),ms=E(gs);ms.__click=b,he(()=>{U(Br,"placeholder",f.type==="javascript"?n:a),be(vs,f.type==="javascript"?"Code":"Expression")}),mt(ht,()=>f.name,fe=>f.name=fe),Fa(pt,()=>f.type,fe=>f.type=fe),mt(Br,()=>f.parameters,fe=>f.parameters=fe),z(te,We)};de(ee,te=>{c(v)&&te(me)})}var dt=T(ee,2),Ce=E(dt),ds=T(Ce,2);Ca(ds,21,()=>c(_),Na,(te,We)=>{var vt=xi(),ht=E(vt);ht.__click=[bi,y,We];var Vt=E(ht),pt=T(ht,2);pt.__click=[yi,o,We];var _t=E(pt);bt(_t,{get icon(){return li}}),he(()=>be(Vt,c(We).name)),z(te,vt)}),mt(Ce,()=>c(x),te=>g(x,te)),z(R,G)};de(fs,R=>{c(u)&&R(cs)})}he(R=>{be(N,i.expr),be(W,`= ${R??""}`),be(q,i.errorLine)},[()=>i.ans.toRoundedString(o.maxDigits)]),xa("wheel",ae,function(...R){var G;(G=i.handleScroll)==null||G.apply(this,R)}),z(A,se)},ft=A=>{var se=Si(),Y=Ue(se),j=E(Y);j.__click=function(...Q){var q;(q=o.setOneHandedKeybinds)==null||q.apply(this,Q)};var N=T(j,2);N.__click=function(...Q){var q;(q=o.clearKeybinds)==null||q.apply(this,Q)};var K=T(Y,2),W=E(K);W.__click=function(...Q){var q;(q=o.handleImport)==null||q.apply(this,Q)};var ae=T(W,2);ae.__click=function(...Q){var q;(q=o.handleExport)==null||q.apply(this,Q)};var Je=T(K,2),ct=E(Je);ct.__click=function(...Q){var q;(q=o.clearHistory)==null||q.apply(this,Q)},z(A,se)};de(zt,A=>{c(d)?A(ft,!1):A(dr)})}he(()=>{be(cr,c(h)),be(ge,c(p))}),z(e,H),sr()}wa(["click","keydown"]);var Ni=ue('<main><p class="text-red-500 font-bold">Page Not Found!</p></main>');function Oi(e){var t=Ni();z(e,t)}var Ci=ue("<main><!></main>");function Mi(e){const t={"/":Pi,"*":Oi};var r=Ci(),n=E(r);ti(n,{get routes(){return t}}),z(e,r)}Sa(Mi,{target:document.getElementById("app")});

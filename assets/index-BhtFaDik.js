var ys=Object.defineProperty;var Jr=e=>{throw TypeError(e)};var xs=(e,t,r)=>t in e?ys(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var k=(e,t,r)=>xs(e,typeof t!="symbol"?t+"":t,r),Yr=(e,t,r)=>t.has(e)||Jr("Cannot "+r);var A=(e,t,r)=>(Yr(e,t,"read from private field"),r?r.call(e):t.get(e)),re=(e,t,r)=>t.has(e)?Jr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ce=(e,t,r,n)=>(Yr(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();const Wr=!1;var it=Array.isArray,ws=Array.prototype.indexOf,Or=Array.from,Es=Object.defineProperty,Le=Object.getOwnPropertyDescriptor,yn=Object.getOwnPropertyDescriptors,Ss=Object.prototype,ks=Array.prototype,Tr=Object.getPrototypeOf,Gr=Object.isExtensible;function gt(e){return typeof e=="function"}const $e=()=>{};function Ps(e){return e()}function Et(e){for(var t=0;t<e.length;t++)e[t]()}const de=2,Cr=4,Ft=8,Mr=16,Pe=32,lt=64,Ir=128,ie=256,Zt=512,le=1024,ke=2048,De=4096,Se=8192,Ar=16384,xn=32768,rr=65536,Zr=1<<17,Ns=1<<18,wn=1<<19,xr=1<<20,Lr=1<<21,ye=Symbol("$state"),En=Symbol("legacy props"),Os=Symbol(""),Sn=new class extends Error{constructor(){super(...arguments);k(this,"name","StaleReactionError");k(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function kn(e){return e===this.v}function Pn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Nn(e){return!Pn(e,this.v)}function Ts(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Cs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ms(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Is(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function As(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function Ls(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Rs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Hs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ds(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ot=!1,Fs=!1;function js(){ot=!0}const Ks=1,qs=2,Bs=16,Us=1,zs=2,Vs=4,Js=8,Ys=16,On=1,Ws=2,ne=Symbol(),Gs="http://www.w3.org/1999/xhtml";function nr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let T=null;function $r(e){T=e}function sr(e,t=!1,r){var n=T={p:T,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};ot&&!t&&(T.l={s:null,u:null,r1:[],r2:kt(!1)}),Dr(()=>{n.d=!0})}function ar(e){const t=T;if(t!==null){const o=t.e;if(o!==null){var r=I,n=P;t.e=null;try{for(var s=0;s<o.length;s++){var a=o[s];He(a.effect),xe(a.reaction),Fn(a.fn)}}finally{He(r),xe(n)}}T=t.p,t.m=!0}return{}}function jt(){return!ot||T!==null&&T.l===null}function he(e){if(typeof e!="object"||e===null||ye in e)return e;const t=Tr(e);if(t!==Ss&&t!==ks)return e;var r=new Map,n=it(e),s=q(0),a=P,o=l=>{var i=P;xe(a);var u=l();return xe(i),u};return n&&r.set("length",q(e.length)),new Proxy(e,{defineProperty(l,i,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Rs();var v=r.get(i);return v===void 0?v=o(()=>{var f=q(u.value);return r.set(i,f),f}):_(v,u.value,!0),!0},deleteProperty(l,i){var u=r.get(i);if(u===void 0){if(i in l){const d=o(()=>q(ne));r.set(i,d),mr(s)}}else{if(n&&typeof i=="string"){var v=r.get("length"),f=Number(i);Number.isInteger(f)&&f<v.v&&_(v,f)}_(u,ne),mr(s)}return!0},get(l,i,u){var h;if(i===ye)return e;var v=r.get(i),f=i in l;if(v===void 0&&(!f||(h=Le(l,i))!=null&&h.writable)&&(v=o(()=>{var p=he(f?l[i]:ne),y=q(p);return y}),r.set(i,v)),v!==void 0){var d=c(v);return d===ne?void 0:d}return Reflect.get(l,i,u)},getOwnPropertyDescriptor(l,i){var u=Reflect.getOwnPropertyDescriptor(l,i);if(u&&"value"in u){var v=r.get(i);v&&(u.value=c(v))}else if(u===void 0){var f=r.get(i),d=f==null?void 0:f.v;if(f!==void 0&&d!==ne)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(l,i){var d;if(i===ye)return!0;var u=r.get(i),v=u!==void 0&&u.v!==ne||Reflect.has(l,i);if(u!==void 0||I!==null&&(!v||(d=Le(l,i))!=null&&d.writable)){u===void 0&&(u=o(()=>{var h=v?he(l[i]):ne,p=q(h);return p}),r.set(i,u));var f=c(u);if(f===ne)return!1}return v},set(l,i,u,v){var O;var f=r.get(i),d=i in l;if(n&&i==="length")for(var h=u;h<f.v;h+=1){var p=r.get(h+"");p!==void 0?_(p,ne):h in l&&(p=o(()=>q(ne)),r.set(h+"",p))}if(f===void 0)(!d||(O=Le(l,i))!=null&&O.writable)&&(f=o(()=>q(void 0)),_(f,he(u)),r.set(i,f));else{d=f.v!==ne;var y=o(()=>he(u));_(f,y)}var C=Reflect.getOwnPropertyDescriptor(l,i);if(C!=null&&C.set&&C.set.call(v,u),!d){if(n&&typeof i=="string"){var m=r.get("length"),E=Number(i);Number.isInteger(E)&&E>=m.v&&_(m,E+1)}mr(s)}return!0},ownKeys(l){c(s);var i=Reflect.ownKeys(l).filter(f=>{var d=r.get(f);return d===void 0||d.v!==ne});for(var[u,v]of r)v.v!==ne&&!(u in l)&&i.push(u);return i},setPrototypeOf(){Hs()}})}function mr(e,t=1){_(e,e.v+t)}function Xr(e){try{if(e!==null&&typeof e=="object"&&ye in e)return e[ye]}catch{}return e}function Zs(e,t){return Object.is(Xr(e),Xr(t))}function Kt(e){var t=de|ke,r=P!==null&&(P.f&de)!==0?P:null;return I===null||r!==null&&(r.f&ie)!==0?t|=ie:I.f|=wn,{ctx:T,deps:null,effects:null,equals:kn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??I,ac:null}}function Ie(e){const t=Kt(e);return Gn(t),t}function Rr(e){const t=Kt(e);return t.equals=Nn,t}function Tn(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)Re(t[r])}}function $s(e){for(var t=e.parent;t!==null;){if((t.f&de)===0)return t;t=t.parent}return null}function Cn(e){var t,r=I;He($s(e));try{Tn(e),t=Xn(e)}finally{He(r)}return t}function Mn(e){var t=Cn(e);if(e.equals(t)||(e.v=t,e.wv=Zn()),!ut){var r=(Ae||(e.f&ie)!==0)&&e.deps!==null?De:le;pe(e,r)}}const St=new Map;function kt(e,t){var r={f:0,v:e,reactions:null,equals:kn,rv:0,wv:0};return r}function q(e,t){const r=kt(e);return Gn(r),r}function Be(e,t=!1,r=!0){var s;const n=kt(e);return t||(n.equals=Nn),ot&&r&&T!==null&&T.l!==null&&((s=T.l).s??(s.s=[])).push(n),n}function _(e,t,r=!1){P!==null&&(!be||(P.f&Zr)!==0)&&jt()&&(P.f&(de|Mr|Zr))!==0&&!((J==null?void 0:J.reaction)===P&&J.sources.includes(e))&&Ds();let n=r?he(t):t;return In(e,n)}function In(e,t){if(!e.equals(t)){var r=e.v;ut?St.set(e,t):St.set(e,r),e.v=t,(e.f&de)!==0&&((e.f&ke)!==0&&Cn(e),pe(e,(e.f&ie)===0?le:De)),e.wv=Zn(),An(e,ke),jt()&&I!==null&&(I.f&le)!==0&&(I.f&(Pe|lt))===0&&(fe===null?fa([e]):fe.push(e))}return t}function An(e,t){var r=e.reactions;if(r!==null)for(var n=jt(),s=r.length,a=0;a<s;a++){var o=r[a],l=o.f;(l&ke)===0&&(!n&&o===I||(pe(o,t),(l&(le|ie))!==0&&((l&de)!==0?An(o,De):fr(o))))}}function Xs(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let Qs=!1;var Qr,Ln,Rn,Hn;function ea(){if(Qr===void 0){Qr=window,Ln=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Rn=Le(t,"firstChild").get,Hn=Le(t,"nextSibling").get,Gr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Gr(r)&&(r.__t=void 0)}}function Hr(e=""){return document.createTextNode(e)}function Ee(e){return Rn.call(e)}function ir(e){return Hn.call(e)}function w(e,t){return Ee(e)}function Ue(e,t){{var r=Ee(e);return r instanceof Comment&&r.data===""?ir(r):r}}function M(e,t=1,r=!1){let n=e;for(;t--;)n=ir(n);return n}function ta(e){e.textContent=""}function Dn(e){I===null&&P===null&&Ms(),P!==null&&(P.f&ie)!==0&&I===null&&Cs(),ut&&Ts()}function ra(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Fe(e,t,r,n=!0){var s=I,a={ctx:T,deps:null,nodes_start:null,nodes_end:null,f:e|ke,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{ur(a),a.f|=xn}catch(i){throw Re(a),i}else t!==null&&fr(a);var o=r&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(wn|Ir))===0;if(!o&&n&&(s!==null&&ra(a,s),P!==null&&(P.f&de)!==0)){var l=P;(l.effects??(l.effects=[])).push(a)}return a}function Dr(e){const t=Fe(Ft,null,!1);return pe(t,le),t.teardown=e,t}function wr(e){Dn();var t=I!==null&&(I.f&Pe)!==0&&T!==null&&!T.m;if(t){var r=T;(r.e??(r.e=[])).push({fn:e,effect:I,reaction:P})}else return Fn(e)}function Fn(e){return Fe(Cr|Lr,e,!1)}function na(e){return Dn(),Fe(Ft|Lr,e,!0)}function sa(e){const t=Fe(lt,e,!0);return(r={})=>new Promise(n=>{r.outro?Pt(t,()=>{Re(t),n(void 0)}):(Re(t),n(void 0))})}function jn(e){return Fe(Cr,e,!1)}function Wt(e,t){var r=T,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=lr(()=>{e(),!n.ran&&(n.ran=!0,_(r.l.r2,!0),j(t))})}function Kn(){var e=T;lr(()=>{if(c(e.l.r2)){for(var t of e.l.r1){var r=t.effect;(r.f&le)!==0&&pe(r,De),qt(r)&&ur(r),t.ran=!1}e.l.r2.v=!1}})}function lr(e){return Fe(Ft,e,!0)}function ve(e,t=[],r=Kt){const n=t.map(r);return or(()=>e(...n.map(c)))}function or(e,t=0){var r=Fe(Ft|Mr|t,e,!0);return r}function at(e,t=!0){return Fe(Ft|Pe,e,!0,t)}function qn(e){var t=e.teardown;if(t!==null){const r=ut,n=P;en(!0),xe(null);try{t.call(null)}finally{en(r),xe(n)}}}function Bn(e,t=!1){var s;var r=e.first;for(e.first=e.last=null;r!==null;){(s=r.ac)==null||s.abort(Sn);var n=r.next;(r.f&lt)!==0?r.parent=null:Re(r,t),r=n}}function aa(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Pe)===0&&Re(t),t=r}}function Re(e,t=!0){var r=!1;(t||(e.f&Ns)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(ia(e.nodes_start,e.nodes_end),r=!0),Bn(e,t&&!r),er(e,0),pe(e,Ar);var n=e.transitions;if(n!==null)for(const a of n)a.stop();qn(e);var s=e.parent;s!==null&&s.first!==null&&Un(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ia(e,t){for(;e!==null;){var r=e===t?null:ir(e);e.remove(),e=r}}function Un(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Pt(e,t){var r=[];Fr(e,r,!0),zn(r,()=>{Re(e),t&&t()})}function zn(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var s of e)s.out(n)}else t()}function Fr(e,t,r){if((e.f&Se)===0){if(e.f^=Se,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&t.push(o);for(var n=e.first;n!==null;){var s=n.next,a=(n.f&rr)!==0||(n.f&Pe)!==0;Fr(n,t,a?r:!1),n=s}}}function $t(e){Vn(e,!0)}function Vn(e,t){if((e.f&Se)!==0){e.f^=Se;for(var r=e.first;r!==null;){var n=r.next,s=(r.f&rr)!==0||(r.f&Pe)!==0;Vn(r,s?t:!1),r=n}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let Nt=[],Er=[];function Jn(){var e=Nt;Nt=[],Et(e)}function la(){var e=Er;Er=[],Et(e)}function Yn(e){Nt.length===0&&queueMicrotask(Jn),Nt.push(e)}function oa(){Nt.length>0&&Jn(),Er.length>0&&la()}function ua(e){var t=I;if((t.f&xn)===0){if((t.f&Ir)===0)throw e;t.fn(e)}else Wn(e,t)}function Wn(e,t){for(;t!==null;){if((t.f&Ir)!==0)try{t.b.error(e);return}catch{}t=t.parent}throw e}let Ot=!1,Tt=null,ze=!1,ut=!1;function en(e){ut=e}let xt=[];let P=null,be=!1;function xe(e){P=e}let I=null;function He(e){I=e}let J=null;function Gn(e){P!==null&&P.f&xr&&(J===null?J={reaction:P,sources:[e]}:J.sources.push(e))}let Z=null,ae=0,fe=null;function fa(e){fe=e}let Xt=1,Qt=0,Ae=!1;function Zn(){return++Xt}function qt(e){var f;var t=e.f;if((t&ke)!==0)return!0;if((t&De)!==0){var r=e.deps,n=(t&ie)!==0;if(r!==null){var s,a,o=(t&Zt)!==0,l=n&&I!==null&&!Ae,i=r.length;if(o||l){var u=e,v=u.parent;for(s=0;s<i;s++)a=r[s],(o||!((f=a==null?void 0:a.reactions)!=null&&f.includes(u)))&&(a.reactions??(a.reactions=[])).push(u);o&&(u.f^=Zt),l&&v!==null&&(v.f&ie)===0&&(u.f^=ie)}for(s=0;s<i;s++)if(a=r[s],qt(a)&&Mn(a),a.wv>e.wv)return!0}(!n||I!==null&&!Ae)&&pe(e,le)}return!1}function $n(e,t,r=!0){var n=e.reactions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];(J==null?void 0:J.reaction)===P&&J.sources.includes(e)||((a.f&de)!==0?$n(a,t,!1):t===a&&(r?pe(a,ke):(a.f&le)!==0&&pe(a,De),fr(a)))}}function Xn(e){var h;var t=Z,r=ae,n=fe,s=P,a=Ae,o=J,l=T,i=be,u=e.f;Z=null,ae=0,fe=null,Ae=(u&ie)!==0&&(be||!ze||P===null),P=(u&(Pe|lt))===0?e:null,J=null,$r(e.ctx),be=!1,Qt++,e.f|=xr,e.ac!==null&&(e.ac.abort(Sn),e.ac=null);try{var v=(0,e.fn)(),f=e.deps;if(Z!==null){var d;if(er(e,ae),f!==null&&ae>0)for(f.length=ae+Z.length,d=0;d<Z.length;d++)f[ae+d]=Z[d];else e.deps=f=Z;if(!Ae||(u&de)!==0&&e.reactions!==null)for(d=ae;d<f.length;d++)((h=f[d]).reactions??(h.reactions=[])).push(e)}else f!==null&&ae<f.length&&(er(e,ae),f.length=ae);if(jt()&&fe!==null&&!be&&f!==null&&(e.f&(de|De|ke))===0)for(d=0;d<fe.length;d++)$n(fe[d],e);return s!==null&&s!==e&&(Qt++,fe!==null&&(n===null?n=fe:n.push(...fe))),v}catch(p){ua(p)}finally{Z=t,ae=r,fe=n,P=s,Ae=a,J=o,$r(l),be=i,e.f^=xr}}function ca(e,t){let r=t.reactions;if(r!==null){var n=ws.call(r,e);if(n!==-1){var s=r.length-1;s===0?r=t.reactions=null:(r[n]=r[s],r.pop())}}r===null&&(t.f&de)!==0&&(Z===null||!Z.includes(t))&&(pe(t,De),(t.f&(ie|Zt))===0&&(t.f^=Zt),Tn(t),er(t,0))}function er(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)ca(e,r[n])}function ur(e){var t=e.f;if((t&Ar)===0){pe(e,le);var r=I,n=ze;I=e,ze=!0;try{(t&Mr)!==0?aa(e):Bn(e),qn(e);var s=Xn(e);e.teardown=typeof s=="function"?s:null,e.wv=Xt;var a;Wr&&Fs&&(e.f&ke)!==0&&e.deps}finally{ze=n,I=r}}}function da(){try{Is()}catch(e){if(Tt!==null)Wn(e,Tt);else throw e}}function Qn(){var e=ze;try{var t=0;for(ze=!0;xt.length>0;){t++>1e3&&da();var r=xt,n=r.length;xt=[];for(var s=0;s<n;s++){var a=ha(r[s]);va(a)}St.clear()}}finally{Ot=!1,ze=e,Tt=null}}function va(e){var t=e.length;if(t!==0){for(var r=0;r<t;r++){var n=e[r];if((n.f&(Ar|Se))===0&&qt(n)){var s=Xt;if(ur(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Un(n):n.fn=null),Xt>s&&(n.f&Lr)!==0)break}}for(;r<t;r+=1)fr(e[r])}}function fr(e){Ot||(Ot=!0,queueMicrotask(Qn));for(var t=Tt=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(lt|Pe))!==0){if((r&le)===0)return;t.f^=le}}xt.push(t)}function ha(e){for(var t=[],r=e;r!==null;){var n=r.f,s=(n&(Pe|lt))!==0,a=s&&(n&le)!==0;if(!a&&(n&Se)===0){(n&Cr)!==0?t.push(r):s?r.f^=le:qt(r)&&ur(r);var o=r.first;if(o!==null){r=o;continue}}var l=r.parent;for(r=r.next;r===null&&l!==null;)r=l.next,l=l.parent}return t}function pa(e){for(var t;;){if(oa(),xt.length===0)return Ot=!1,Tt=null,t;Ot=!0,Qn()}}async function _a(){await Promise.resolve(),pa()}function c(e){var t=e.f,r=(t&de)!==0;if(P!==null&&!be){if((J==null?void 0:J.reaction)!==P||!(J!=null&&J.sources.includes(e))){var n=P.deps;e.rv<Qt&&(e.rv=Qt,Z===null&&n!==null&&n[ae]===e?ae++:Z===null?Z=[e]:(!Ae||!Z.includes(e))&&Z.push(e))}}else if(r&&e.deps===null&&e.effects===null){var s=e,a=s.parent;a!==null&&(a.f&ie)===0&&(s.f^=ie)}return r&&(s=e,qt(s)&&Mn(s)),ut&&St.has(e)?St.get(e):e.v}function j(e){var t=be;try{return be=!0,e()}finally{be=t}}const ga=-7169;function pe(e,t){e.f=e.f&ga|t}function we(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ye in e)Sr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&ye in r&&Sr(r)}}}function Sr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{Sr(e[n],t)}catch{}const r=Tr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=yn(r);for(let s in n){const a=n[s].get;if(a)try{a.call(e)}catch{}}}}}const ma=["touchstart","touchmove"];function ba(e){return ma.includes(e)}let tn=!1;function ya(){tn||(tn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function es(e){var t=P,r=I;xe(null),He(null);try{return e()}finally{xe(t),He(r)}}function ts(e,t,r,n=r){e.addEventListener(t,()=>es(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),ya()}const rs=new Set,kr=new Set;function xa(e,t,r,n={}){function s(a){if(n.capture||yt.call(t,a),!a.cancelBubble)return es(()=>r==null?void 0:r.call(this,a))}return Yn(()=>{t.addEventListener(e,s,n)}),s}function wa(e,t,r,n,s){var a={capture:n,passive:s},o=xa(e,t,r,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Dr(()=>{t.removeEventListener(e,o,a)})}function Ea(e){for(var t=0;t<e.length;t++)rs.add(e[t]);for(var r of kr)r(e)}function yt(e){var E;var t=this,r=t.ownerDocument,n=e.type,s=((E=e.composedPath)==null?void 0:E.call(e))||[],a=s[0]||e.target,o=0,l=e.__root;if(l){var i=s.indexOf(l);if(i!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;i<=u&&(o=i)}if(a=s[o]||e.target,a!==t){Es(e,"currentTarget",{configurable:!0,get(){return a||r}});var v=P,f=I;xe(null),He(null);try{for(var d,h=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var y=a["__"+n];if(y!=null&&(!a.disabled||e.target===a))if(it(y)){var[C,...m]=y;C.apply(a,[e,...m])}else y.call(a,e)}catch(O){d?h.push(O):d=O}if(e.cancelBubble||p===t||p===null)break;a=p}if(d){for(let O of h)queueMicrotask(()=>{throw O});throw d}}finally{e.__root=t,delete e.currentTarget,xe(v),He(f)}}}function ns(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Ct(e,t){var r=I;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function oe(e,t){var r=(t&On)!==0,n=(t&Ws)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=ns(a?e:"<!>"+e),r||(s=Ee(s)));var o=n||Ln?document.importNode(s,!0):s.cloneNode(!0);if(r){var l=Ee(o),i=o.lastChild;Ct(l,i)}else Ct(o,o);return o}}function Sa(e,t,r="svg"){var n=!e.startsWith("<!>"),s=(t&On)!==0,a=`<${r}>${n?e:"<!>"+e}</${r}>`,o;return()=>{if(!o){var l=ns(a),i=Ee(l);if(s)for(o=document.createDocumentFragment();Ee(i);)o.appendChild(Ee(i));else o=Ee(i)}var u=o.cloneNode(!0);if(s){var v=Ee(u),f=u.lastChild;Ct(v,f)}else Ct(u,u);return u}}function cr(e,t){return Sa(e,t,"svg")}function Gt(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Hr();return e.append(t,r),Ct(t,r),e}function z(e,t){e!==null&&e.before(t)}function me(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function ka(e,t){return Pa(e,t)}const Ge=new Map;function Pa(e,{target:t,anchor:r,props:n={},events:s,context:a,intro:o=!0}){ea();var l=new Set,i=f=>{for(var d=0;d<f.length;d++){var h=f[d];if(!l.has(h)){l.add(h);var p=ba(h);t.addEventListener(h,yt,{passive:p});var y=Ge.get(h);y===void 0?(document.addEventListener(h,yt,{passive:p}),Ge.set(h,1)):Ge.set(h,y+1)}}};i(Or(rs)),kr.add(i);var u=void 0,v=sa(()=>{var f=r??t.appendChild(Hr());return at(()=>{if(a){sr({});var d=T;d.c=a}s&&(n.$$events=s),u=e(f,n)||{},a&&ar()}),()=>{var p;for(var d of l){t.removeEventListener(d,yt);var h=Ge.get(d);--h===0?(document.removeEventListener(d,yt),Ge.delete(d)):Ge.set(d,h)}kr.delete(i),f!==r&&((p=f.parentNode)==null||p.removeChild(f))}});return Na.set(u,v),u}let Na=new WeakMap;function ce(e,t,[r,n]=[0,0]){var s=e,a=null,o=null,l=ne,i=r>0?rr:0,u=!1;const v=(d,h=!0)=>{u=!0,f(h,d)},f=(d,h)=>{l!==(l=d)&&(l?(a?$t(a):h&&(a=at(()=>h(s))),o&&Pt(o,()=>{o=null})):(o?$t(o):h&&(o=at(()=>h(s,[r+1,n]))),a&&Pt(a,()=>{a=null})))};or(()=>{u=!1,t(v),u||f(null,null)},i)}function Oa(e,t){return t}function Ta(e,t,r,n){for(var s=[],a=t.length,o=0;o<a;o++)Fr(t[o].e,s,!0);var l=a>0&&s.length===0&&r!==null;if(l){var i=r.parentNode;ta(i),i.append(r),n.clear(),Me(e,t[0].prev,t[a-1].next)}zn(s,()=>{for(var u=0;u<a;u++){var v=t[u];l||(n.delete(v.k),Me(e,v.prev,v.next)),Re(v.e,!l)}})}function Ca(e,t,r,n,s,a=null){var o=e,l={flags:t,items:new Map,first:null};{var i=e;o=i.appendChild(Hr())}var u=null,v=!1,f=Rr(()=>{var d=r();return it(d)?d:d==null?[]:Or(d)});or(()=>{var d=c(f),h=d.length;v&&h===0||(v=h===0,Ma(d,l,o,s,t,n,r),a!==null&&(h===0?u?$t(u):u=at(()=>a(o)):u!==null&&Pt(u,()=>{u=null})),c(f))})}function Ma(e,t,r,n,s,a,o){var l=e.length,i=t.items,u=t.first,v=u,f,d=null,h=[],p=[],y,C,m,E;for(E=0;E<l;E+=1){if(y=e[E],C=a(y,E),m=i.get(C),m===void 0){var O=v?v.e.nodes_start:r;d=Aa(O,t,d,d===null?t.first:d.next,y,C,E,n,s,o),i.set(C,d),h=[],p=[],v=d.next;continue}if(Ia(m,y,E),(m.e.f&Se)!==0&&$t(m.e),m!==v){if(f!==void 0&&f.has(m)){if(h.length<p.length){var $=p[0],x;d=$.prev;var g=h[0],b=h[h.length-1];for(x=0;x<h.length;x+=1)rn(h[x],$,r);for(x=0;x<p.length;x+=1)f.delete(p[x]);Me(t,g.prev,b.next),Me(t,d,g),Me(t,b,$),v=$,d=b,E-=1,h=[],p=[]}else f.delete(m),rn(m,v,r),Me(t,m.prev,m.next),Me(t,m,d===null?t.first:d.next),Me(t,d,m),d=m;continue}for(h=[],p=[];v!==null&&v.k!==C;)(v.e.f&Se)===0&&(f??(f=new Set)).add(v),p.push(v),v=v.next;if(v===null)continue;m=v}h.push(m),d=m,v=m.next}if(v!==null||f!==void 0){for(var D=f===void 0?[]:Or(f);v!==null;)(v.e.f&Se)===0&&D.push(v),v=v.next;var N=D.length;if(N>0){var V=l===0?r:null;Ta(t,D,V,i)}}I.first=t.first&&t.first.e,I.last=d&&d.e}function Ia(e,t,r,n){In(e.v,t),e.i=r}function Aa(e,t,r,n,s,a,o,l,i,u){var v=(i&Ks)!==0,f=(i&Bs)===0,d=v?f?Be(s,!1,!1):kt(s):s,h=(i&qs)===0?o:kt(o),p={i:h,v:d,k:a,a:null,e:null,prev:r,next:n};try{return p.e=at(()=>l(e,d,h,u),Qs),p.e.prev=r&&r.e,p.e.next=n&&n.e,r===null?t.first=p:(r.next=p,r.e.next=p.e),n!==null&&(n.prev=p,n.e.prev=p.e),p}finally{}}function rn(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,s=t?t.e.nodes_start:r,a=e.e.nodes_start;a!==n;){var o=ir(a);s.before(a),a=o}}function Me(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function nn(e,t,r){var n=e,s,a;or(()=>{s!==(s=t())&&(a&&(Pt(a),a=null),s&&(a=at(()=>r(n,s))))},rr)}const sn=[...` 	
\r\f \v\uFEFF`];function La(e,t,r){var n=e==null?"":""+e;if(n=n?n+" "+t:t,r){for(var s in r)if(r[s])n=n?n+" "+s:s;else if(n.length)for(var a=s.length,o=0;(o=n.indexOf(s,o))>=0;){var l=o+a;(o===0||sn.includes(n[o-1]))&&(l===n.length||sn.includes(n[l]))?n=(o===0?"":n.substring(0,o))+n.substring(l+1):o=l}}return n===""?null:n}function Ra(e,t){return e==null?null:String(e)}function Ha(e,t,r,n,s,a){var o=e.__className;if(o!==r||o===void 0){var l=La(r,n,a);l==null?e.removeAttribute("class"):e.setAttribute("class",l),e.__className=r}else if(a&&s!==a)for(var i in a){var u=!!a[i];(s==null||u!==!!s[i])&&e.classList.toggle(i,u)}return a}function Da(e,t,r,n){var s=e.__style;if(s!==t){var a=Ra(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return n}function ss(e,t,r=!1){if(e.multiple){if(t==null)return;if(!it(t))return Xs();for(var n of e.options)n.selected=t.includes(wt(n));return}for(n of e.options){var s=wt(n);if(Zs(s,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function Fa(e){var t=new MutationObserver(()=>{ss(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Dr(()=>{t.disconnect()})}function ja(e,t,r=t){var n=!0;ts(e,"change",s=>{var a=s?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(a),wt);else{var l=e.querySelector(a)??e.querySelector("option:not([disabled])");o=l&&wt(l)}r(o)}),jn(()=>{var s=t();if(ss(e,s,n),n&&s===void 0){var a=e.querySelector(":checked");a!==null&&(s=wt(a),r(s))}e.__value=s,n=!1}),Fa(e)}function wt(e){return"__value"in e?e.__value:e.value}const Ka=Symbol("is custom element"),qa=Symbol("is html");function U(e,t,r,n){var s=Ba(e);s[t]!==(s[t]=r)&&(t==="loading"&&(e[Os]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Ua(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Ba(e){return e.__attributes??(e.__attributes={[Ka]:e.nodeName.includes("-"),[qa]:e.namespaceURI===Gs})}var an=new Map;function Ua(e){var t=an.get(e.nodeName);if(t)return t;an.set(e.nodeName,t=[]);for(var r,n=e,s=Element.prototype;s!==n;){r=yn(n);for(var a in r)r[a].set&&t.push(a);n=Tr(n)}return t}function mt(e,t,r=t){var n=jt();ts(e,"input",s=>{var a=s?e.defaultValue:e.value;if(a=br(e)?yr(a):a,r(a),n&&a!==(a=t())){var o=e.selectionStart,l=e.selectionEnd;e.value=a??"",l!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(l,e.value.length))}}),j(t)==null&&e.value&&r(br(e)?yr(e.value):e.value),lr(()=>{var s=t();br(e)&&s===yr(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function br(e){var t=e.type;return t==="number"||t==="range"}function yr(e){return e===""?null:+e}function ln(e,t){return e===t||(e==null?void 0:e[ye])===t}function Pr(e={},t,r,n){return jn(()=>{var s,a;return lr(()=>{s=a,a=[],j(()=>{e!==r(...a)&&(t(e,...a),s&&ln(r(...s),e)&&t(null,...s))})}),()=>{Yn(()=>{a&&ln(r(...a),e)&&t(null,...a)})}}),e}function as(e=!1){const t=T,r=t.l.u;if(!r)return;let n=()=>we(t.s);if(e){let s=0,a={};const o=Kt(()=>{let l=!1;const i=t.s;for(const u in i)i[u]!==a[u]&&(a[u]=i[u],l=!0);return l&&s++,s});n=()=>c(o)}r.b.length&&na(()=>{on(t,n),Et(r.b)}),wr(()=>{const s=j(()=>r.m.map(Ps));return()=>{for(const a of s)typeof a=="function"&&a()}}),r.a.length&&wr(()=>{on(t,n),Et(r.a)})}function on(e,t){if(e.l.s)for(const r of e.l.s)c(r);t()}function un(e,t){var a;var r=(a=e.$$events)==null?void 0:a[t.type],n=it(r)?r.slice():r==null?[]:[r];for(var s of n)s.call(this,t)}function za(e,t,r){if(e==null)return t(void 0),r&&r(void 0),$e;const n=j(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const Ze=[];function is(e,t){return{subscribe:ls(e,t).subscribe}}function ls(e,t=$e){let r=null;const n=new Set;function s(l){if(Pn(e,l)&&(e=l,r)){const i=!Ze.length;for(const u of n)u[1](),Ze.push(u,e);if(i){for(let u=0;u<Ze.length;u+=2)Ze[u][0](Ze[u+1]);Ze.length=0}}}function a(l){s(l(e))}function o(l,i=$e){const u=[l,i];return n.add(u),n.size===1&&(r=t(s,a)||$e),l(e),()=>{n.delete(u),n.size===0&&r&&(r(),r=null)}}return{set:s,update:a,subscribe:o}}function os(e,t,r){const n=!Array.isArray(e),s=n?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return is(r,(o,l)=>{let i=!1;const u=[];let v=0,f=$e;const d=()=>{if(v)return;f();const p=t(n?u[0]:u,o,l);a?o(p):f=typeof p=="function"?p:$e},h=s.map((p,y)=>za(p,C=>{u[y]=C,v&=~(1<<y),i&&d()},()=>{v|=1<<y}));return i=!0,d(),function(){Et(h),f(),i=!1}})}let Yt=!1;function Va(e){var t=Yt;try{return Yt=!1,[e(),Yt]}finally{Yt=t}}const Ja={get(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(gt(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n)return n[t]}},set(e,t,r){let n=e.props.length;for(;n--;){let s=e.props[n];gt(s)&&(s=s());const a=Le(s,t);if(a&&a.set)return a.set(r),!0}return!1},getOwnPropertyDescriptor(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(gt(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n){const s=Le(n,t);return s&&!s.configurable&&(s.configurable=!0),s}}},has(e,t){if(t===ye||t===En)return!1;for(let r of e.props)if(gt(r)&&(r=r()),r!=null&&t in r)return!0;return!1},ownKeys(e){const t=[];for(let r of e.props)if(gt(r)&&(r=r()),!!r){for(const n in r)t.includes(n)||t.push(n);for(const n of Object.getOwnPropertySymbols(r))t.includes(n)||t.push(n)}return t}};function fn(...e){return new Proxy({props:e},Ja)}function Ya(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function F(e,t,r,n){var m;var s=!ot||(r&zs)!==0,a=(r&Js)!==0,o=(r&Ys)!==0,l=n,i=!0,u=()=>(i&&(i=!1,l=o?j(n):n),l),v;if(a){var f=ye in e||En in e;v=((m=Le(e,t))==null?void 0:m.set)??(f&&t in e?E=>e[t]=E:void 0)}var d,h=!1;a?[d,h]=Va(()=>e[t]):d=e[t],d===void 0&&n!==void 0&&(d=u(),v&&(s&&Ls(),v(d)));var p;if(s?p=()=>{var E=e[t];return E===void 0?u():(i=!0,E)}:p=()=>{var E=e[t];return E!==void 0&&(l=void 0),E===void 0?l:E},s&&(r&Vs)===0)return p;if(v){var y=e.$$legacy;return function(E,O){return arguments.length>0?((!s||!O||y||h)&&v(O?p():E),E):p()}}var C=((r&Us)!==0?Kt:Rr)(p);return a&&c(C),function(E,O){if(arguments.length>0){const $=O?c(C):s&&a?he(E):E;return _(C,$),l!==void 0&&(l=$),E}return Ya(C)?C.v:c(C)}}function Wa(e){T===null&&nr(),ot&&T.l!==null?us(T).m.push(e):wr(()=>{const t=j(e);if(typeof t=="function")return t})}function Ga(e){T===null&&nr(),Wa(()=>()=>j(e))}function Za(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}function $a(){const e=T;return e===null&&nr(),(t,r,n)=>{var a;const s=(a=e.s.$$events)==null?void 0:a[t];if(s){const o=it(s)?s.slice():[s],l=Za(t,r,n);for(const i of o)i.call(e.x,l);return!l.defaultPrevented}return!0}}function Xa(e){T===null&&nr(),T.l===null&&As(),us(T).a.push(e)}function us(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Qa="5";var bn;typeof window<"u"&&((bn=window.__svelte??(window.__svelte={})).v??(bn.v=new Set)).add(Qa);js();function ei(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,s,a,o=[],l="",i=e.split("/");for(i[0]||i.shift();s=i.shift();)r=s[0],r==="*"?(o.push("wild"),l+="/(.*)"):r===":"?(n=s.indexOf("?",1),a=s.indexOf(".",1),o.push(s.substring(1,~n?n:~a?a:s.length)),l+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~n?"?":"")+"\\"+s.substring(a))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+"/?$","i")}}function cn(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const r=t.indexOf("?");let n="";return r>-1&&(n=t.substr(r+1),t=t.substr(0,r)),{location:t,querystring:n}}const jr=is(null,function(t){t(cn());const r=()=>{t(cn())};return window.addEventListener("hashchange",r,!1),function(){window.removeEventListener("hashchange",r,!1)}});os(jr,e=>e.location);os(jr,e=>e.querystring);const dn=ls(void 0);function ti(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function ri(e,t){sr(t,!1);let r=F(t,"routes",24,()=>({})),n=F(t,"prefix",8,""),s=F(t,"restoreScrollState",8,!1);class a{constructor(g,b){if(!b||typeof b!="function"&&(typeof b!="object"||b._sveltesparouter!==!0))throw Error("Invalid component object");if(!g||typeof g=="string"&&(g.length<1||g.charAt(0)!="/"&&g.charAt(0)!="*")||typeof g=="object"&&!(g instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:D,keys:N}=ei(g);this.path=g,typeof b=="object"&&b._sveltesparouter===!0?(this.component=b.component,this.conditions=b.conditions||[],this.userData=b.userData,this.props=b.props||{}):(this.component=()=>Promise.resolve(b),this.conditions=[],this.props={}),this._pattern=D,this._keys=N}match(g){if(n()){if(typeof n()=="string")if(g.startsWith(n()))g=g.substr(n().length)||"/";else return null;else if(n()instanceof RegExp){const V=g.match(n());if(V&&V[0])g=g.substr(V[0].length)||"/";else return null}}const b=this._pattern.exec(g);if(b===null)return null;if(this._keys===!1)return b;const D={};let N=0;for(;N<this._keys.length;){try{D[this._keys[N]]=decodeURIComponent(b[N+1]||"")||null}catch{D[this._keys[N]]=null}N++}return D}async checkConditions(g){for(let b=0;b<this.conditions.length;b++)if(!await this.conditions[b](g))return!1;return!0}}const o=[];r()instanceof Map?r().forEach((x,g)=>{o.push(new a(g,x))}):Object.keys(r()).forEach(x=>{o.push(new a(x,r()[x]))});let l=Be(null),i=Be(null),u=Be({});const v=$a();async function f(x,g){await _a(),v(x,g)}let d=null,h=null;s()&&(h=x=>{x.state&&(x.state.__svelte_spa_router_scrollY||x.state.__svelte_spa_router_scrollX)?d=x.state:d=null},window.addEventListener("popstate",h),Xa(()=>{ti(d)}));let p=null,y=null;const C=jr.subscribe(async x=>{p=x;let g=0;for(;g<o.length;){const b=o[g].match(x.location);if(!b){g++;continue}const D={route:o[g].path,location:x.location,querystring:x.querystring,userData:o[g].userData,params:b&&typeof b=="object"&&Object.keys(b).length?b:null};if(!await o[g].checkConditions(D)){_(l,null),y=null,f("conditionsFailed",D);return}f("routeLoading",Object.assign({},D));const N=o[g].component;if(y!=N){N.loading?(_(l,N.loading),y=N,_(i,N.loadingParams),_(u,{}),f("routeLoaded",Object.assign({},D,{component:c(l),name:c(l).name,params:c(i)}))):(_(l,null),y=null);const V=await N();if(x!=p)return;_(l,V&&V.default||V),y=N}b&&typeof b=="object"&&Object.keys(b).length?_(i,b):_(i,null),_(u,o[g].props),f("routeLoaded",Object.assign({},D,{component:c(l),name:c(l).name,params:c(i)})).then(()=>{dn.set(c(i))});return}_(l,null),y=null,dn.set(void 0)});Ga(()=>{C(),h&&window.removeEventListener("popstate",h)}),Wt(()=>we(s()),()=>{history.scrollRestoration=s()?"manual":"auto"}),Kn(),as();var m=Gt(),E=Ue(m);{var O=x=>{var g=Gt(),b=Ue(g);nn(b,()=>c(l),(D,N)=>{N(D,fn({get params(){return c(i)}},()=>c(u),{$$events:{routeEvent(V){un.call(this,t,V)}}}))}),z(x,g)},$=x=>{var g=Gt(),b=Ue(g);nn(b,()=>c(l),(D,N)=>{N(D,fn(()=>c(u),{$$events:{routeEvent(V){un.call(this,t,V)}}}))}),z(x,g)};ce(E,x=>{c(i)?x(O):x($,!1)})}z(e,m),ar()}class G{constructor(t,r){k(this,"base");k(this,"exponent");if(t===0)this.base=0,this.exponent=0;else{const n=Math.floor(Math.log10(Math.abs(t))),s=t/Math.pow(10,n);this.base=s,this.exponent=r+n}}static fromNumber(t){if(t===0)return new G(0,0);const r=Math.floor(Math.log10(Math.abs(t))),n=t/Math.pow(10,r);return new G(n,r)}toNumber(){return this.base*Math.pow(10,this.exponent)}add(t){const r=this.toNumber(),n=t.toNumber();return G.fromNumber(r+n)}sub(t){const r=this.toNumber(),n=t.toNumber();return G.fromNumber(r-n)}mul(t){const r=this.base*t.base,n=this.exponent+t.exponent;return new G(r,n)}div(t){const r=this.base/t.base,n=this.exponent-t.exponent;return new G(r,n)}exp(t){const r=this.base*Math.pow(10,this.exponent),n=t.base*Math.pow(10,t.exponent),s=Math.pow(r,n),a=Math.floor(Math.log10(s)),o=s/Math.pow(10,a);return new G(o,a)}ln(){const t=Math.log(this.base)+this.exponent*Math.log(10);return new G(t,0)}sqrt(){const t=Math.sqrt(this.base),r=this.exponent%2===0,n=this.exponent/2;return r?new G(t,n):new G(t*Math.sqrt(10),Math.floor(n))}toString(){return`${this.base}e${this.exponent}`}roundFloat(t,r){return t.toFixed(r).toString().replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,"")}toRoundedString(t=6){return this.exponent+1>t?`${this.roundFloat(this.base,t)}e${this.exponent}`:this.roundFloat(this.toNumber(),t)}}const vn={H:1.008,He:4.0026022,Li:6.94,Be:9.01218315,B:10.81,C:12.011,N:14.007,O:15.999,F:18.9984031636,Ne:20.17976,Na:22.989769282,Mg:24.305,Al:26.98153857,Si:28.085,P:30.9737619985,S:32.06,Cl:35.45,Ar:39.9481,K:39.09831,Ca:40.0784,Sc:44.9559085,Ti:47.8671,V:50.94151,Cr:51.99616,Mn:54.9380443,Fe:55.8452,Co:58.9331944,Ni:58.69344,Cu:63.5463,Zn:65.382,Ga:69.7231,Ge:72.6308,As:74.9215956,Se:78.9718,Br:79.904,Kr:83.7982,Rb:85.46783,Sr:87.621,Y:88.905842,Zr:91.2242,Nb:92.906372,Mo:95.951,Tc:98,Ru:101.072,Rh:102.905502,Pd:106.421,Ag:107.86822,Cd:112.4144,In:114.8181,Sn:118.7107,Sb:121.7601,Te:127.603,I:126.904473,Xe:131.2936,Cs:132.905451966,Ba:137.3277,La:138.905477,Ce:140.1161,Pr:140.907662,Nd:144.2423,Pm:145,Sm:150.362,Eu:151.9641,Gd:157.253,Tb:158.925352,Dy:162.5001,Ho:164.930332,Er:167.2593,Tm:168.934222,Yb:173.0451,Lu:174.96681,Hf:178.492,Ta:180.947882,W:183.841,Re:186.2071,Os:190.233,Ir:192.2173,Pt:195.0849,Au:196.9665695,Hg:200.5923,Tl:204.38,Pb:207.21,Bi:208.980401,Po:209,At:210,Rn:222,Fr:223,Ra:226,Ac:227,Th:232.03774,Pa:231.035882,U:238.028913,Np:237,Pu:244,Am:243,Cm:247,Bk:247,Cf:251,Es:252,Fm:257,Md:258,No:259,Lr:266,Rf:267,Db:268,Sg:269,Bh:270,Hs:269,Mt:278,Ds:281,Rg:282,Cn:285,Nh:286,Fl:289,Mc:289,Lv:293,Ts:294,Og:294,Uue:315};function ni(e){e=e.replace(/\s+/g,"");const t=/([A-Z][a-z]?)(\d*)/g;function r(a){let o=0;const l=a.matchAll(t);for(const i of l){const u=i[1],v=i[2]?parseInt(i[2],10):1;if(!(u in vn))throw new Error(`Invalid element symbol: ${u}`);o+=vn[u]*v}return o}const n=[];let s=0;for(;s<e.length;){const a=e[s];if(a==="(")n.push("");else if(a===")"){if(!n.length)throw new Error("Unmatched parenthesis in formula");let o=n.pop();s++;let l="";for(;s<e.length&&/\d/.test(e[s]);)l+=e[s],s++;const i=l?parseInt(l,10):1;o=o.repeat(i),n.length?n[n.length-1]+=o:n.push(o);continue}else n.length?n[n.length-1]+=a:n.push(a);s++}return n.length?r(n.join("")):0}class Mt{constructor(t=null){k(this,"functions",{});k(this,"ans");this.functions.sqrt=([r])=>r.sqrt(),this.functions.ln=([r])=>r.ln(),this.ans=t}static getPrecedence(t,r){const n={"+":1,"-":1,"*":2,"/":2,"u-":3,"i*":3,"^":4};return t==="^"&&["u-","i*"].includes(r)||t==="u-"&&r==="u-"||t==="^"&&r==="^"?"right":t===r||n[t]>=n[r]?"left":"right"}evaluate(t){const r=this.tokenize(t),n=this.toRPN(r);return this.evalRPN(n)}insertImplicitMul(t){let r,n,s=0;for(;s<t.length-1;)r=this.classifyToken(t[s]),n=this.classifyToken(t[s+1]),[3,0,1].includes(r)&&[2,4,6].includes(n)?(t.splice(s+1,0,"i*"),s+=2):s++}classifyToken(t){if(isNaN(Number(t))){if(this.functions[t])return 4;if(t==="(")return 2;if(t===")")return 3;if(["+","-","*","/","^","i*"].includes(t))return 5;if(t.startsWith("M(")&&t.endsWith(")"))return 6;if(t==="Ans")return 1;throw Error("unrecognized token")}else return 0}tokenize(t){const r=/M\([^()]*\)|\d+\.?\d*(?:[eE][+-]?\d+)?|\.\d+(?:[eE][+-]?\d+)?|Ans|[()+\-*/^]|\w+/g,n=t.match(r)??[];return this.insertImplicitMul(n),n}toRPN(t){const r=[],n=[];let s=null,a,o,l;for(const i of t){switch(this.classifyToken(i)){case 0:r.push(i);break;case 1:r.push((this.ans??0).toString());break;case 2:n.push(i);break;case 3:for(;n.length&&n[n.length-1]!=="(";)r.push(n.pop());n.pop(),n.length&&this.functions[n[n.length-1]]&&r.push(n.pop());break;case 4:n.push(i);break;case 5:for(a=i==="-"&&(s===null||["+","-","*","/","^","("].includes(s)),o=a?"u-":i;n.length&&Mt.getPrecedence(n[n.length-1],o)==="left";)r.push(n.pop());n.push(o==="i*"?"*":o);break;case 6:if(l=i.match(/^M\(([^()]*)\)$/),l){const u=l[1];r.push(ni(u).toString())}else throw new Error(`Invalid M(...) expression: ${i}`);break}s=i}for(;n.length;)r.push(n.pop());return r}evalRPN(t){const r=[];for(const n of t)if(!isNaN(Number(n)))r.push(G.fromNumber(Number(n)));else if(["+","-","*","/","^"].includes(n)){const s=r.pop(),a=r.pop();switch(n){case"+":r.push(a.add(s));break;case"-":r.push(a.sub(s));break;case"*":r.push(a.mul(s));break;case"/":r.push(a.div(s));break;case"^":r.push(a.exp(s));break}}else if(this.functions[n]){const s=[r.pop()];r.push(this.functions[n](s))}else if(n==="u-"){const s=r.pop();r.push(G.fromNumber(-1).mul(s))}else throw new Error(`Unknown token: ${n}`);return r[0]}}function hn(e,t){t&&t!=="lg"&&t!=="sm"&&t!=="xs"?e.style.fontSize=t.replace("x","em"):e.style.fontSize=""}function si(e,t,r,n,s,a=1,o="",l=""){let i=1,u=1;s&&(s=="horizontal"?i=-1:s=="vertical"?u=-1:i=u=-1),typeof e=="string"&&(e=parseFloat(e)),typeof t=="string"&&(t=parseFloat(t)),typeof r=="string"&&(r=parseFloat(r));const v=`${t*a}${o}`,f=`${r*a}${o}`;let d=`translate(${v},${f}) scale(${i*e},${u*e})`;return n&&(d+=` rotate(${n}${l})`),d}var ai=cr('<title class="svelte-bvo74f"> </title>'),ii=cr('<path class="svelte-bvo74f"></path>'),li=cr('<path class="svelte-bvo74f"></path><path class="svelte-bvo74f"></path>',1),oi=cr('<svg role="img" xmlns="http://www.w3.org/2000/svg"><!><g class="svelte-bvo74f"><g class="svelte-bvo74f"><!></g></g></svg>');function bt(e,t){sr(t,!1);const r=Be(),n=Be();let s=F(t,"class",24,()=>{}),a=F(t,"id",24,()=>{}),o=F(t,"style",24,()=>{}),l=F(t,"icon",8),i=F(t,"title",24,()=>{}),u=F(t,"size",24,()=>{}),v=F(t,"color",24,()=>{}),f=F(t,"fw",8,!1),d=F(t,"pull",24,()=>{}),h=F(t,"scale",8,1),p=F(t,"translateX",8,0),y=F(t,"translateY",8,0),C=F(t,"rotate",24,()=>{}),m=F(t,"flip",24,()=>{}),E=F(t,"spin",8,!1),O=F(t,"pulse",8,!1),$=F(t,"primaryColor",8,""),x=F(t,"secondaryColor",8,""),g=F(t,"primaryOpacity",8,1),b=F(t,"secondaryOpacity",8,.4),D=F(t,"swapOpacity",8,!1),N=Be();Wt(()=>(c(N),we(u()),hn),()=>{c(N)&&u()&&hn(c(N),u())}),Wt(()=>we(l()),()=>{_(r,l()&&l().icon||[0,0,"",[],""])}),Wt(()=>(we(h()),we(p()),we(y()),we(C()),we(m())),()=>{_(n,si(h(),p(),y(),C(),m(),512))}),Kn(),as();var V=Gt(),Bt=Ue(V);{var dr=Ve=>{var _e=oi();let Ut;var zt=w(_e);{var vr=S=>{var R=ai(),Y=w(R);ve(()=>me(Y,i())),z(S,R)};ce(zt,S=>{i()&&S(vr)})}var ft=M(zt),Vt=w(ft),L=w(Vt);{var se=S=>{var R=ii();ve(()=>{U(R,"d",(c(r),j(()=>c(r)[4]))),U(R,"fill",v()||$()||"currentColor"),U(R,"transform",`translate(${c(r),j(()=>c(r)[0]/-2)??""} ${c(r),j(()=>c(r)[1]/-2)??""})`)}),z(S,R)},B=S=>{var R=li(),Y=Ue(R),X=M(Y);ve(()=>{U(Y,"d",(c(r),j(()=>c(r)[4][0]))),U(Y,"fill",x()||v()||"currentColor"),U(Y,"fill-opacity",D()!=!1?g():b()),U(Y,"transform",`translate(${c(r),j(()=>c(r)[0]/-2)??""} ${c(r),j(()=>c(r)[1]/-2)??""})`),U(X,"d",(c(r),j(()=>c(r)[4][1]))),U(X,"fill",$()||v()||"currentColor"),U(X,"fill-opacity",D()!=!1?b():g()),U(X,"transform",`translate(${c(r),j(()=>c(r)[0]/-2)??""} ${c(r),j(()=>c(r)[1]/-2)??""})`)}),z(S,R)};ce(L,S=>{c(r),j(()=>typeof c(r)[4]=="string")?S(se):S(B,!1)})}Pr(_e,S=>_(N,S),()=>c(N)),ve(S=>{U(_e,"id",a()),Ut=Ha(_e,0,`svelte-fa svelte-fa-base ${s()??""}`,"svelte-bvo74f",Ut,S),Da(_e,o()),U(_e,"viewBox",`0 0 ${c(r),j(()=>c(r)[0])??""} ${c(r),j(()=>c(r)[1])??""}`),U(_e,"aria-hidden",i()===void 0),U(ft,"transform",`translate(${c(r),j(()=>c(r)[0]/2)??""} ${c(r),j(()=>c(r)[1]/2)??""})`),U(ft,"transform-origin",`${c(r),j(()=>c(r)[0]/4)??""} 0`),U(Vt,"transform",c(n))},[()=>({pulse:O(),"svelte-fa-size-lg":u()==="lg","svelte-fa-size-sm":u()==="sm","svelte-fa-size-xs":u()==="xs","svelte-fa-fw":f(),"svelte-fa-pull-left":d()==="left","svelte-fa-pull-right":d()==="right",spin:E()})],Rr),z(Ve,_e)};ce(Bt,Ve=>{c(r),j(()=>c(r)[4])&&Ve(dr)})}z(e,V),ar()}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const ui={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},pn={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},_n={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},gn={1:"1",2:"2",3:"3",q:"4",w:"5",e:"6",a:"7",s:"8",d:"9",c:".",x:"0",z:"e",Alt:"Ans",4:"+",r:"-",f:"*",v:"/",5:"^",t:"sqrt(",g:"ln(",b:"M(",Shift:"Enter",Space:"()",Backtick:"Backspace",Tab:"Tab",Escape:"Escape"};var It,At;class fi{constructor(){re(this,It,q(he({})));k(this,"exprHistory",[]);k(this,"ansHistory",[]);k(this,"maxHistoryLen",50);k(this,"maxDigits",12);k(this,"index",this.ansHistory.length-1);re(this,At,q(he([])));k(this,"pushHistory",(t,r)=>{this.ansHistory.push(t),this.exprHistory.push(r),this.ansHistory.length>=this.maxHistoryLen?(this.ansHistory.shift(),this.exprHistory.shift()):this.index++,localStorage.setItem("exprHistory",JSON.stringify(this.exprHistory)),localStorage.setItem("ansHistory",JSON.stringify(this.ansHistory))});k(this,"pushTemplate",t=>{this.templates.push(t),localStorage.setItem("templates",JSON.stringify(this.templates))});k(this,"removeTemplate",t=>{const r=this.templates.indexOf(t);r>-1&&this.templates.splice(r,1),localStorage.setItem("templates",JSON.stringify(this.templates))});k(this,"pullFromStorage",()=>{this.keybinds=JSON.parse(localStorage.getItem("keybinds")??"{}"),this.exprHistory=JSON.parse(localStorage.getItem("exprHistory")??"[]"),this.ansHistory=JSON.parse(localStorage.getItem("ansHistory")??"[]"),this.maxHistoryLen=parseInt(localStorage.getItem("maxHistoryLen")??this.maxHistoryLen.toString()),this.index=this.ansHistory.length-1,this.maxDigits=parseInt(localStorage.getItem("maxDigits")??this.maxDigits.toString()),this.templates=JSON.parse(localStorage.getItem("templates")??"[]")});k(this,"handleExport",()=>{const t={};for(let a=0;a<localStorage.length;a++){const o=localStorage.key(a);o&&(["keybinds","exprHistory","ansHistory","templates"].includes(o),t[o]=JSON.parse(localStorage.getItem(o)??"{}"))}const r=JSON.stringify(t,null,2),n=new Blob([r],{type:"application/json"}),s=document.createElement("a");s.href=URL.createObjectURL(n),s.download="qalc_data.json",document.body.appendChild(s),s.click(),document.body.removeChild(s)});k(this,"clearKeybinds",()=>{localStorage.setItem("keybinds","{}"),this.keybinds={},alert("Cleared keybinds!")});k(this,"setOneHandedKeybinds",()=>{localStorage.setItem("keybinds",JSON.stringify(gn)),this.keybinds=gn,alert("Set default one-handed keybinds!")});k(this,"handleImport",()=>{const t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=()=>{if(!t.files||t.files.length===0)return alert("No file selected");const r=t.files[0],n=new FileReader;n.onload=()=>{try{const s=JSON.parse(n.result);for(const[a,o]of Object.entries(s))["keybinds","exprHistory","ansHistory"].includes(a)?(localStorage.setItem(a,JSON.stringify(o)),s[a]=JSON.parse(localStorage.getItem(a)??"{}")):localStorage.setItem(a,o);this.pullFromStorage(),alert("Updated your settings!")}catch(s){alert(`Invalid JSON file: ${s}`)}},n.onerror=()=>{alert("Failed to read file")},n.readAsText(r)},t.click()});k(this,"clearHistory",()=>{this.ansHistory=[],this.exprHistory=[],this.index=0,localStorage.setItem("ansHistory","[]"),localStorage.setItem("exprHistory","[]"),alert("Cleared history!")});this.pullFromStorage()}get keybinds(){return c(A(this,It))}set keybinds(t){_(A(this,It),t,!0)}get templates(){return c(A(this,At))}set templates(t){_(A(this,At),t,!0)}}It=new WeakMap,At=new WeakMap;var Xe,Lt,Rt,Ht,Dt;class mn{constructor(t,r){re(this,Xe);k(this,"numOpenParens",0);k(this,"numCloseParens",0);re(this,Lt,q(he(G.fromNumber(0))));k(this,"molarMassMode",!1);k(this,"storageState");re(this,Rt,q(""));re(this,Ht,q(""));re(this,Dt,q(!0));k(this,"reset",()=>{this.textarea.value="",this.numOpenParens=0,this.numCloseParens=0,this.molarMassMode=!1,this.errorLine=""});k(this,"goUp",()=>{this.storageState.index>0&&(this.storageState.index--,this.textarea.value=this.storageState.exprHistory[this.storageState.index],this.numOpenParens=this.textarea.value.split("(").length-1,this.numCloseParens=this.textarea.value.split(")").length-1,this.molarMassMode=!1,this.ans=G.fromNumber(this.storageState.ansHistory[this.storageState.index]),this.expr=this.storageState.exprHistory[this.storageState.index])});k(this,"handleKey",t=>{let r=t.key;t.key===" "?r="Space":t.key==="`"&&(r="Backtick");const n=r in this.storageState.keybinds;let s=this.storageState.keybinds[r]??t.key;if(s!=="Tab"&&(this.molarMassMode&&s==="()"&&(this.useKeybinds=!0),!!this.useKeybinds)){if(s==="Escape"){t.preventDefault(),this.reset();return}if(s==="Backspace"){t.preventDefault();const a=this.textarea.selectionStart;if(a>0){const o=this.textarea.value,l=this.textarea.value[a-1];this.textarea.value=o.slice(0,a-1)+o.slice(a),this.textarea.selectionStart=this.textarea.selectionEnd=a-1,l==="("?this.numOpenParens--:l===")"&&this.numCloseParens--}return}if(s==="ArrowUp"){this.goUp();return}if(s==="ArrowDown"){this.goDown();return}if(s==="Enter"){if(t.preventDefault(),this.textarea.value==="")return;try{for(;this.numOpenParens>this.numCloseParens;)this.textarea.value+=")",this.numCloseParens++;const a=new Mt(this.ans);this.ans=a.evaluate(this.textarea.value),this.expr=this.textarea.value,this.reset(),this.storageState.pushHistory(this.ans.toNumber(),this.expr)}catch(a){this.errorLine="syntax error",console.log(`syntax error: ${a}`)}return}if(s==="()"){const a=["+","-","*","/","^"];this.molarMassMode?(this.molarMassMode=!1,s=")"):a.includes(this.textarea.value[this.textarea.value.length-1])?s="(":this.numOpenParens>this.numCloseParens?s=")":this.numOpenParens===this.numCloseParens?s="(":s=" "}if(!this.molarMassMode&&(this.numOpenParens+=s.split("(").length-1,this.numCloseParens+=s.split(")").length-1,s==="M("&&(this.molarMassMode=!0,this.useKeybinds=!1),n)){t.preventDefault();const{selectionStart:a,selectionEnd:o,value:l}=this.textarea,i=l.slice(0,a),u=l.slice(o),v=i.length+s.length;this.textarea.value=i+s+u,this.textarea.setSelectionRange(v,v)}}});k(this,"handleExprClick",()=>{this.textarea.value=this.expr});k(this,"handleAnsClick",()=>{this.textarea.value=this.ans.toRoundedString(this.storageState.maxDigits)});k(this,"handleScroll",t=>{t.deltaY<0?this.goUp():t.deltaY>0&&this.goDown()});Ce(this,Xe,q(he(t))),this.storageState=r}get textarea(){return c(A(this,Xe))}set textarea(t){_(A(this,Xe),t,!0)}get ans(){return c(A(this,Lt))}set ans(t){_(A(this,Lt),t,!0)}get expr(){return c(A(this,Rt))}set expr(t){_(A(this,Rt),t,!0)}get errorLine(){return c(A(this,Ht))}set errorLine(t){_(A(this,Ht),t,!0)}get useKeybinds(){return c(A(this,Dt))}set useKeybinds(t){_(A(this,Dt),t,!0)}goDown(){this.storageState.index<this.storageState.ansHistory.length-1&&(this.storageState.index++,this.textarea.value=this.storageState.exprHistory[this.storageState.index],this.numOpenParens=this.textarea.value.split("(").length-1,this.numCloseParens=this.textarea.value.split(")").length-1,this.molarMassMode=!1,this.ans=G.fromNumber(this.storageState.ansHistory[this.storageState.index]),this.expr=this.storageState.exprHistory[this.storageState.index])}}Xe=new WeakMap,Lt=new WeakMap,Rt=new WeakMap,Ht=new WeakMap,Dt=new WeakMap;var Qe,et,tt,rt,nt,st;const tr=class tr{constructor(t,r){re(this,Qe);re(this,et);re(this,tt);re(this,rt);re(this,nt);re(this,st);k(this,"template");k(this,"values");k(this,"pushValue",t=>{if(this.paramIndex>=this.template.parameters.length)throw new Error("values already full");return this.values.push(t),this.paramIndex++,this.paramValue="",this.paramIndex===this.template.parameters.length});this.template=t,Ce(this,Qe,q(0)),Ce(this,et,Ie(()=>t==null?void 0:t.parameters[this.paramIndex])),Ce(this,tt,q("")),Ce(this,rt,Ie(()=>tr.getNextParamKey(r))),Ce(this,nt,Ie(()=>tr.getEnterKey(r))),Ce(this,st,Ie(()=>{var n;return this.paramIndex===(((n=t==null?void 0:t.parameters)==null?void 0:n.length)??0)-1})),this.values=[]}get paramIndex(){return c(A(this,Qe))}set paramIndex(t){_(A(this,Qe),t,!0)}get paramName(){return c(A(this,et))}set paramName(t){_(A(this,et),t)}get paramValue(){return c(A(this,tt))}set paramValue(t){_(A(this,tt),t,!0)}get nextParamKey(){return c(A(this,rt))}set nextParamKey(t){_(A(this,rt),t)}get enterKey(){return c(A(this,nt))}set enterKey(t){_(A(this,nt),t)}get isLastParam(){return c(A(this,st))}set isLastParam(t){_(A(this,st),t)}static getNextParamKey(t){for(const r of Object.keys(t))if(t[r]==="nextParameter")return r;return"Tab"}static getEnterKey(t){for(const r of Object.keys(t))if(t[r]==="Enter")return r;return"Enter"}};Qe=new WeakMap,et=new WeakMap,tt=new WeakMap,rt=new WeakMap,nt=new WeakMap,st=new WeakMap;let Nr=tr;var ci=(e,t)=>{_(t,!c(t))},di=oe("<p> </p>"),vi=oe("<p> </p>"),hi=oe('<div class="text-[0.5rem] flex gap-2 items-center"><textarea class="p-[2px] pl-1 overflow-hidden border-2 rounded resize-none whitespace-nowrap" rows="1"></textarea> <!></div>'),pi=(e,t)=>{_(t,!c(t))},_i=(e,t)=>{_(t,!c(t))},gi=oe('<textarea rows="10" class="w-full p-1 border border-gray-300 rounded-b rounded-tr resize-none focus:outline-none focus:ring-2"></textarea>'),mi=oe('<textarea rows="1" class="w-full p-1 overflow-hidden border border-gray-300 rounded-b rounded-tr resize-none focus:outline-none focus:ring-2"></textarea>'),bi=oe('<div class="flex flex-col gap-2 pl-4"><div><p class="inline-block p-1 font-bold border border-b-0 border-gray-300 rounded-t border-rfont-bold">Name</p> <textarea rows="1" class="w-full p-1 overflow-hidden border border-gray-300 rounded-b rounded-tr resize-none focus:outline-none focus:ring-2" placeholder="my cool template"></textarea></div> <div><p class="inline-block p-1 font-bold border border-b-0 border-gray-300 rounded-t border-rfont-bold">Type</p> <select class="w-full p-1 border border-gray-300 rounded-b rounded-tr focus:outline-none focus:ring-2"><option>Expression</option><option>JavaScript</option></select></div> <div><p class="inline-block p-1 font-bold border border-b-0 border-gray-300 rounded-t border-rfont-bold">Parameters</p> <textarea rows="1" class="w-full p-1 overflow-hidden border border-gray-300 rounded-b rounded-tr resize-none focus:outline-none focus:ring-2"></textarea></div> <div><p class="inline-block p-1 font-bold border border-b-0 border-gray-300 rounded-t border-rfont-bold"> </p> <!></div> <div><button class="inline-block p-1 font-bold bg-gray-300 border-2 rounded hover:cursor-pointer">Add</button></div></div>'),yi=(e,t,r)=>{t.removeTemplate(c(r))},xi=oe('<div class="p-1 font-bold border-2 bg-gray-200 flex justify-between items-center"><button class="hover:cursor-pointer"> </button> <button class="hover:cursor-pointer"><!></button></div>'),wi=oe('<div class="flex flex-col w-full gap-2 pl-4"><button class="flex items-center gap-1 font-bold hover:cursor-pointer"><!> <p>Add</p></button> <!> <div class="border-gray-300 border-1 rounded p-2"><input type="text" placeholder="Search templates..." class="w-full p-1 mb-2 border border-gray-400 rounded"/> <div class="grid grid-cols-1 gap-2 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3"></div></div></div>'),Ei=oe('<div class="flex flex-col items-end gap-4 p-2 w-full"><button class="text-gray-500 hover:cursor-pointer"> </button> <button class="font-bold hover:cursor-pointer"> </button></div> <textarea id="textarea" class="w-full h-auto p-2 overflow-hidden font-mono border-2 rounded resize-none whitespace-nowrap" rows="1"></textarea> <!> <p class="text-red-700 font-bold text-[0.5rem]"> </p> <div class="flex flex-col gap-1 w-full text-[0.5rem]"><button class="flex items-center gap-1 font-bold hover:cursor-pointer"><!> <p>Templates</p></button> <!></div>',1),Si=oe('<div class="flex gap-4"><button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Use one-handed preset</button> <button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Clear keybinds</button></div> <div class="flex gap-4"><button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Import data from file</button> <button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Export data to file</button></div> <div class="flex gap-4"><button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Clear history</button></div>',1),ki=oe('<main><div class="absolute top-0 m-2 flex flex-col gap-2 text-[0.5rem]"><div class="inline-block font-bold"><button class="p-2 font-bold border-2 rounded hover:cursor-pointer"> </button> <a class="p-2 font-bold border-2 rounded hover:cursor-pointer" href="https://github.com/storchdev/qalc">Info</a></div> <button class="p-2 font-bold border-2 rounded hover:cursor-pointer"> </button></div> <div class="flex justify-center"><div class="flex flex-col items-center justify-center gap-4 mt-32 xl:w-[50%] lg:w-[60%] md:w-[75%] w-[90%]"><!></div></div></main>');function Pi(e,t){sr(t,!0);const r=`// nCr example
// only write the function body
// ALWAYS return a number!

if (r > n) return 0;
if (r === 0 || r === n) return 1;

r = Math.min(r, n - r);
let result = 1;

for (let i = 1; i <= r; i++) {
    result *= (n - i + 1);
    result /= i;
}

return result;
`,n="n,r",s="(-{b}+sqrt({b}^2-4*{a}*{c}))/(2*{a})",a="a,b,c",o=document.createElement("textarea"),l=new fi,i=new mn(o,l);let u=q(!0),v=q(!1),f=he({name:"",type:"expression",parameters:"",content:""}),d=q(!1),h=Ie(()=>c(d)?"Back":"Settings"),p=Ie(()=>i.useKeybinds?"Keybinds: on":"Keybinds: off"),y=q(void 0);function C(L){if(L!==void 0)return new Nr(L,l.keybinds)}let m=Ie(()=>C(c(y)));const E=document.createElement("textarea");let O=new mn(E,l);function $(L){let se=L.key;L.key===" "?se="Space":L.key==="`"&&(se="Backtick");let B=l.keybinds[se]??L.key;if(B==="Escape"){_(y,void 0),i.textarea.focus();return}if(B==="Tab"&&c(m)){L.preventDefault();const S=c(m).pushValue(O.textarea.value);if(O.textarea.value="",S){const R=c(m).template;let Y;if(R.type==="javascript"){let K=[];const Ye=new Mt(i.ans);for(const Ke of c(m).values)try{K.push(Ye.evaluate(Ke).toNumber())}catch{alert(`error in evaluating parameter: ${Ke}`),_(y,void 0);return}let je;try{je=new Function(...R.parameters,R.content)(...K)}catch(Ke){alert(`code errored: ${Ke}`),_(y,void 0);return}if(typeof je!="number"){alert("code did not return a number!"),_(y,void 0);return}Y=G.fromNumber(je).toRoundedString(l.maxDigits)}else{let K=0,Ye;Y=R.content.replace(/\{[^}]+\}/g,()=>(Ye=c(m).values[K],K++,Ye))}_(y,void 0);const X=i.textarea.selectionStart,Ne=i.textarea.selectionEnd,Je=i.textarea.value.substring(0,X),ct=i.textarea.value.substring(Ne);i.textarea.value=Je+Y+ct;const Q=X+Y.length;i.textarea.selectionStart=i.textarea.selectionEnd=Q,i.textarea.focus()}}else O.handleKey(L)}let x=q(""),g=Ie(()=>l.templates.filter(L=>L.name.toLowerCase().includes(c(x).toLowerCase())));function b(){if(f.name===""){alert("name cannot be empty!");return}if(f.name.length>10){alert("name must be 10 characters or under!");return}for(const B of l.templates)if(B.name===f.name){alert("another template already has this name!");return}const L=f.parameters.split(",");if(f.parameters===""){alert("include at least 1 parameter!");return}for(const B of L)try{new Function(`let ${B}`)}catch{alert(`invalid parameter name: ${B}`);return}if(f.type==="expression"){const B=[...f.content.matchAll(/\{([^}]+)\}/g)].map(S=>S[1]);if(B.length===0){alert("include at least 1 parameter in this expression! (use {})");return}for(const S of B)if(!L.includes(S)){alert(`expression includes unspecified parameter: ${S}`);return}try{const S=f.content.replace(/\{[^}]+\}/g,()=>"1");new Mt().evaluate(S)}catch{alert("expression contains a syntax error!");return}}else if(f.type==="javascript"){let B;try{B=Function(...L,f.content)}catch(R){alert(`code failed to compile: ${R}`);return}let S;try{const R=L.map((Y,X)=>X);S=B(...R)}catch(R){alert(`code failed to run on test arguments: ${R}`);return}typeof S!="number"&&alert("code did not return a number!")}else{alert("unknown template type!");return}_(v,!1);const se={name:f.name,type:f.type,parameters:L,content:f.content};l.pushTemplate(se)}var D=ki(),N=w(D),V=w(N),Bt=w(V);Bt.__click=[ci,d];var dr=w(Bt),Ve=M(V,2);Ve.__click=()=>{i.useKeybinds=!i.useKeybinds,O.useKeybinds=!O.useKeybinds};var _e=w(Ve),Ut=M(N,2),zt=w(Ut),vr=w(zt);{var ft=L=>{var se=Ei(),B=Ue(se),S=w(B);S.__click=function(...H){var W;(W=i.handleExprClick)==null||W.apply(this,H)};var R=w(S),Y=M(S,2);Y.__click=function(...H){var W;(W=i.handleAnsClick)==null||W.apply(this,H)};var X=w(Y),Ne=M(B,2);Ne.__keydown=function(...H){var W;(W=i.handleKey)==null||W.apply(this,H)},Pr(Ne,H=>i.textarea=H,()=>i==null?void 0:i.textarea);var Je=M(Ne,2);{var ct=H=>{var W=hi(),Oe=w(W);Oe.__keydown=$,Pr(Oe,ee=>O.textarea=ee,()=>O==null?void 0:O.textarea);var hr=M(Oe,2);{var pr=ee=>{var ge=di(),dt=w(ge);ve(()=>{var Te;return me(dt,`Press ${((Te=c(m))==null?void 0:Te.nextParamKey)??""} to input the
                                next parameter!`)}),z(ee,ge)},_r=ee=>{var ge=vi(),dt=w(ge);ve(()=>{var Te;return me(dt,`Press ${((Te=c(m))==null?void 0:Te.nextParamKey)??""} to finish!`)}),z(ee,ge)};ce(hr,ee=>{var ge;(ge=c(m))!=null&&ge.isLastParam?ee(_r,!1):ee(pr)})}ve(()=>{var ee;return U(Oe,"placeholder",(ee=c(m))==null?void 0:ee.paramName)}),z(H,W)};ce(Je,H=>{c(y)&&H(ct)})}var Q=M(Je,2),K=w(Q),Ye=M(Q,2),je=w(Ye);je.__click=[pi,u];var Ke=w(je);{var Kr=H=>{bt(H,{get icon(){return pn}})},fs=H=>{bt(H,{get icon(){return _n}})};ce(Ke,H=>{c(u)?H(Kr):H(fs,!1)})}var cs=M(je,2);{var ds=H=>{var W=wi(),Oe=w(W);Oe.__click=[_i,v];var hr=w(Oe);{var pr=te=>{bt(te,{get icon(){return pn}})},_r=te=>{bt(te,{get icon(){return _n}})};ce(hr,te=>{c(v)?te(pr):te(_r,!1)})}var ee=M(Oe,2);{var ge=te=>{var We=bi(),vt=w(We),ht=M(w(vt),2),Jt=M(vt,2),pt=M(w(Jt),2),_t=w(pt);_t.value=_t.__value="expression";var qr=M(_t);qr.value=qr.__value="javascript";var Br=M(Jt,2),Ur=M(w(Br),2),zr=M(Br,2),Vr=w(zr),hs=w(Vr),ps=M(Vr,2);{var _s=ue=>{var qe=gi();U(qe,"placeholder",r),mt(qe,()=>f.content,gr=>f.content=gr),z(ue,qe)},gs=ue=>{var qe=mi();U(qe,"placeholder",s),mt(qe,()=>f.content,gr=>f.content=gr),z(ue,qe)};ce(ps,ue=>{f.type==="javascript"?ue(_s):ue(gs,!1)})}var ms=M(zr,2),bs=w(ms);bs.__click=b,ve(()=>{U(Ur,"placeholder",f.type==="javascript"?n:a),me(hs,f.type==="javascript"?"Code":"Expression")}),mt(ht,()=>f.name,ue=>f.name=ue),ja(pt,()=>f.type,ue=>f.type=ue),mt(Ur,()=>f.parameters,ue=>f.parameters=ue),z(te,We)};ce(ee,te=>{c(v)&&te(ge)})}var dt=M(ee,2),Te=w(dt),vs=M(Te,2);Ca(vs,21,()=>c(g),Oa,(te,We)=>{var vt=xi(),ht=w(vt);ht.__click=()=>{_(y,c(We),!0),setTimeout(()=>{O.textarea.focus()},100)};var Jt=w(ht),pt=M(ht,2);pt.__click=[yi,l,We];var _t=w(pt);bt(_t,{get icon(){return ui}}),ve(()=>me(Jt,c(We).name)),z(te,vt)}),mt(Te,()=>c(x),te=>_(x,te)),z(H,W)};ce(cs,H=>{c(u)&&H(ds)})}ve(H=>{me(R,i.expr),me(X,`= ${H??""}`),me(K,i.errorLine)},[()=>i.ans.toRoundedString(l.maxDigits)]),wa("wheel",Ne,function(...H){var W;(W=i.handleScroll)==null||W.apply(this,H)}),z(L,se)},Vt=L=>{var se=Si(),B=Ue(se),S=w(B);S.__click=function(...Q){var K;(K=l.setOneHandedKeybinds)==null||K.apply(this,Q)};var R=M(S,2);R.__click=function(...Q){var K;(K=l.clearKeybinds)==null||K.apply(this,Q)};var Y=M(B,2),X=w(Y);X.__click=function(...Q){var K;(K=l.handleImport)==null||K.apply(this,Q)};var Ne=M(X,2);Ne.__click=function(...Q){var K;(K=l.handleExport)==null||K.apply(this,Q)};var Je=M(Y,2),ct=w(Je);ct.__click=function(...Q){var K;(K=l.clearHistory)==null||K.apply(this,Q)},z(L,se)};ce(vr,L=>{c(d)?L(Vt,!1):L(ft)})}ve(()=>{me(dr,c(h)),me(_e,c(p))}),z(e,D),ar()}Ea(["click","keydown"]);var Ni=oe('<main><p class="text-red-500 font-bold">Page Not Found!</p></main>');function Oi(e){var t=Ni();z(e,t)}var Ti=oe("<main><!></main>");function Ci(e){const t={"/":Pi,"*":Oi};var r=Ti(),n=w(r);ri(n,{get routes(){return t}}),z(e,r)}ka(Ci,{target:document.getElementById("app")});

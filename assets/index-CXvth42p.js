var Bn=Object.defineProperty;var Hn=(e,t,n)=>t in e?Bn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ae=(e,t,n)=>Hn(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();const Nt=!1;var Je=Array.isArray,Un=Array.prototype.indexOf,$n=Array.from,Yn=Object.defineProperty,re=Object.getOwnPropertyDescriptor,Jn=Object.getOwnPropertyDescriptors,Kn=Object.prototype,Vn=Array.prototype,Yt=Object.getPrototypeOf,Ot=Object.isExtensible;function ke(e){return typeof e=="function"}const be=()=>{};function zn(e){return e()}function Ie(e){for(var t=0;t<e.length;t++)e[t]()}const V=2,Jt=4,Ke=8,ct=16,te=32,ye=64,dt=128,$=256,qe=512,Y=1024,ee=2048,ie=4096,me=8192,vt=16384,Kt=32768,Ve=65536,Pt=1<<17,Wn=1<<18,Vt=1<<19,st=1<<20,se=Symbol("$state"),zt=Symbol("legacy props"),Wt=new class extends Error{constructor(){super(...arguments);ae(this,"name","StaleReactionError");ae(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Gt(e){return e===this.v}function Zt(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Xt(e){return!Zt(e,this.v)}function Gn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Zn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Xn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Qn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function er(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function tr(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function nr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function rr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function sr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let we=!1,lr=!1;function or(){we=!0}const ir=1,ar=2,ur=4,fr=8,cr=16,dr=1,vr=2,q=Symbol();function ze(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let x=null;function It(e){x=e}function pt(e,t=!1,n){var r=x={p:x,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};we&&!t&&(x.l={s:null,u:null,r1:[],r2:_t(!1)}),un(()=>{r.d=!0})}function ht(e){const t=x;if(t!==null){const a=t.e;if(a!==null){var n=N,r=w;t.e=null;try{for(var s=0;s<a.length;s++){var l=a[s];oe(l.effect),Z(l.reaction),bt(l.fn)}}finally{oe(n),Z(r)}}x=t.p,t.m=!0}return{}}function We(){return!we||x!==null&&x.l===null}function ge(e){if(typeof e!="object"||e===null||se in e)return e;const t=Yt(e);if(t!==Kn&&t!==Vn)return e;var n=new Map,r=Je(e),s=H(0),l=w,a=o=>{var u=w;Z(l);var i=o();return Z(u),i};return r&&n.set("length",H(e.length)),new Proxy(e,{defineProperty(o,u,i){(!("value"in i)||i.configurable===!1||i.enumerable===!1||i.writable===!1)&&nr();var p=n.get(u);return p===void 0?p=a(()=>{var c=H(i.value);return n.set(u,c),c}):g(p,i.value,!0),!0},deleteProperty(o,u){var i=n.get(u);if(i===void 0){if(u in o){const f=a(()=>H(q));n.set(u,f),Qe(s)}}else{if(r&&typeof u=="string"){var p=n.get("length"),c=Number(u);Number.isInteger(c)&&c<p.v&&g(p,c)}g(i,q),Qe(s)}return!0},get(o,u,i){var d;if(u===se)return e;var p=n.get(u),c=u in o;if(p===void 0&&(!c||(d=re(o,u))!=null&&d.writable)&&(p=a(()=>{var h=ge(c?o[u]:q),E=H(h);return E}),n.set(u,p)),p!==void 0){var f=v(p);return f===q?void 0:f}return Reflect.get(o,u,i)},getOwnPropertyDescriptor(o,u){var i=Reflect.getOwnPropertyDescriptor(o,u);if(i&&"value"in i){var p=n.get(u);p&&(i.value=v(p))}else if(i===void 0){var c=n.get(u),f=c==null?void 0:c.v;if(c!==void 0&&f!==q)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return i},has(o,u){var f;if(u===se)return!0;var i=n.get(u),p=i!==void 0&&i.v!==q||Reflect.has(o,u);if(i!==void 0||N!==null&&(!p||(f=re(o,u))!=null&&f.writable)){i===void 0&&(i=a(()=>{var d=p?ge(o[u]):q,h=H(d);return h}),n.set(u,i));var c=v(i);if(c===q)return!1}return p},set(o,u,i,p){var M;var c=n.get(u),f=u in o;if(r&&u==="length")for(var d=i;d<c.v;d+=1){var h=n.get(d+"");h!==void 0?g(h,q):d in o&&(h=a(()=>H(q)),n.set(d+"",h))}if(c===void 0)(!f||(M=re(o,u))!=null&&M.writable)&&(c=a(()=>H(void 0)),g(c,ge(i)),n.set(u,c));else{f=c.v!==q;var E=a(()=>ge(i));g(c,E)}var T=Reflect.getOwnPropertyDescriptor(o,u);if(T!=null&&T.set&&T.set.call(p,i),!f){if(r&&typeof u=="string"){var D=n.get("length"),k=Number(u);Number.isInteger(k)&&k>=D.v&&g(D,k+1)}Qe(s)}return!0},ownKeys(o){v(s);var u=Reflect.ownKeys(o).filter(c=>{var f=n.get(c);return f===void 0||f.v!==q});for(var[i,p]of n)p.v!==q&&!(i in o)&&u.push(i);return u},setPrototypeOf(){rr()}})}function Qe(e,t=1){g(e,e.v+t)}function Ce(e){var t=V|ee,n=w!==null&&(w.f&V)!==0?w:null;return N===null||n!==null&&(n.f&$)!==0?t|=$:N.f|=Vt,{ctx:x,deps:null,effects:null,equals:Gt,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??N,ac:null}}function et(e){const t=Ce(e);return bn(t),t}function pr(e){const t=Ce(e);return t.equals=Xt,t}function Qt(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)fe(t[n])}}function hr(e){for(var t=e.parent;t!==null;){if((t.f&V)===0)return t;t=t.parent}return null}function en(e){var t,n=N;oe(hr(e));try{Qt(e),t=En(e)}finally{oe(n)}return t}function tn(e){var t=en(e);if(e.equals(t)||(e.v=t,e.wv=yn()),!xe){var n=(ne||(e.f&$)!==0)&&e.deps!==null?ie:Y;W(e,n)}}const Te=new Map;function _t(e,t){var n={f:0,v:e,reactions:null,equals:Gt,rv:0,wv:0};return n}function H(e,t){const n=_t(e);return bn(n),n}function tt(e,t=!1,n=!0){var s;const r=_t(e);return t||(r.equals=Xt),we&&n&&x!==null&&x.l!==null&&((s=x.l).s??(s.s=[])).push(r),r}function g(e,t,n=!1){w!==null&&(!G||(w.f&Pt)!==0)&&We()&&(w.f&(V|ct|Pt))!==0&&!(R!=null&&R[1].includes(e)&&R[0]===w)&&sr();let r=n?ge(t):t;return _r(e,r)}function _r(e,t){if(!e.equals(t)){var n=e.v;xe?Te.set(e,t):Te.set(e,n),e.v=t,(e.f&V)!==0&&((e.f&ee)!==0&&en(e),W(e,(e.f&$)===0?Y:ie)),e.wv=yn(),nn(e,ee),We()&&N!==null&&(N.f&Y)!==0&&(N.f&(te|ye))===0&&(K===null?Ir([e]):K.push(e))}return t}function pe(e,t=1){var n=v(e),r=t===1?n++:n--;return g(e,n),r}function nn(e,t){var n=e.reactions;if(n!==null)for(var r=We(),s=n.length,l=0;l<s;l++){var a=n[l],o=a.f;(o&ee)===0&&(!r&&a===N||(W(a,t),(o&(Y|$))!==0&&((o&V)!==0?nn(a,ie):yt(a))))}}var Tt,rn,sn,ln;function gr(){if(Tt===void 0){Tt=window,rn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;sn=re(t,"firstChild").get,ln=re(t,"nextSibling").get,Ot(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ot(n)&&(n.__t=void 0)}}function on(e=""){return document.createTextNode(e)}function Be(e){return sn.call(e)}function gt(e){return ln.call(e)}function J(e,t){return Be(e)}function Oe(e,t){{var n=Be(e);return n instanceof Comment&&n.data===""?gt(n):n}}function Q(e,t=1,n=!1){let r=e;for(;t--;)r=gt(r);return r}function an(e){N===null&&w===null&&Xn(),w!==null&&(w.f&$)!==0&&N===null&&Zn(),xe&&Gn()}function br(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Ee(e,t,n,r=!0){var s=N,l={ctx:x,deps:null,nodes_start:null,nodes_end:null,f:e|ee,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Ze(l),l.f|=Kt}catch(u){throw fe(l),u}else t!==null&&yt(l);var a=n&&l.deps===null&&l.first===null&&l.nodes_start===null&&l.teardown===null&&(l.f&(Vt|dt))===0;if(!a&&r&&(s!==null&&br(l,s),w!==null&&(w.f&V)!==0)){var o=w;(o.effects??(o.effects=[])).push(l)}return l}function un(e){const t=Ee(Ke,null,!1);return W(t,Y),t.teardown=e,t}function lt(e){an();var t=N!==null&&(N.f&te)!==0&&x!==null&&!x.m;if(t){var n=x;(n.e??(n.e=[])).push({fn:e,effect:N,reaction:w})}else{var r=bt(e);return r}}function mr(e){return an(),Ge(e)}function yr(e){const t=Ee(ye,e,!0);return(n={})=>new Promise(r=>{n.outro?Ue(t,()=>{fe(t),r(void 0)}):(fe(t),r(void 0))})}function bt(e){return Ee(Jt,e,!1)}function wr(e,t){var n=x,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=Ge(()=>{e(),!r.ran&&(r.ran=!0,g(n.l.r2,!0),ce(t))})}function Er(){var e=x;Ge(()=>{if(v(e.l.r2)){for(var t of e.l.r1){var n=t.effect;(n.f&Y)!==0&&W(n,ie),De(n)&&Ze(n),t.ran=!1}e.l.r2.v=!1}})}function Ge(e){return Ee(Ke,e,!0)}function Rt(e,t=[],n=Ce){const r=t.map(n);return mt(()=>e(...r.map(v)))}function mt(e,t=0){var n=Ee(Ke|ct|t,e,!0);return n}function He(e,t=!0){return Ee(Ke|te,e,!0,t)}function fn(e){var t=e.teardown;if(t!==null){const n=xe,r=w;At(!0),Z(null);try{t.call(null)}finally{At(n),Z(r)}}}function cn(e,t=!1){var s;var n=e.first;for(e.first=e.last=null;n!==null;){(s=n.ac)==null||s.abort(Wt);var r=n.next;(n.f&ye)!==0?n.parent=null:fe(n,t),n=r}}function xr(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&te)===0&&fe(t),t=n}}function fe(e,t=!0){var n=!1;(t||(e.f&Wn)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Sr(e.nodes_start,e.nodes_end),n=!0),cn(e,t&&!n),Ye(e,0),W(e,vt);var r=e.transitions;if(r!==null)for(const l of r)l.stop();fn(e);var s=e.parent;s!==null&&s.first!==null&&dn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Sr(e,t){for(;e!==null;){var n=e===t?null:gt(e);e.remove(),e=n}}function dn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ue(e,t){var n=[];vn(e,n,!0),kr(n,()=>{fe(e),t&&t()})}function kr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function vn(e,t,n){if((e.f&me)===0){if(e.f^=me,e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&t.push(a);for(var r=e.first;r!==null;){var s=r.next,l=(r.f&Ve)!==0||(r.f&te)!==0;vn(r,t,l?n:!1),r=s}}}function Mt(e){pn(e,!0)}function pn(e,t){if((e.f&me)!==0){e.f^=me;for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Ve)!==0||(n.f&te)!==0;pn(n,s?t:!1),n=r}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let Re=[],ot=[];function hn(){var e=Re;Re=[],Ie(e)}function Nr(){var e=ot;ot=[],Ie(e)}function _n(e){Re.length===0&&queueMicrotask(hn),Re.push(e)}function Or(){Re.length>0&&hn(),ot.length>0&&Nr()}function Pr(e){var t=N;if((t.f&Kt)===0){if((t.f&dt)===0)throw e;t.fn(e)}else gn(e,t)}function gn(e,t){for(;t!==null;){if((t.f&dt)!==0)try{t.b.error(e);return}catch{}t=t.parent}throw e}let Me=!1,Ae=null,ue=!1,xe=!1;function At(e){xe=e}let Pe=[];let w=null,G=!1;function Z(e){w=e}let N=null;function oe(e){N=e}let R=null;function bn(e){w!==null&&w.f&st&&(R===null?R=[w,[e]]:R[1].push(e))}let C=null,U=0,K=null;function Ir(e){K=e}let mn=1,$e=0,ne=!1;function yn(){return++mn}function De(e){var c;var t=e.f;if((t&ee)!==0)return!0;if((t&ie)!==0){var n=e.deps,r=(t&$)!==0;if(n!==null){var s,l,a=(t&qe)!==0,o=r&&N!==null&&!ne,u=n.length;if(a||o){var i=e,p=i.parent;for(s=0;s<u;s++)l=n[s],(a||!((c=l==null?void 0:l.reactions)!=null&&c.includes(i)))&&(l.reactions??(l.reactions=[])).push(i);a&&(i.f^=qe),o&&p!==null&&(p.f&$)===0&&(i.f^=$)}for(s=0;s<u;s++)if(l=n[s],De(l)&&tn(l),l.wv>e.wv)return!0}(!r||N!==null&&!ne)&&W(e,Y)}return!1}function wn(e,t,n=!0){var r=e.reactions;if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];R!=null&&R[1].includes(e)&&R[0]===w||((l.f&V)!==0?wn(l,t,!1):t===l&&(n?W(l,ee):(l.f&Y)!==0&&W(l,ie),yt(l)))}}function En(e){var d;var t=C,n=U,r=K,s=w,l=ne,a=R,o=x,u=G,i=e.f;C=null,U=0,K=null,ne=(i&$)!==0&&(G||!ue||w===null),w=(i&(te|ye))===0?e:null,R=null,It(e.ctx),G=!1,$e++,e.f|=st,e.ac!==null&&(e.ac.abort(Wt),e.ac=null);try{var p=(0,e.fn)(),c=e.deps;if(C!==null){var f;if(Ye(e,U),c!==null&&U>0)for(c.length=U+C.length,f=0;f<C.length;f++)c[U+f]=C[f];else e.deps=c=C;if(!ne||(i&V)!==0&&e.reactions!==null)for(f=U;f<c.length;f++)((d=c[f]).reactions??(d.reactions=[])).push(e)}else c!==null&&U<c.length&&(Ye(e,U),c.length=U);if(We()&&K!==null&&!G&&c!==null&&(e.f&(V|ie|ee))===0)for(f=0;f<K.length;f++)wn(K[f],e);return s!==null&&s!==e&&($e++,K!==null&&(r===null?r=K:r.push(...K))),p}catch(h){Pr(h)}finally{C=t,U=n,K=r,w=s,ne=l,R=a,It(o),G=u,e.f^=st}}function Tr(e,t){let n=t.reactions;if(n!==null){var r=Un.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&V)!==0&&(C===null||!C.includes(t))&&(W(t,ie),(t.f&($|qe))===0&&(t.f^=qe),Qt(t),Ye(t,0))}function Ye(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Tr(e,n[r])}function Ze(e){var t=e.f;if((t&vt)===0){W(e,Y);var n=N,r=ue;N=e,ue=!0;try{(t&ct)!==0?xr(e):cn(e),fn(e);var s=En(e);e.teardown=typeof s=="function"?s:null,e.wv=mn;var l;Nt&&lr&&(e.f&ee)!==0&&e.deps}finally{ue=r,N=n}}}function Rr(){try{Qn()}catch(e){if(Ae!==null)gn(e,Ae);else throw e}}function xn(){var e=ue;try{var t=0;for(ue=!0;Pe.length>0;){t++>1e3&&Rr();var n=Pe,r=n.length;Pe=[];for(var s=0;s<r;s++){var l=Ar(n[s]);Mr(l)}Te.clear()}}finally{Me=!1,ue=e,Ae=null}}function Mr(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];(r.f&(vt|me))===0&&De(r)&&(Ze(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?dn(r):r.fn=null))}}function yt(e){Me||(Me=!0,queueMicrotask(xn));for(var t=Ae=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(ye|te))!==0){if((n&Y)===0)return;t.f^=Y}}Pe.push(t)}function Ar(e){for(var t=[],n=e;n!==null;){var r=n.f,s=(r&(te|ye))!==0,l=s&&(r&Y)!==0;if(!l&&(r&me)===0){(r&Jt)!==0?t.push(n):s?n.f^=Y:De(n)&&Ze(n);var a=n.first;if(a!==null){n=a;continue}}var o=n.parent;for(n=n.next;n===null&&o!==null;)n=o.next,o=o.parent}return t}function Cr(e){for(var t;;){if(Or(),Pe.length===0)return Me=!1,Ae=null,t;Me=!0,xn()}}async function Dr(){await Promise.resolve(),Cr()}function v(e){var t=e.f,n=(t&V)!==0;if(w!==null&&!G){if(!(R!=null&&R[1].includes(e))||R[0]!==w){var r=w.deps;e.rv<$e&&(e.rv=$e,C===null&&r!==null&&r[U]===e?U++:C===null?C=[e]:(!ne||!C.includes(e))&&C.push(e))}}else if(n&&e.deps===null&&e.effects===null){var s=e,l=s.parent;l!==null&&(l.f&$)===0&&(s.f^=$)}return n&&(s=e,De(s)&&tn(s)),xe&&Te.has(e)?Te.get(e):e.v}function ce(e){var t=G;try{return G=!0,e()}finally{G=t}}const Fr=-7169;function W(e,t){e.f=e.f&Fr|t}function Sn(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(se in e)it(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&se in n&&it(n)}}}function it(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{it(e[r],t)}catch{}const n=Yt(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Jn(n);for(let s in r){const l=r[s].get;if(l)try{l.call(e)}catch{}}}}}const Lr=["touchstart","touchmove"];function jr(e){return Lr.includes(e)}function qr(e){var t=w,n=N;Z(null),oe(null);try{return e()}finally{Z(t),oe(n)}}const kn=new Set,at=new Set;function Br(e,t,n,r={}){function s(l){if(r.capture||Ne.call(t,l),!l.cancelBubble)return qr(()=>n==null?void 0:n.call(this,l))}return _n(()=>{t.addEventListener(e,s,r)}),s}function Hr(e,t,n,r,s){var l={capture:r,passive:s},a=Br(e,t,n,l);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&un(()=>{t.removeEventListener(e,a,l)})}function Ur(e){for(var t=0;t<e.length;t++)kn.add(e[t]);for(var n of at)n(e)}function Ne(e){var k;var t=this,n=t.ownerDocument,r=e.type,s=((k=e.composedPath)==null?void 0:k.call(e))||[],l=s[0]||e.target,a=0,o=e.__root;if(o){var u=s.indexOf(o);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var i=s.indexOf(t);if(i===-1)return;u<=i&&(a=u)}if(l=s[a]||e.target,l!==t){Yn(e,"currentTarget",{configurable:!0,get(){return l||n}});var p=w,c=N;Z(null),oe(null);try{for(var f,d=[];l!==null;){var h=l.assignedSlot||l.parentNode||l.host||null;try{var E=l["__"+r];if(E!=null&&(!l.disabled||e.target===l))if(Je(E)){var[T,...D]=E;T.apply(l,[e,...D])}else E.call(l,e)}catch(M){f?d.push(M):f=M}if(e.cancelBubble||h===t||h===null)break;l=h}if(f){for(let M of d)queueMicrotask(()=>{throw M});throw f}}finally{e.__root=t,delete e.currentTarget,Z(p),oe(c)}}}function $r(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function ut(e,t){var n=N;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function Fe(e,t){var n=(t&dr)!==0,r=(t&vr)!==0,s,l=!e.startsWith("<!>");return()=>{s===void 0&&(s=$r(l?e:"<!>"+e),n||(s=Be(s)));var a=r||rn?document.importNode(s,!0):s.cloneNode(!0);if(n){var o=Be(a),u=a.lastChild;ut(o,u)}else ut(a,a);return a}}function nt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=on();return e.append(t,n),ut(t,n),e}function le(e,t){e!==null&&e.before(t)}function Le(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Yr(e,t){return Jr(e,t)}const he=new Map;function Jr(e,{target:t,anchor:n,props:r={},events:s,context:l,intro:a=!0}){gr();var o=new Set,u=c=>{for(var f=0;f<c.length;f++){var d=c[f];if(!o.has(d)){o.add(d);var h=jr(d);t.addEventListener(d,Ne,{passive:h});var E=he.get(d);E===void 0?(document.addEventListener(d,Ne,{passive:h}),he.set(d,1)):he.set(d,E+1)}}};u($n(kn)),at.add(u);var i=void 0,p=yr(()=>{var c=n??t.appendChild(on());return He(()=>{if(l){pt({});var f=x;f.c=l}s&&(r.$$events=s),i=e(c,r)||{},l&&ht()}),()=>{var h;for(var f of o){t.removeEventListener(f,Ne);var d=he.get(f);--d===0?(document.removeEventListener(f,Ne),he.delete(f)):he.set(f,d)}at.delete(u),c!==n&&((h=c.parentNode)==null||h.removeChild(c))}});return Kr.set(i,p),i}let Kr=new WeakMap;function ft(e,t,[n,r]=[0,0]){var s=e,l=null,a=null,o=q,u=n>0?Ve:0,i=!1;const p=(f,d=!0)=>{i=!0,c(d,f)},c=(f,d)=>{o!==(o=f)&&(o?(l?Mt(l):d&&(l=He(()=>d(s))),a&&Ue(a,()=>{a=null})):(a?Mt(a):d&&(a=He(()=>d(s,[n+1,r]))),l&&Ue(l,()=>{l=null})))};mt(()=>{i=!1,t(p),i||c(null,null)},u)}function Ct(e,t,n){var r=e,s,l;mt(()=>{s!==(s=t())&&(l&&(Ue(l),l=null),s&&(l=He(()=>n(r,s))))},Ve)}function Dt(e,t){return e===t||(e==null?void 0:e[se])===t}function Vr(e={},t,n,r){return bt(()=>{var s,l;return Ge(()=>{s=l,l=[],ce(()=>{e!==n(...l)&&(t(e,...l),s&&Dt(n(...s),e)&&t(null,...s))})}),()=>{_n(()=>{l&&Dt(n(...l),e)&&t(null,...l)})}}),e}function zr(e=!1){const t=x,n=t.l.u;if(!n)return;let r=()=>Sn(t.s);if(e){let s=0,l={};const a=Ce(()=>{let o=!1;const u=t.s;for(const i in u)u[i]!==l[i]&&(l[i]=u[i],o=!0);return o&&s++,s});r=()=>v(a)}n.b.length&&mr(()=>{Ft(t,r),Ie(n.b)}),lt(()=>{const s=ce(()=>n.m.map(zn));return()=>{for(const l of s)typeof l=="function"&&l()}}),n.a.length&&lt(()=>{Ft(t,r),Ie(n.a)})}function Ft(e,t){if(e.l.s)for(const n of e.l.s)v(n);t()}function Lt(e,t){var l;var n=(l=e.$$events)==null?void 0:l[t.type],r=Je(n)?n.slice():n==null?[]:[n];for(var s of r)s.call(this,t)}function Wr(e,t,n){if(e==null)return t(void 0),n&&n(void 0),be;const r=ce(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const _e=[];function Nn(e,t){return{subscribe:On(e,t).subscribe}}function On(e,t=be){let n=null;const r=new Set;function s(o){if(Zt(e,o)&&(e=o,n)){const u=!_e.length;for(const i of r)i[1](),_e.push(i,e);if(u){for(let i=0;i<_e.length;i+=2)_e[i][0](_e[i+1]);_e.length=0}}}function l(o){s(o(e))}function a(o,u=be){const i=[o,u];return r.add(i),r.size===1&&(n=t(s,l)||be),o(e),()=>{r.delete(i),r.size===0&&n&&(n(),n=null)}}return{set:s,update:l,subscribe:a}}function Pn(e,t,n){const r=!Array.isArray(e),s=r?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=t.length<2;return Nn(n,(a,o)=>{let u=!1;const i=[];let p=0,c=be;const f=()=>{if(p)return;c();const h=t(r?i[0]:i,a,o);l?a(h):c=typeof h=="function"?h:be},d=s.map((h,E)=>Wr(h,T=>{i[E]=T,p&=~(1<<E),u&&f()},()=>{p|=1<<E}));return u=!0,f(),function(){Ie(d),c(),u=!1}})}let je=!1;function Gr(e){var t=je;try{return je=!1,[e(),je]}finally{je=t}}const Zr={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(ke(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let s=e.props[r];ke(s)&&(s=s());const l=re(s,t);if(l&&l.set)return l.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(ke(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const s=re(r,t);return s&&!s.configurable&&(s.configurable=!0),s}}},has(e,t){if(t===se||t===zt)return!1;for(let n of e.props)if(ke(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(ke(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function jt(...e){return new Proxy({props:e},Zr)}function Xr(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function rt(e,t,n,r){var D;var s=!we||(n&ar)!==0,l=(n&fr)!==0,a=(n&cr)!==0,o=r,u=!0,i=()=>(u&&(u=!1,o=a?ce(r):r),o),p;if(l){var c=se in e||zt in e;p=((D=re(e,t))==null?void 0:D.set)??(c&&t in e?k=>e[t]=k:void 0)}var f,d=!1;l?[f,d]=Gr(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=i(),p&&(s&&tr(),p(f)));var h;if(s?h=()=>{var k=e[t];return k===void 0?i():(u=!0,k)}:h=()=>{var k=e[t];return k!==void 0&&(o=void 0),k===void 0?o:k},s&&(n&ur)===0)return h;if(p){var E=e.$$legacy;return function(k,M){return arguments.length>0?((!s||!M||E||d)&&p(M?h():k),k):h()}}var T=((n&ir)!==0?Ce:pr)(h);return l&&v(T),function(k,M){if(arguments.length>0){const de=M?v(T):s&&l?ge(k):k;return g(T,de),o!==void 0&&(o=de),k}return Xr(T)?T.v:v(T)}}function In(e){x===null&&ze(),we&&x.l!==null?Tn(x).m.push(e):lt(()=>{const t=ce(e);if(typeof t=="function")return t})}function Qr(e){x===null&&ze(),In(()=>()=>ce(e))}function es(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function ts(){const e=x;return e===null&&ze(),(t,n,r)=>{var l;const s=(l=e.s.$$events)==null?void 0:l[t];if(s){const a=Je(s)?s.slice():[s],o=es(t,n,r);for(const u of a)u.call(e.x,o);return!o.defaultPrevented}return!0}}function ns(e){x===null&&ze(),x.l===null&&er(),Tn(x).a.push(e)}function Tn(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const rs="5";var $t;typeof window<"u"&&(($t=window.__svelte??(window.__svelte={})).v??($t.v=new Set)).add(rs);or();function ss(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,l,a=[],o="",u=e.split("/");for(u[0]||u.shift();s=u.shift();)n=s[0],n==="*"?(a.push("wild"),o+="/(.*)"):n===":"?(r=s.indexOf("?",1),l=s.indexOf(".",1),a.push(s.substring(1,~r?r:~l?l:s.length)),o+=~r&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(o+=(~r?"?":"")+"\\"+s.substring(l))):o+="/"+s;return{keys:a,pattern:new RegExp("^"+o+"/?$","i")}}function qt(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const wt=Nn(null,function(t){t(qt());const n=()=>{t(qt())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});Pn(wt,e=>e.location);Pn(wt,e=>e.querystring);const Bt=On(void 0);function ls(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function os(e,t){pt(t,!1);let n=rt(t,"routes",24,()=>({})),r=rt(t,"prefix",8,""),s=rt(t,"restoreScrollState",8,!1);class l{constructor(_,b){if(!b||typeof b!="function"&&(typeof b!="object"||b._sveltesparouter!==!0))throw Error("Invalid component object");if(!_||typeof _=="string"&&(_.length<1||_.charAt(0)!="/"&&_.charAt(0)!="*")||typeof _=="object"&&!(_ instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:A,keys:P}=ss(_);this.path=_,typeof b=="object"&&b._sveltesparouter===!0?(this.component=b.component,this.conditions=b.conditions||[],this.userData=b.userData,this.props=b.props||{}):(this.component=()=>Promise.resolve(b),this.conditions=[],this.props={}),this._pattern=A,this._keys=P}match(_){if(r()){if(typeof r()=="string")if(_.startsWith(r()))_=_.substr(r().length)||"/";else return null;else if(r()instanceof RegExp){const F=_.match(r());if(F&&F[0])_=_.substr(F[0].length)||"/";else return null}}const b=this._pattern.exec(_);if(b===null)return null;if(this._keys===!1)return b;const A={};let P=0;for(;P<this._keys.length;){try{A[this._keys[P]]=decodeURIComponent(b[P+1]||"")||null}catch{A[this._keys[P]]=null}P++}return A}async checkConditions(_){for(let b=0;b<this.conditions.length;b++)if(!await this.conditions[b](_))return!1;return!0}}const a=[];n()instanceof Map?n().forEach((S,_)=>{a.push(new l(_,S))}):Object.keys(n()).forEach(S=>{a.push(new l(S,n()[S]))});let o=tt(null),u=tt(null),i=tt({});const p=ts();async function c(S,_){await Dr(),p(S,_)}let f=null,d=null;s()&&(d=S=>{S.state&&(S.state.__svelte_spa_router_scrollY||S.state.__svelte_spa_router_scrollX)?f=S.state:f=null},window.addEventListener("popstate",d),ns(()=>{ls(f)}));let h=null,E=null;const T=wt.subscribe(async S=>{h=S;let _=0;for(;_<a.length;){const b=a[_].match(S.location);if(!b){_++;continue}const A={route:a[_].path,location:S.location,querystring:S.querystring,userData:a[_].userData,params:b&&typeof b=="object"&&Object.keys(b).length?b:null};if(!await a[_].checkConditions(A)){g(o,null),E=null,c("conditionsFailed",A);return}c("routeLoading",Object.assign({},A));const P=a[_].component;if(E!=P){P.loading?(g(o,P.loading),E=P,g(u,P.loadingParams),g(i,{}),c("routeLoaded",Object.assign({},A,{component:v(o),name:v(o).name,params:v(u)}))):(g(o,null),E=null);const F=await P();if(S!=h)return;g(o,F&&F.default||F),E=P}b&&typeof b=="object"&&Object.keys(b).length?g(u,b):g(u,null),g(i,a[_].props),c("routeLoaded",Object.assign({},A,{component:v(o),name:v(o).name,params:v(u)})).then(()=>{Bt.set(v(u))});return}g(o,null),E=null,Bt.set(void 0)});Qr(()=>{T(),d&&window.removeEventListener("popstate",d)}),wr(()=>Sn(s()),()=>{history.scrollRestoration=s()?"manual":"auto"}),Er(),zr();var D=nt(),k=Oe(D);{var M=S=>{var _=nt(),b=Oe(_);Ct(b,()=>v(o),(A,P)=>{P(A,jt({get params(){return v(u)}},()=>v(i),{$$events:{routeEvent(F){Lt.call(this,t,F)}}}))}),le(S,_)},de=S=>{var _=nt(),b=Oe(_);Ct(b,()=>v(o),(A,P)=>{P(A,jt(()=>v(i),{$$events:{routeEvent(F){Lt.call(this,t,F)}}}))}),le(S,_)};ft(k,S=>{v(u)?S(M):S(de,!1)})}le(e,D),ht()}class B{constructor(t,n){ae(this,"base");ae(this,"exponent");if(t===0)this.base=0,this.exponent=0;else{const r=Math.floor(Math.log10(Math.abs(t))),s=t/Math.pow(10,r);this.base=s,this.exponent=n+r}}static fromNumber(t){if(t===0)return new B(0,0);const n=Math.floor(Math.log10(Math.abs(t))),r=t/Math.pow(10,n);return new B(r,n)}toNumber(){return this.base*Math.pow(10,this.exponent)}add(t){const n=this.toNumber(),r=t.toNumber();return B.fromNumber(n+r)}sub(t){const n=this.toNumber(),r=t.toNumber();return B.fromNumber(n-r)}mul(t){const n=this.base*t.base,r=this.exponent+t.exponent;return new B(n,r)}div(t){const n=this.base/t.base,r=this.exponent-t.exponent;return new B(n,r)}exp(t){const n=this.base*Math.pow(10,this.exponent),r=t.base*Math.pow(10,t.exponent),s=Math.pow(n,r),l=Math.floor(Math.log10(s)),a=s/Math.pow(10,l);return new B(a,l)}ln(){const t=Math.log(this.base)+this.exponent*Math.log(10);return new B(t,0)}sqrt(){const t=Math.sqrt(this.base),n=this.exponent%2===0,r=this.exponent/2;return n?new B(t,r):new B(t*Math.sqrt(10),Math.floor(r))}toString(){return`${this.base}e${this.exponent}`}roundFloat(t,n){return t.toFixed(n).toString().replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,"")}toRoundedString(t=6){return this.exponent+1>t?`${this.roundFloat(this.base,t)}e${this.exponent}`:this.roundFloat(this.toNumber(),t)}}const Ht={H:1.008,He:4.0026022,Li:6.94,Be:9.01218315,B:10.81,C:12.011,N:14.007,O:15.999,F:18.9984031636,Ne:20.17976,Na:22.989769282,Mg:24.305,Al:26.98153857,Si:28.085,P:30.9737619985,S:32.06,Cl:35.45,Ar:39.9481,K:39.09831,Ca:40.0784,Sc:44.9559085,Ti:47.8671,V:50.94151,Cr:51.99616,Mn:54.9380443,Fe:55.8452,Co:58.9331944,Ni:58.69344,Cu:63.5463,Zn:65.382,Ga:69.7231,Ge:72.6308,As:74.9215956,Se:78.9718,Br:79.904,Kr:83.7982,Rb:85.46783,Sr:87.621,Y:88.905842,Zr:91.2242,Nb:92.906372,Mo:95.951,Tc:98,Ru:101.072,Rh:102.905502,Pd:106.421,Ag:107.86822,Cd:112.4144,In:114.8181,Sn:118.7107,Sb:121.7601,Te:127.603,I:126.904473,Xe:131.2936,Cs:132.905451966,Ba:137.3277,La:138.905477,Ce:140.1161,Pr:140.907662,Nd:144.2423,Pm:145,Sm:150.362,Eu:151.9641,Gd:157.253,Tb:158.925352,Dy:162.5001,Ho:164.930332,Er:167.2593,Tm:168.934222,Yb:173.0451,Lu:174.96681,Hf:178.492,Ta:180.947882,W:183.841,Re:186.2071,Os:190.233,Ir:192.2173,Pt:195.0849,Au:196.9665695,Hg:200.5923,Tl:204.38,Pb:207.21,Bi:208.980401,Po:209,At:210,Rn:222,Fr:223,Ra:226,Ac:227,Th:232.03774,Pa:231.035882,U:238.028913,Np:237,Pu:244,Am:243,Cm:247,Bk:247,Cf:251,Es:252,Fm:257,Md:258,No:259,Lr:266,Rf:267,Db:268,Sg:269,Bh:270,Hs:269,Mt:278,Ds:281,Rg:282,Cn:285,Nh:286,Fl:289,Mc:289,Lv:293,Ts:294,Og:294,Uue:315};function is(e){e=e.replace(/\s+/g,"");const t=/([A-Z][a-z]?)(\d*)/g;function n(l){let a=0;const o=l.matchAll(t);for(const u of o){const i=u[1],p=u[2]?parseInt(u[2],10):1;if(!(i in Ht))throw new Error(`Invalid element symbol: ${i}`);a+=Ht[i]*p}return a}const r=[];let s=0;for(;s<e.length;){const l=e[s];if(l==="(")r.push("");else if(l===")"){if(!r.length)throw new Error("Unmatched parenthesis in formula");let a=r.pop();s++;let o="";for(;s<e.length&&/\d/.test(e[s]);)o+=e[s],s++;const u=o?parseInt(o,10):1;a=a.repeat(u),r.length?r[r.length-1]+=a:r.push(a);continue}else r.length?r[r.length-1]+=l:r.push(l);s++}return r.length?n(r.join("")):0}class as{constructor(t=null){ae(this,"functions",{});ae(this,"ans");this.functions.sqrt=([n])=>n.sqrt(),this.functions.ln=([n])=>n.ln(),this.ans=t}evaluate(t){const n=this.tokenize(t),r=this.toRPN(n);return this.evalRPN(r)}tokenize(t){const n=/M\([^()]*\)|\d+\.?\d*(?:[eE][+-]?\d+)?|\.\d+(?:[eE][+-]?\d+)?|Ans|[()+\-*/^]|\w+/g;return t.match(n)??[]}toRPN(t){const n={"+":1,"-":1,"*":2,"u-":2,"/":2,"^":3},r=[],s=[];let l=null,a=!0;for(const o of t){if(a=!0,!isNaN(Number(o)))r.push(o);else if(this.functions[o])s.push(o);else if(o==="(")s.push(o);else if(o===")"){for(;s.length&&s[s.length-1]!=="(";)r.push(s.pop());s.pop(),s.length&&this.functions[s[s.length-1]]&&r.push(s.pop())}else if(["+","-","*","/","^"].includes(o)){const i=o==="-"&&(l===null||["+","-","*","/","^","("].includes(l))?"u-":o;for(;s.length&&n[s[s.length-1]]>=n[i];)r.push(s.pop());s.push(i)}else if(o.startsWith("M(")&&o.endsWith(")")){const u=o.match(/^M\(([^()]*)\)$/);if(u){const i=u[1];r.push(is(i).toString())}else throw new Error(`Invalid M(...) expression: ${o}`)}else o==="Ans"&&r.push((this.ans??0).toString());a=!0,a&&(l=o)}for(;s.length;)r.push(s.pop());return r}evalRPN(t){console.table(t);const n=[];for(const r of t)if(!isNaN(Number(r)))n.push(B.fromNumber(Number(r)));else if(["+","-","*","/","^"].includes(r)){const s=n.pop(),l=n.pop();switch(r){case"+":n.push(l.add(s));break;case"-":n.push(l.sub(s));break;case"*":n.push(l.mul(s));break;case"/":n.push(l.div(s));break;case"^":n.push(l.exp(s));break}}else if(this.functions[r]){const s=[n.pop()];n.push(this.functions[r](s))}else if(r==="u-"){const s=n.pop();n.push(B.fromNumber(-1).mul(s))}else throw new Error(`Unknown token: ${r}`);return n[0]}}const Ut={1:"1",2:"2",3:"3",q:"4",w:"5",e:"6",a:"7",s:"8",d:"9",c:".",x:"0",z:"e",Alt:"Ans",4:"+",r:"-",f:"*",v:"/",5:"^",t:"sqrt(",g:"ln(",b:"M(",Shift:"Enter",Space:"()",Backtick:"Backspace"};var us=(e,t)=>{g(t,!v(t))},fs=Fe('<div class="flex flex-col items-end gap-4 w-1/2 p-2"><button class="text-gray-500 hover:cursor-pointer"> </button> <button class="font-bold hover:cursor-pointer"> </button></div> <textarea id="textarea" class="w-1/2 h-auto resize-none overflow-hidden whitespace-nowrap border-2 rounded p-2 font-mono" rows="1"></textarea> <p class="text-red-700 font-bold"> </p>',1),cs=Fe('<div class="flex gap-4"><button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Use one-handed preset</button> <button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Clear keybinds</button></div> <div class="flex gap-4"><button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Import data from file</button> <button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Export data to file</button></div> <div class="flex gap-4"><button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Clear history</button></div>',1),ds=Fe('<main><div class="absolute text-[0.5rem] m-2 font-bold inline-block"><button class="border-2 p-2 rounded font-bold hover:cursor-pointer"> </button> <a class="border-2 p-2 rounded font-bold hover:cursor-pointer" href="https://github.com/storchdev/qalc">Info</a></div> <div class="flex flex-col justify-center items-center h-screen gap-4"><!> <!></div></main>');function vs(e,t){pt(t,!0);const n=["+","-","*","/","^"];let r,s={},l=[],a=[],o,u=H(6),i=H(0),p=et(()=>l[v(i)]),c=et(()=>B.fromNumber(a[v(i)]??0)),f=H(0),d=H(0),h=!1,E=H(!1),T=et(()=>v(E)?"Back":"Settings"),D=H("");function k(){s=JSON.parse(localStorage.getItem("keybinds")??"{}"),l=JSON.parse(localStorage.getItem("exprHistory")??"[]"),a=JSON.parse(localStorage.getItem("ansHistory")??"[]"),o=parseInt(localStorage.getItem("maxHistoryLen")??"50"),g(u,parseInt(localStorage.getItem("maxDigits")??"6"),!0),g(i,a.length-1)}In(()=>{k()});function M(){r.value="",g(f,0),g(d,0),h=!1,g(D,"")}function de(y){y.deltaY<0?S():y.deltaY>0&&_()}function S(){v(i)>0&&(pe(i,-1),r.value=l[v(i)],g(f,r.value.split("(").length-1),g(d,r.value.split(")").length-1),h=!1)}function _(){v(i)<a.length-1&&(pe(i),r.value=l[v(i)],g(f,r.value.split("(").length-1),g(d,r.value.split(")").length-1),h=!1)}function b(y){let L=y.key;y.key===" "?L="Space":y.key==="`"&&(L="Backtick");const j=L in s;let m=s[L]??y.key;if(console.log(m),!(h&&m!=="()")){if(m==="Escape"){y.preventDefault(),M();return}if(m==="Backspace"){y.preventDefault();const O=r.selectionStart;if(O>0){const I=r.value,z=r.value[O-1];console.log(z),r.value=I.slice(0,O-1)+I.slice(O),r.selectionStart=r.selectionEnd=O-1,z==="("?pe(f,-1):z===")"&&pe(d,-1)}return}if(m==="ArrowUp"){S();return}if(m==="ArrowDown"){_();return}if(m==="Enter"){y.preventDefault();try{for(;v(f)>v(d);)r.value+=")",pe(d);const O=new as(v(c));g(c,O.evaluate(r.value),!0),g(p,r.value,!0),M(),a.push(v(c).toNumber()),l.push(v(p)),a.length>=o?(a.shift(),l.shift()):pe(i),localStorage.setItem("exprHistory",JSON.stringify(l)),localStorage.setItem("ansHistory",JSON.stringify(a))}catch{g(D,"syntax error")}return}if(m==="()"&&(h?(h=!1,m=")"):n.includes(r.value[r.value.length-1])?m="(":v(f)>v(d)?m=")":v(f)===v(d)?m="(":m=" "),!h&&(g(f,v(f)+(m.split("(").length-1)),g(d,v(d)+(m.split(")").length-1)),m==="M("&&(h=!0),j)){y.preventDefault();const{selectionStart:O,selectionEnd:I,value:z}=r,X=z.slice(0,O),Se=z.slice(I),ve=X.length+m.length;r.value=X+m+Se,r.setSelectionRange(ve,ve)}}}function A(y){r.value=v(p)}function P(){r.value=v(c)?v(c).toRoundedString():""}function F(){const y={};for(let O=0;O<localStorage.length;O++){const I=localStorage.key(O);I&&(["keybinds","exprHistory","ansHistory"].includes(I),y[I]=JSON.parse(localStorage.getItem(I)??"{}"))}const L=JSON.stringify(y,null,2),j=new Blob([L],{type:"application/json"}),m=document.createElement("a");m.href=URL.createObjectURL(j),m.download="qalc_data.json",document.body.appendChild(m),m.click(),document.body.removeChild(m)}function Rn(){localStorage.setItem("keybinds","{}"),s={},alert("Cleared keybinds!")}function Mn(){localStorage.setItem("keybinds",JSON.stringify(Ut)),s=Ut,alert("Set default one-handed keybinds!")}function An(){const y=document.createElement("input");y.type="file",y.accept=".json",y.onchange=()=>{if(!y.files||y.files.length===0)return alert("No file selected");const L=y.files[0],j=new FileReader;j.onload=()=>{try{const m=JSON.parse(j.result);for(const[O,I]of Object.entries(m))["keybinds","exprHistory","ansHistory"].includes(O)?(localStorage.setItem(O,JSON.stringify(I)),m[O]=JSON.parse(localStorage.getItem(O)??"{}")):localStorage.setItem(O,I);k(),alert("Updated your settings!")}catch{alert("Invalid JSON file")}},j.onerror=()=>{alert("Failed to read file")},j.readAsText(L)},y.click()}function Cn(){a=[],l=[],g(i,0),localStorage.setItem("ansHistory","[]"),localStorage.setItem("exprHistory","[]"),alert("Cleared history!")}var Et=ds(),xt=J(Et),St=J(xt);St.__click=[us,E];var Dn=J(St),Fn=Q(xt,2),kt=J(Fn);{var Ln=y=>{var L=fs(),j=Oe(L),m=J(j);m.__click=A;var O=J(m),I=Q(m,2);I.__click=P;var z=J(I),X=Q(j,2);X.__keydown=b,Vr(X,Xe=>r=Xe,()=>r);var Se=Q(X,2),ve=J(Se);Rt(Xe=>{Le(O,v(p)),Le(z,`= ${Xe??""}`),Le(ve,v(D))},[()=>v(c).toRoundedString(v(u))]),Hr("wheel",X,de),le(y,L)};ft(kt,y=>{v(E)||y(Ln)})}var jn=Q(kt,2);{var qn=y=>{var L=cs(),j=Oe(L),m=J(j);m.__click=Mn;var O=Q(m,2);O.__click=Rn;var I=Q(j,2),z=J(I);z.__click=An;var X=Q(z,2);X.__click=F;var Se=Q(I,2),ve=J(Se);ve.__click=Cn,le(y,L)};ft(jn,y=>{v(E)&&y(qn)})}Rt(()=>Le(Dn,v(T))),le(e,Et),ht()}Ur(["click","keydown"]);var ps=Fe('<main><p class="text-red-500 font-bold">Page Not Found!</p></main>');function hs(e){var t=ps();le(e,t)}var _s=Fe("<main><!></main>");function gs(e){const t={"/":vs,"*":hs};var n=_s(),r=J(n);os(r,{get routes(){return t}}),le(e,n)}Yr(gs,{target:document.getElementById("app")});

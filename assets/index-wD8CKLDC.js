var qn=Object.defineProperty;var Bn=(e,t,n)=>t in e?qn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ae=(e,t,n)=>Bn(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();const kt=!1;var Je=Array.isArray,Hn=Array.prototype.indexOf,Un=Array.from,$n=Object.defineProperty,re=Object.getOwnPropertyDescriptor,Yn=Object.getOwnPropertyDescriptors,Jn=Object.prototype,Kn=Array.prototype,$t=Object.getPrototypeOf,Nt=Object.isExtensible;function ke(e){return typeof e=="function"}const be=()=>{};function zn(e){return e()}function Ie(e){for(var t=0;t<e.length;t++)e[t]()}const K=2,Yt=4,Ke=8,dt=16,te=32,ye=64,vt=128,$=256,qe=512,Y=1024,ee=2048,ie=4096,me=8192,pt=16384,Jt=32768,ze=65536,Ot=1<<17,Vn=1<<18,Kt=1<<19,lt=1<<20,se=Symbol("$state"),zt=Symbol("legacy props"),Vt=new class extends Error{constructor(){super(...arguments);ae(this,"name","StaleReactionError");ae(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Wt(e){return e===this.v}function Gt(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Zt(e){return!Gt(e,this.v)}function Wn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Gn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Zn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Xn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Qn(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function er(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function tr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function nr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function rr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let we=!1,sr=!1;function lr(){we=!0}const or=1,ir=2,ar=4,ur=8,fr=16,cr=1,dr=2,q=Symbol();function Ve(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let x=null;function Pt(e){x=e}function ht(e,t=!1,n){var r=x={p:x,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};we&&!t&&(x.l={s:null,u:null,r1:[],r2:gt(!1)}),an(()=>{r.d=!0})}function _t(e){const t=x;if(t!==null){const i=t.e;if(i!==null){var n=N,r=w;t.e=null;try{for(var s=0;s<i.length;s++){var l=i[s];oe(l.effect),Z(l.reaction),mt(l.fn)}}finally{oe(n),Z(r)}}x=t.p,t.m=!0}return{}}function We(){return!we||x!==null&&x.l===null}function ge(e){if(typeof e!="object"||e===null||se in e)return e;const t=$t(e);if(t!==Jn&&t!==Kn)return e;var n=new Map,r=Je(e),s=B(0),l=w,i=o=>{var a=w;Z(l);var u=o();return Z(a),u};return r&&n.set("length",B(e.length)),new Proxy(e,{defineProperty(o,a,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&tr();var p=n.get(a);return p===void 0?p=i(()=>{var c=B(u.value);return n.set(a,c),c}):g(p,u.value,!0),!0},deleteProperty(o,a){var u=n.get(a);if(u===void 0){if(a in o){const f=i(()=>B(q));n.set(a,f),et(s)}}else{if(r&&typeof a=="string"){var p=n.get("length"),c=Number(a);Number.isInteger(c)&&c<p.v&&g(p,c)}g(u,q),et(s)}return!0},get(o,a,u){var d;if(a===se)return e;var p=n.get(a),c=a in o;if(p===void 0&&(!c||(d=re(o,a))!=null&&d.writable)&&(p=i(()=>{var h=ge(c?o[a]:q),E=B(h);return E}),n.set(a,p)),p!==void 0){var f=v(p);return f===q?void 0:f}return Reflect.get(o,a,u)},getOwnPropertyDescriptor(o,a){var u=Reflect.getOwnPropertyDescriptor(o,a);if(u&&"value"in u){var p=n.get(a);p&&(u.value=v(p))}else if(u===void 0){var c=n.get(a),f=c==null?void 0:c.v;if(c!==void 0&&f!==q)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(o,a){var f;if(a===se)return!0;var u=n.get(a),p=u!==void 0&&u.v!==q||Reflect.has(o,a);if(u!==void 0||N!==null&&(!p||(f=re(o,a))!=null&&f.writable)){u===void 0&&(u=i(()=>{var d=p?ge(o[a]):q,h=B(d);return h}),n.set(a,u));var c=v(u);if(c===q)return!1}return p},set(o,a,u,p){var A;var c=n.get(a),f=a in o;if(r&&a==="length")for(var d=u;d<c.v;d+=1){var h=n.get(d+"");h!==void 0?g(h,q):d in o&&(h=i(()=>B(q)),n.set(d+"",h))}if(c===void 0)(!f||(A=re(o,a))!=null&&A.writable)&&(c=i(()=>B(void 0)),g(c,ge(u)),n.set(a,c));else{f=c.v!==q;var E=i(()=>ge(u));g(c,E)}var T=Reflect.getOwnPropertyDescriptor(o,a);if(T!=null&&T.set&&T.set.call(p,u),!f){if(r&&typeof a=="string"){var D=n.get("length"),k=Number(a);Number.isInteger(k)&&k>=D.v&&g(D,k+1)}et(s)}return!0},ownKeys(o){v(s);var a=Reflect.ownKeys(o).filter(c=>{var f=n.get(c);return f===void 0||f.v!==q});for(var[u,p]of n)p.v!==q&&!(u in o)&&a.push(u);return a},setPrototypeOf(){nr()}})}function et(e,t=1){g(e,e.v+t)}function Ce(e){var t=K|ee,n=w!==null&&(w.f&K)!==0?w:null;return N===null||n!==null&&(n.f&$)!==0?t|=$:N.f|=Kt,{ctx:x,deps:null,effects:null,equals:Wt,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??N,ac:null}}function tt(e){const t=Ce(e);return gn(t),t}function vr(e){const t=Ce(e);return t.equals=Zt,t}function Xt(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)fe(t[n])}}function pr(e){for(var t=e.parent;t!==null;){if((t.f&K)===0)return t;t=t.parent}return null}function Qt(e){var t,n=N;oe(pr(e));try{Xt(e),t=wn(e)}finally{oe(n)}return t}function en(e){var t=Qt(e);if(e.equals(t)||(e.v=t,e.wv=mn()),!xe){var n=(ne||(e.f&$)!==0)&&e.deps!==null?ie:Y;W(e,n)}}const Te=new Map;function gt(e,t){var n={f:0,v:e,reactions:null,equals:Wt,rv:0,wv:0};return n}function B(e,t){const n=gt(e);return gn(n),n}function nt(e,t=!1,n=!0){var s;const r=gt(e);return t||(r.equals=Zt),we&&n&&x!==null&&x.l!==null&&((s=x.l).s??(s.s=[])).push(r),r}function g(e,t,n=!1){w!==null&&(!G||(w.f&Ot)!==0)&&We()&&(w.f&(K|dt|Ot))!==0&&!(R!=null&&R[1].includes(e)&&R[0]===w)&&rr();let r=n?ge(t):t;return hr(e,r)}function hr(e,t){if(!e.equals(t)){var n=e.v;xe?Te.set(e,t):Te.set(e,n),e.v=t,(e.f&K)!==0&&((e.f&ee)!==0&&Qt(e),W(e,(e.f&$)===0?Y:ie)),e.wv=mn(),tn(e,ee),We()&&N!==null&&(N.f&Y)!==0&&(N.f&(te|ye))===0&&(J===null?Pr([e]):J.push(e))}return t}function pe(e,t=1){var n=v(e),r=t===1?n++:n--;return g(e,n),r}function tn(e,t){var n=e.reactions;if(n!==null)for(var r=We(),s=n.length,l=0;l<s;l++){var i=n[l],o=i.f;(o&ee)===0&&(!r&&i===N||(W(i,t),(o&(Y|$))!==0&&((o&K)!==0?tn(i,ie):wt(i))))}}var It,nn,rn,sn;function _r(){if(It===void 0){It=window,nn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;rn=re(t,"firstChild").get,sn=re(t,"nextSibling").get,Nt(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Nt(n)&&(n.__t=void 0)}}function ln(e=""){return document.createTextNode(e)}function Be(e){return rn.call(e)}function bt(e){return sn.call(e)}function V(e,t){return Be(e)}function Oe(e,t){{var n=Be(e);return n instanceof Comment&&n.data===""?bt(n):n}}function Q(e,t=1,n=!1){let r=e;for(;t--;)r=bt(r);return r}function on(e){N===null&&w===null&&Zn(),w!==null&&(w.f&$)!==0&&N===null&&Gn(),xe&&Wn()}function gr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Ee(e,t,n,r=!0){var s=N,l={ctx:x,deps:null,nodes_start:null,nodes_end:null,f:e|ee,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Ze(l),l.f|=Jt}catch(a){throw fe(l),a}else t!==null&&wt(l);var i=n&&l.deps===null&&l.first===null&&l.nodes_start===null&&l.teardown===null&&(l.f&(Kt|vt))===0;if(!i&&r&&(s!==null&&gr(l,s),w!==null&&(w.f&K)!==0)){var o=w;(o.effects??(o.effects=[])).push(l)}return l}function an(e){const t=Ee(Ke,null,!1);return W(t,Y),t.teardown=e,t}function ot(e){on();var t=N!==null&&(N.f&te)!==0&&x!==null&&!x.m;if(t){var n=x;(n.e??(n.e=[])).push({fn:e,effect:N,reaction:w})}else{var r=mt(e);return r}}function br(e){return on(),Ge(e)}function mr(e){const t=Ee(ye,e,!0);return(n={})=>new Promise(r=>{n.outro?Ue(t,()=>{fe(t),r(void 0)}):(fe(t),r(void 0))})}function mt(e){return Ee(Yt,e,!1)}function yr(e,t){var n=x,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=Ge(()=>{e(),!r.ran&&(r.ran=!0,g(n.l.r2,!0),ce(t))})}function wr(){var e=x;Ge(()=>{if(v(e.l.r2)){for(var t of e.l.r1){var n=t.effect;(n.f&Y)!==0&&W(n,ie),De(n)&&Ze(n),t.ran=!1}e.l.r2.v=!1}})}function Ge(e){return Ee(Ke,e,!0)}function Tt(e,t=[],n=Ce){const r=t.map(n);return yt(()=>e(...r.map(v)))}function yt(e,t=0){var n=Ee(Ke|dt|t,e,!0);return n}function He(e,t=!0){return Ee(Ke|te,e,!0,t)}function un(e){var t=e.teardown;if(t!==null){const n=xe,r=w;At(!0),Z(null);try{t.call(null)}finally{At(n),Z(r)}}}function fn(e,t=!1){var s;var n=e.first;for(e.first=e.last=null;n!==null;){(s=n.ac)==null||s.abort(Vt);var r=n.next;(n.f&ye)!==0?n.parent=null:fe(n,t),n=r}}function Er(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&te)===0&&fe(t),t=n}}function fe(e,t=!0){var n=!1;(t||(e.f&Vn)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(xr(e.nodes_start,e.nodes_end),n=!0),fn(e,t&&!n),Ye(e,0),W(e,pt);var r=e.transitions;if(r!==null)for(const l of r)l.stop();un(e);var s=e.parent;s!==null&&s.first!==null&&cn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function xr(e,t){for(;e!==null;){var n=e===t?null:bt(e);e.remove(),e=n}}function cn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ue(e,t){var n=[];dn(e,n,!0),Sr(n,()=>{fe(e),t&&t()})}function Sr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function dn(e,t,n){if((e.f&me)===0){if(e.f^=me,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var s=r.next,l=(r.f&ze)!==0||(r.f&te)!==0;dn(r,t,l?n:!1),r=s}}}function Rt(e){vn(e,!0)}function vn(e,t){if((e.f&me)!==0){e.f^=me;for(var n=e.first;n!==null;){var r=n.next,s=(n.f&ze)!==0||(n.f&te)!==0;vn(n,s?t:!1),n=r}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let Re=[],it=[];function pn(){var e=Re;Re=[],Ie(e)}function kr(){var e=it;it=[],Ie(e)}function hn(e){Re.length===0&&queueMicrotask(pn),Re.push(e)}function Nr(){Re.length>0&&pn(),it.length>0&&kr()}function Or(e){var t=N;if((t.f&Jt)===0){if((t.f&vt)===0)throw e;t.fn(e)}else _n(e,t)}function _n(e,t){for(;t!==null;){if((t.f&vt)!==0)try{t.b.error(e);return}catch{}t=t.parent}throw e}let Ae=!1,Me=null,ue=!1,xe=!1;function At(e){xe=e}let Pe=[];let w=null,G=!1;function Z(e){w=e}let N=null;function oe(e){N=e}let R=null;function gn(e){w!==null&&w.f&lt&&(R===null?R=[w,[e]]:R[1].push(e))}let C=null,H=0,J=null;function Pr(e){J=e}let bn=1,$e=0,ne=!1;function mn(){return++bn}function De(e){var c;var t=e.f;if((t&ee)!==0)return!0;if((t&ie)!==0){var n=e.deps,r=(t&$)!==0;if(n!==null){var s,l,i=(t&qe)!==0,o=r&&N!==null&&!ne,a=n.length;if(i||o){var u=e,p=u.parent;for(s=0;s<a;s++)l=n[s],(i||!((c=l==null?void 0:l.reactions)!=null&&c.includes(u)))&&(l.reactions??(l.reactions=[])).push(u);i&&(u.f^=qe),o&&p!==null&&(p.f&$)===0&&(u.f^=$)}for(s=0;s<a;s++)if(l=n[s],De(l)&&en(l),l.wv>e.wv)return!0}(!r||N!==null&&!ne)&&W(e,Y)}return!1}function yn(e,t,n=!0){var r=e.reactions;if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];R!=null&&R[1].includes(e)&&R[0]===w||((l.f&K)!==0?yn(l,t,!1):t===l&&(n?W(l,ee):(l.f&Y)!==0&&W(l,ie),wt(l)))}}function wn(e){var d;var t=C,n=H,r=J,s=w,l=ne,i=R,o=x,a=G,u=e.f;C=null,H=0,J=null,ne=(u&$)!==0&&(G||!ue||w===null),w=(u&(te|ye))===0?e:null,R=null,Pt(e.ctx),G=!1,$e++,e.f|=lt,e.ac!==null&&(e.ac.abort(Vt),e.ac=null);try{var p=(0,e.fn)(),c=e.deps;if(C!==null){var f;if(Ye(e,H),c!==null&&H>0)for(c.length=H+C.length,f=0;f<C.length;f++)c[H+f]=C[f];else e.deps=c=C;if(!ne||(u&K)!==0&&e.reactions!==null)for(f=H;f<c.length;f++)((d=c[f]).reactions??(d.reactions=[])).push(e)}else c!==null&&H<c.length&&(Ye(e,H),c.length=H);if(We()&&J!==null&&!G&&c!==null&&(e.f&(K|ie|ee))===0)for(f=0;f<J.length;f++)yn(J[f],e);return s!==null&&s!==e&&($e++,J!==null&&(r===null?r=J:r.push(...J))),p}catch(h){Or(h)}finally{C=t,H=n,J=r,w=s,ne=l,R=i,Pt(o),G=a,e.f^=lt}}function Ir(e,t){let n=t.reactions;if(n!==null){var r=Hn.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&K)!==0&&(C===null||!C.includes(t))&&(W(t,ie),(t.f&($|qe))===0&&(t.f^=qe),Xt(t),Ye(t,0))}function Ye(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Ir(e,n[r])}function Ze(e){var t=e.f;if((t&pt)===0){W(e,Y);var n=N,r=ue;N=e,ue=!0;try{(t&dt)!==0?Er(e):fn(e),un(e);var s=wn(e);e.teardown=typeof s=="function"?s:null,e.wv=bn;var l;kt&&sr&&(e.f&ee)!==0&&e.deps}finally{ue=r,N=n}}}function Tr(){try{Xn()}catch(e){if(Me!==null)_n(e,Me);else throw e}}function En(){var e=ue;try{var t=0;for(ue=!0;Pe.length>0;){t++>1e3&&Tr();var n=Pe,r=n.length;Pe=[];for(var s=0;s<r;s++){var l=Ar(n[s]);Rr(l)}Te.clear()}}finally{Ae=!1,ue=e,Me=null}}function Rr(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];(r.f&(pt|me))===0&&De(r)&&(Ze(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?cn(r):r.fn=null))}}function wt(e){Ae||(Ae=!0,queueMicrotask(En));for(var t=Me=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(ye|te))!==0){if((n&Y)===0)return;t.f^=Y}}Pe.push(t)}function Ar(e){for(var t=[],n=e;n!==null;){var r=n.f,s=(r&(te|ye))!==0,l=s&&(r&Y)!==0;if(!l&&(r&me)===0){(r&Yt)!==0?t.push(n):s?n.f^=Y:De(n)&&Ze(n);var i=n.first;if(i!==null){n=i;continue}}var o=n.parent;for(n=n.next;n===null&&o!==null;)n=o.next,o=o.parent}return t}function Mr(e){for(var t;;){if(Nr(),Pe.length===0)return Ae=!1,Me=null,t;Ae=!0,En()}}async function Cr(){await Promise.resolve(),Mr()}function v(e){var t=e.f,n=(t&K)!==0;if(w!==null&&!G){if(!(R!=null&&R[1].includes(e))||R[0]!==w){var r=w.deps;e.rv<$e&&(e.rv=$e,C===null&&r!==null&&r[H]===e?H++:C===null?C=[e]:(!ne||!C.includes(e))&&C.push(e))}}else if(n&&e.deps===null&&e.effects===null){var s=e,l=s.parent;l!==null&&(l.f&$)===0&&(s.f^=$)}return n&&(s=e,De(s)&&en(s)),xe&&Te.has(e)?Te.get(e):e.v}function ce(e){var t=G;try{return G=!0,e()}finally{G=t}}const Dr=-7169;function W(e,t){e.f=e.f&Dr|t}function xn(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(se in e)at(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&se in n&&at(n)}}}function at(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{at(e[r],t)}catch{}const n=$t(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Yn(n);for(let s in r){const l=r[s].get;if(l)try{l.call(e)}catch{}}}}}const Fr=["touchstart","touchmove"];function Lr(e){return Fr.includes(e)}function jr(e){var t=w,n=N;Z(null),oe(null);try{return e()}finally{Z(t),oe(n)}}const Sn=new Set,ut=new Set;function qr(e,t,n,r={}){function s(l){if(r.capture||Ne.call(t,l),!l.cancelBubble)return jr(()=>n==null?void 0:n.call(this,l))}return hn(()=>{t.addEventListener(e,s,r)}),s}function Br(e,t,n,r,s){var l={capture:r,passive:s},i=qr(e,t,n,l);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&an(()=>{t.removeEventListener(e,i,l)})}function Hr(e){for(var t=0;t<e.length;t++)Sn.add(e[t]);for(var n of ut)n(e)}function Ne(e){var k;var t=this,n=t.ownerDocument,r=e.type,s=((k=e.composedPath)==null?void 0:k.call(e))||[],l=s[0]||e.target,i=0,o=e.__root;if(o){var a=s.indexOf(o);if(a!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;a<=u&&(i=a)}if(l=s[i]||e.target,l!==t){$n(e,"currentTarget",{configurable:!0,get(){return l||n}});var p=w,c=N;Z(null),oe(null);try{for(var f,d=[];l!==null;){var h=l.assignedSlot||l.parentNode||l.host||null;try{var E=l["__"+r];if(E!=null&&(!l.disabled||e.target===l))if(Je(E)){var[T,...D]=E;T.apply(l,[e,...D])}else E.call(l,e)}catch(A){f?d.push(A):f=A}if(e.cancelBubble||h===t||h===null)break;l=h}if(f){for(let A of d)queueMicrotask(()=>{throw A});throw f}}finally{e.__root=t,delete e.currentTarget,Z(p),oe(c)}}}function Ur(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function ft(e,t){var n=N;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function Fe(e,t){var n=(t&cr)!==0,r=(t&dr)!==0,s,l=!e.startsWith("<!>");return()=>{s===void 0&&(s=Ur(l?e:"<!>"+e),n||(s=Be(s)));var i=r||nn?document.importNode(s,!0):s.cloneNode(!0);if(n){var o=Be(i),a=i.lastChild;ft(o,a)}else ft(i,i);return i}}function rt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=ln();return e.append(t,n),ft(t,n),e}function le(e,t){e!==null&&e.before(t)}function Le(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function $r(e,t){return Yr(e,t)}const he=new Map;function Yr(e,{target:t,anchor:n,props:r={},events:s,context:l,intro:i=!0}){_r();var o=new Set,a=c=>{for(var f=0;f<c.length;f++){var d=c[f];if(!o.has(d)){o.add(d);var h=Lr(d);t.addEventListener(d,Ne,{passive:h});var E=he.get(d);E===void 0?(document.addEventListener(d,Ne,{passive:h}),he.set(d,1)):he.set(d,E+1)}}};a(Un(Sn)),ut.add(a);var u=void 0,p=mr(()=>{var c=n??t.appendChild(ln());return He(()=>{if(l){ht({});var f=x;f.c=l}s&&(r.$$events=s),u=e(c,r)||{},l&&_t()}),()=>{var h;for(var f of o){t.removeEventListener(f,Ne);var d=he.get(f);--d===0?(document.removeEventListener(f,Ne),he.delete(f)):he.set(f,d)}ut.delete(a),c!==n&&((h=c.parentNode)==null||h.removeChild(c))}});return Jr.set(u,p),u}let Jr=new WeakMap;function ct(e,t,[n,r]=[0,0]){var s=e,l=null,i=null,o=q,a=n>0?ze:0,u=!1;const p=(f,d=!0)=>{u=!0,c(d,f)},c=(f,d)=>{o!==(o=f)&&(o?(l?Rt(l):d&&(l=He(()=>d(s))),i&&Ue(i,()=>{i=null})):(i?Rt(i):d&&(i=He(()=>d(s,[n+1,r]))),l&&Ue(l,()=>{l=null})))};yt(()=>{u=!1,t(p),u||c(null,null)},a)}function Mt(e,t,n){var r=e,s,l;yt(()=>{s!==(s=t())&&(l&&(Ue(l),l=null),s&&(l=He(()=>n(r,s))))},ze)}function Ct(e,t){return e===t||(e==null?void 0:e[se])===t}function Kr(e={},t,n,r){return mt(()=>{var s,l;return Ge(()=>{s=l,l=[],ce(()=>{e!==n(...l)&&(t(e,...l),s&&Ct(n(...s),e)&&t(null,...s))})}),()=>{hn(()=>{l&&Ct(n(...l),e)&&t(null,...l)})}}),e}function zr(e=!1){const t=x,n=t.l.u;if(!n)return;let r=()=>xn(t.s);if(e){let s=0,l={};const i=Ce(()=>{let o=!1;const a=t.s;for(const u in a)a[u]!==l[u]&&(l[u]=a[u],o=!0);return o&&s++,s});r=()=>v(i)}n.b.length&&br(()=>{Dt(t,r),Ie(n.b)}),ot(()=>{const s=ce(()=>n.m.map(zn));return()=>{for(const l of s)typeof l=="function"&&l()}}),n.a.length&&ot(()=>{Dt(t,r),Ie(n.a)})}function Dt(e,t){if(e.l.s)for(const n of e.l.s)v(n);t()}function Ft(e,t){var l;var n=(l=e.$$events)==null?void 0:l[t.type],r=Je(n)?n.slice():n==null?[]:[n];for(var s of r)s.call(this,t)}function Vr(e,t,n){if(e==null)return t(void 0),n&&n(void 0),be;const r=ce(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const _e=[];function kn(e,t){return{subscribe:Nn(e,t).subscribe}}function Nn(e,t=be){let n=null;const r=new Set;function s(o){if(Gt(e,o)&&(e=o,n)){const a=!_e.length;for(const u of r)u[1](),_e.push(u,e);if(a){for(let u=0;u<_e.length;u+=2)_e[u][0](_e[u+1]);_e.length=0}}}function l(o){s(o(e))}function i(o,a=be){const u=[o,a];return r.add(u),r.size===1&&(n=t(s,l)||be),o(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:s,update:l,subscribe:i}}function On(e,t,n){const r=!Array.isArray(e),s=r?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=t.length<2;return kn(n,(i,o)=>{let a=!1;const u=[];let p=0,c=be;const f=()=>{if(p)return;c();const h=t(r?u[0]:u,i,o);l?i(h):c=typeof h=="function"?h:be},d=s.map((h,E)=>Vr(h,T=>{u[E]=T,p&=~(1<<E),a&&f()},()=>{p|=1<<E}));return a=!0,f(),function(){Ie(d),c(),a=!1}})}let je=!1;function Wr(e){var t=je;try{return je=!1,[e(),je]}finally{je=t}}const Gr={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(ke(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let s=e.props[r];ke(s)&&(s=s());const l=re(s,t);if(l&&l.set)return l.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(ke(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const s=re(r,t);return s&&!s.configurable&&(s.configurable=!0),s}}},has(e,t){if(t===se||t===zt)return!1;for(let n of e.props)if(ke(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(ke(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function Lt(...e){return new Proxy({props:e},Gr)}function Zr(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function st(e,t,n,r){var D;var s=!we||(n&ir)!==0,l=(n&ur)!==0,i=(n&fr)!==0,o=r,a=!0,u=()=>(a&&(a=!1,o=i?ce(r):r),o),p;if(l){var c=se in e||zt in e;p=((D=re(e,t))==null?void 0:D.set)??(c&&t in e?k=>e[t]=k:void 0)}var f,d=!1;l?[f,d]=Wr(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=u(),p&&(s&&er(),p(f)));var h;if(s?h=()=>{var k=e[t];return k===void 0?u():(a=!0,k)}:h=()=>{var k=e[t];return k!==void 0&&(o=void 0),k===void 0?o:k},s&&(n&ar)===0)return h;if(p){var E=e.$$legacy;return function(k,A){return arguments.length>0?((!s||!A||E||d)&&p(A?h():k),k):h()}}var T=((n&or)!==0?Ce:vr)(h);return l&&v(T),function(k,A){if(arguments.length>0){const de=A?v(T):s&&l?ge(k):k;return g(T,de),o!==void 0&&(o=de),k}return Zr(T)?T.v:v(T)}}function Pn(e){x===null&&Ve(),we&&x.l!==null?In(x).m.push(e):ot(()=>{const t=ce(e);if(typeof t=="function")return t})}function Xr(e){x===null&&Ve(),Pn(()=>()=>ce(e))}function Qr(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function es(){const e=x;return e===null&&Ve(),(t,n,r)=>{var l;const s=(l=e.s.$$events)==null?void 0:l[t];if(s){const i=Je(s)?s.slice():[s],o=Qr(t,n,r);for(const a of i)a.call(e.x,o);return!o.defaultPrevented}return!0}}function ts(e){x===null&&Ve(),x.l===null&&Qn(),In(x).a.push(e)}function In(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const ns="5";var Ut;typeof window<"u"&&((Ut=window.__svelte??(window.__svelte={})).v??(Ut.v=new Set)).add(ns);lr();function rs(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,l,i=[],o="",a=e.split("/");for(a[0]||a.shift();s=a.shift();)n=s[0],n==="*"?(i.push("wild"),o+="/(.*)"):n===":"?(r=s.indexOf("?",1),l=s.indexOf(".",1),i.push(s.substring(1,~r?r:~l?l:s.length)),o+=~r&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(o+=(~r?"?":"")+"\\"+s.substring(l))):o+="/"+s;return{keys:i,pattern:new RegExp("^"+o+"/?$","i")}}function jt(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const Et=kn(null,function(t){t(jt());const n=()=>{t(jt())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});On(Et,e=>e.location);On(Et,e=>e.querystring);const qt=Nn(void 0);function ss(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function ls(e,t){ht(t,!1);let n=st(t,"routes",24,()=>({})),r=st(t,"prefix",8,""),s=st(t,"restoreScrollState",8,!1);class l{constructor(_,b){if(!b||typeof b!="function"&&(typeof b!="object"||b._sveltesparouter!==!0))throw Error("Invalid component object");if(!_||typeof _=="string"&&(_.length<1||_.charAt(0)!="/"&&_.charAt(0)!="*")||typeof _=="object"&&!(_ instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:M,keys:P}=rs(_);this.path=_,typeof b=="object"&&b._sveltesparouter===!0?(this.component=b.component,this.conditions=b.conditions||[],this.userData=b.userData,this.props=b.props||{}):(this.component=()=>Promise.resolve(b),this.conditions=[],this.props={}),this._pattern=M,this._keys=P}match(_){if(r()){if(typeof r()=="string")if(_.startsWith(r()))_=_.substr(r().length)||"/";else return null;else if(r()instanceof RegExp){const F=_.match(r());if(F&&F[0])_=_.substr(F[0].length)||"/";else return null}}const b=this._pattern.exec(_);if(b===null)return null;if(this._keys===!1)return b;const M={};let P=0;for(;P<this._keys.length;){try{M[this._keys[P]]=decodeURIComponent(b[P+1]||"")||null}catch{M[this._keys[P]]=null}P++}return M}async checkConditions(_){for(let b=0;b<this.conditions.length;b++)if(!await this.conditions[b](_))return!1;return!0}}const i=[];n()instanceof Map?n().forEach((S,_)=>{i.push(new l(_,S))}):Object.keys(n()).forEach(S=>{i.push(new l(S,n()[S]))});let o=nt(null),a=nt(null),u=nt({});const p=es();async function c(S,_){await Cr(),p(S,_)}let f=null,d=null;s()&&(d=S=>{S.state&&(S.state.__svelte_spa_router_scrollY||S.state.__svelte_spa_router_scrollX)?f=S.state:f=null},window.addEventListener("popstate",d),ts(()=>{ss(f)}));let h=null,E=null;const T=Et.subscribe(async S=>{h=S;let _=0;for(;_<i.length;){const b=i[_].match(S.location);if(!b){_++;continue}const M={route:i[_].path,location:S.location,querystring:S.querystring,userData:i[_].userData,params:b&&typeof b=="object"&&Object.keys(b).length?b:null};if(!await i[_].checkConditions(M)){g(o,null),E=null,c("conditionsFailed",M);return}c("routeLoading",Object.assign({},M));const P=i[_].component;if(E!=P){P.loading?(g(o,P.loading),E=P,g(a,P.loadingParams),g(u,{}),c("routeLoaded",Object.assign({},M,{component:v(o),name:v(o).name,params:v(a)}))):(g(o,null),E=null);const F=await P();if(S!=h)return;g(o,F&&F.default||F),E=P}b&&typeof b=="object"&&Object.keys(b).length?g(a,b):g(a,null),g(u,i[_].props),c("routeLoaded",Object.assign({},M,{component:v(o),name:v(o).name,params:v(a)})).then(()=>{qt.set(v(a))});return}g(o,null),E=null,qt.set(void 0)});Xr(()=>{T(),d&&window.removeEventListener("popstate",d)}),yr(()=>xn(s()),()=>{history.scrollRestoration=s()?"manual":"auto"}),wr(),zr();var D=rt(),k=Oe(D);{var A=S=>{var _=rt(),b=Oe(_);Mt(b,()=>v(o),(M,P)=>{P(M,Lt({get params(){return v(a)}},()=>v(u),{$$events:{routeEvent(F){Ft.call(this,t,F)}}}))}),le(S,_)},de=S=>{var _=rt(),b=Oe(_);Mt(b,()=>v(o),(M,P)=>{P(M,Lt(()=>v(u),{$$events:{routeEvent(F){Ft.call(this,t,F)}}}))}),le(S,_)};ct(k,S=>{v(a)?S(A):S(de,!1)})}le(e,D),_t()}class U{constructor(t,n){ae(this,"base");ae(this,"exponent");if(t===0)this.base=0,this.exponent=0;else{const r=Math.floor(Math.log10(Math.abs(t))),s=t/Math.pow(10,r);this.base=s,this.exponent=n+r}}static fromNumber(t){if(t===0)return new U(0,0);const n=Math.floor(Math.log10(Math.abs(t))),r=t/Math.pow(10,n);return new U(r,n)}toNumber(){return this.base*Math.pow(10,this.exponent)}add(t){const n=this.toNumber(),r=t.toNumber();return U.fromNumber(n+r)}sub(t){const n=this.toNumber(),r=t.toNumber();return U.fromNumber(n-r)}mul(t){const n=this.base*t.base,r=this.exponent+t.exponent;return new U(n,r)}div(t){const n=this.base/t.base,r=this.exponent-t.exponent;return new U(n,r)}exp(t){const n=Math.pow(this.base,t.base*Math.pow(10,t.exponent)),r=Math.pow(10,this.exponent*t.base*Math.pow(10,t.exponent));return new U(n,r)}ln(){const t=Math.log(this.base)+this.exponent*Math.log(10);return new U(t,0)}sqrt(){const t=Math.sqrt(this.base),n=this.exponent%2===0,r=this.exponent/2;return n?new U(t,r):new U(t*Math.sqrt(10),Math.floor(r))}toString(){return`${this.base}e${this.exponent}`}roundFloat(t,n){return t.toFixed(n).toString().replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,"")}toRoundedString(t=6){return this.exponent+1>t?`${this.roundFloat(this.base,t)}e${this.exponent}`:this.roundFloat(this.toNumber(),t)}}const Bt={H:1.008,He:4.0026022,Li:6.94,Be:9.01218315,B:10.81,C:12.011,N:14.007,O:15.999,F:18.9984031636,Ne:20.17976,Na:22.989769282,Mg:24.305,Al:26.98153857,Si:28.085,P:30.9737619985,S:32.06,Cl:35.45,Ar:39.9481,K:39.09831,Ca:40.0784,Sc:44.9559085,Ti:47.8671,V:50.94151,Cr:51.99616,Mn:54.9380443,Fe:55.8452,Co:58.9331944,Ni:58.69344,Cu:63.5463,Zn:65.382,Ga:69.7231,Ge:72.6308,As:74.9215956,Se:78.9718,Br:79.904,Kr:83.7982,Rb:85.46783,Sr:87.621,Y:88.905842,Zr:91.2242,Nb:92.906372,Mo:95.951,Tc:98,Ru:101.072,Rh:102.905502,Pd:106.421,Ag:107.86822,Cd:112.4144,In:114.8181,Sn:118.7107,Sb:121.7601,Te:127.603,I:126.904473,Xe:131.2936,Cs:132.905451966,Ba:137.3277,La:138.905477,Ce:140.1161,Pr:140.907662,Nd:144.2423,Pm:145,Sm:150.362,Eu:151.9641,Gd:157.253,Tb:158.925352,Dy:162.5001,Ho:164.930332,Er:167.2593,Tm:168.934222,Yb:173.0451,Lu:174.96681,Hf:178.492,Ta:180.947882,W:183.841,Re:186.2071,Os:190.233,Ir:192.2173,Pt:195.0849,Au:196.9665695,Hg:200.5923,Tl:204.38,Pb:207.21,Bi:208.980401,Po:209,At:210,Rn:222,Fr:223,Ra:226,Ac:227,Th:232.03774,Pa:231.035882,U:238.028913,Np:237,Pu:244,Am:243,Cm:247,Bk:247,Cf:251,Es:252,Fm:257,Md:258,No:259,Lr:266,Rf:267,Db:268,Sg:269,Bh:270,Hs:269,Mt:278,Ds:281,Rg:282,Cn:285,Nh:286,Fl:289,Mc:289,Lv:293,Ts:294,Og:294,Uue:315};function os(e){e=e.replace(/\s+/g,"");const t=/([A-Z][a-z]?)(\d*)/g;function n(l){let i=0;const o=l.matchAll(t);for(const a of o){const u=a[1],p=a[2]?parseInt(a[2],10):1;if(!(u in Bt))throw new Error(`Invalid element symbol: ${u}`);i+=Bt[u]*p}return i}const r=[];let s=0;for(;s<e.length;){const l=e[s];if(l==="(")r.push("");else if(l===")"){if(!r.length)throw new Error("Unmatched parenthesis in formula");let i=r.pop();s++;let o="";for(;s<e.length&&/\d/.test(e[s]);)o+=e[s],s++;const a=o?parseInt(o,10):1;i=i.repeat(a),r.length?r[r.length-1]+=i:r.push(i);continue}else r.length?r[r.length-1]+=l:r.push(l);s++}return r.length?n(r.join("")):0}class is{constructor(t=null){ae(this,"functions",{});ae(this,"ans");this.functions.sqrt=([n])=>n.sqrt(),this.functions.ln=([n])=>n.ln(),this.ans=t}evaluate(t){const n=this.tokenize(t),r=this.toRPN(n);return this.evalRPN(r)}tokenize(t){const n=/M\([^()]*\)|\d+\.?\d*(?:[eE][+-]?\d+)?|\.\d+(?:[eE][+-]?\d+)?|Ans|[()+\-*/^]|\w+/g;return t.match(n)??[]}toRPN(t){const n={"+":1,"-":1,"*":2,"/":2,"^":3},r=[],s=[];for(const l of t)if(!isNaN(Number(l)))r.push(l);else if(this.functions[l])s.push(l);else if(l==="(")s.push(l);else if(l===")"){for(;s.length&&s[s.length-1]!=="(";)r.push(s.pop());s.pop(),s.length&&this.functions[s[s.length-1]]&&r.push(s.pop())}else if(["+","-","*","/","^"].includes(l)){for(;s.length&&n[s[s.length-1]]>=n[l];)r.push(s.pop());s.push(l)}else if(l.startsWith("M(")&&l.endsWith(")")){const i=l.match(/^M\(([^()]*)\)$/);if(i){const o=i[1];r.push(os(o).toString())}else throw new Error(`Invalid M(...) expression: ${l}`)}else l==="Ans"&&r.push((this.ans??0).toString());for(;s.length;)r.push(s.pop());return r}evalRPN(t){const n=[];for(const r of t)if(!isNaN(Number(r)))n.push(U.fromNumber(Number(r)));else if(["+","-","*","/","^"].includes(r)){const s=n.pop(),l=n.pop();switch(r){case"+":n.push(l.add(s));break;case"-":n.push(l.sub(s));break;case"*":n.push(l.mul(s));break;case"/":n.push(l.div(s));break;case"^":n.push(l.exp(s));break}}else if(this.functions[r]){const s=[n.pop()];n.push(this.functions[r](s))}else throw new Error(`Unknown token: ${r}`);return n[0]}}const Ht={1:"1",2:"2",3:"3",q:"4",w:"5",e:"6",a:"7",s:"8",d:"9",c:"0",x:".",z:"e",Alt:"Ans",4:"+",r:"-",f:"*",v:"/",5:"^",t:"sqrt(",g:"ln(",b:"M(",Shift:"Enter",Space:"()",Backtick:"Backspace"};var as=(e,t)=>{g(t,!v(t))},us=Fe('<div class="flex flex-col items-end gap-4 w-1/2 p-2"><button class="text-gray-500 hover:cursor-pointer"> </button> <button class="font-bold hover:cursor-pointer"> </button></div> <textarea id="textarea" class="w-1/2 h-auto resize-none overflow-hidden whitespace-nowrap border-2 rounded p-2 font-mono" rows="1"></textarea> <p class="text-red-700 font-bold"> </p>',1),fs=Fe('<div class="flex gap-4"><button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Use one-handed preset</button> <button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Clear keybinds</button></div> <div class="flex gap-4"><button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Import data from file</button> <button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Export data to file</button></div> <div class="flex gap-4"><button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Clear history</button></div>',1),cs=Fe('<main><button class="absolute text-[0.5rem] m-2 p-2 border-2 inline-block rounded font-bold hover:cursor-pointer"> </button> <div class="flex flex-col justify-center items-center h-screen gap-4"><!> <!></div></main>');function ds(e,t){ht(t,!0);const n=["+","-","*","/","^"];let r,s={},l=[],i=[],o,a=B(6),u=B(0),p=tt(()=>l[v(u)]),c=tt(()=>U.fromNumber(i[v(u)]??0)),f=B(0),d=B(0),h=!1,E=B(!1),T=tt(()=>v(E)?"Back":"Settings"),D=B("");function k(){s=JSON.parse(localStorage.getItem("keybinds")??"{}"),l=JSON.parse(localStorage.getItem("exprHistory")??"[]"),i=JSON.parse(localStorage.getItem("ansHistory")??"[]"),o=parseInt(localStorage.getItem("maxHistoryLen")??"50"),g(a,parseInt(localStorage.getItem("maxDigits")??"6"),!0),g(u,i.length-1)}Pn(()=>{k()});function A(){r.value="",g(f,0),g(d,0),h=!1,g(D,"")}function de(y){y.deltaY<0?S():y.deltaY>0&&_()}function S(){v(u)>0&&(pe(u,-1),r.value=l[v(u)],g(f,r.value.split("(").length-1),g(d,r.value.split(")").length-1),h=!1)}function _(){v(u)<i.length-1&&(pe(u),r.value=l[v(u)],g(f,r.value.split("(").length-1),g(d,r.value.split(")").length-1),h=!1)}function b(y){let L=y.key;y.key===" "?L="Space":y.key==="`"&&(L="Backtick");const j=L in s;let m=s[L]??y.key;if(console.log(m),m==="Escape"){y.preventDefault(),A();return}if(m==="Backspace"){y.preventDefault();const O=r.selectionStart;if(O>0){const I=r.value,z=r.value[O-1];console.log(z),r.value=I.slice(0,O-1)+I.slice(O),r.selectionStart=r.selectionEnd=O-1,z==="("?pe(f,-1):z===")"&&pe(d,-1)}return}if(m==="ArrowUp"){S();return}if(m==="ArrowDown"){_();return}if(m==="Enter"){y.preventDefault();try{for(;v(f)>v(d);)r.value+=")",pe(d);const O=new is(v(c));g(c,O.evaluate(r.value),!0),g(p,r.value,!0),A(),i.push(v(c).toNumber()),l.push(v(p)),i.length>=o?(i.shift(),l.shift()):pe(u),localStorage.setItem("exprHistory",JSON.stringify(l)),localStorage.setItem("ansHistory",JSON.stringify(i))}catch{g(D,"syntax error")}return}if(m==="()"&&(h?(h=!1,m=")"):n.includes(r.value[r.value.length-1])?m="(":v(f)>v(d)?m=")":v(f)===v(d)?m="(":m=" "),!h&&(g(f,v(f)+(m.split("(").length-1)),g(d,v(d)+(m.split(")").length-1)),m==="M("&&(h=!0),j)){y.preventDefault();const{selectionStart:O,selectionEnd:I,value:z}=r,X=z.slice(0,O),Se=z.slice(I),ve=X.length+m.length;r.value=X+m+Se,r.setSelectionRange(ve,ve)}}function M(y){r.value=v(p)}function P(){r.value=v(c)?v(c).toRoundedString():""}function F(){const y={};for(let O=0;O<localStorage.length;O++){const I=localStorage.key(O);I&&(["keybinds","exprHistory","ansHistory"].includes(I),y[I]=JSON.parse(localStorage.getItem(I)??"{}"))}const L=JSON.stringify(y,null,2),j=new Blob([L],{type:"application/json"}),m=document.createElement("a");m.href=URL.createObjectURL(j),m.download="qalc_data.json",document.body.appendChild(m),m.click(),document.body.removeChild(m)}function Tn(){localStorage.setItem("keybinds","{}"),s={},alert("Cleared keybinds!")}function Rn(){localStorage.setItem("keybinds",JSON.stringify(Ht)),s=Ht,alert("Set default one-handed keybinds!")}function An(){const y=document.createElement("input");y.type="file",y.accept=".json",y.onchange=()=>{if(!y.files||y.files.length===0)return alert("No file selected");const L=y.files[0],j=new FileReader;j.onload=()=>{try{const m=JSON.parse(j.result);for(const[O,I]of Object.entries(m))["keybinds","exprHistory","ansHistory"].includes(O)?(localStorage.setItem(O,JSON.stringify(I)),m[O]=JSON.parse(localStorage.getItem(O)??"{}")):localStorage.setItem(O,I);k(),alert("Updated your settings!")}catch{alert("Invalid JSON file")}},j.onerror=()=>{alert("Failed to read file")},j.readAsText(L)},y.click()}function Mn(){i=[],l=[],g(u,0),localStorage.setItem("ansHistory","[]"),localStorage.setItem("exprHistory","[]"),alert("Cleared history!")}var xt=cs(),Xe=V(xt);Xe.__click=[as,E];var Cn=V(Xe),Dn=Q(Xe,2),St=V(Dn);{var Fn=y=>{var L=us(),j=Oe(L),m=V(j);m.__click=M;var O=V(m),I=Q(m,2);I.__click=P;var z=V(I),X=Q(j,2);X.__keydown=b,Kr(X,Qe=>r=Qe,()=>r);var Se=Q(X,2),ve=V(Se);Tt(Qe=>{Le(O,v(p)),Le(z,`= ${Qe??""}`),Le(ve,v(D))},[()=>v(c).toRoundedString(v(a))]),Br("wheel",X,de),le(y,L)};ct(St,y=>{v(E)||y(Fn)})}var Ln=Q(St,2);{var jn=y=>{var L=fs(),j=Oe(L),m=V(j);m.__click=Rn;var O=Q(m,2);O.__click=Tn;var I=Q(j,2),z=V(I);z.__click=An;var X=Q(z,2);X.__click=F;var Se=Q(I,2),ve=V(Se);ve.__click=Mn,le(y,L)};ct(Ln,y=>{v(E)&&y(jn)})}Tt(()=>Le(Cn,v(T))),le(e,xt),_t()}Hr(["click","keydown"]);var vs=Fe('<main><p class="text-red-500 font-bold">Page Not Found!</p></main>');function ps(e){var t=vs();le(e,t)}var hs=Fe("<main><!></main>");function _s(e){const t={"/":ds,"*":ps};var n=hs(),r=V(n);ls(r,{get routes(){return t}}),le(e,n)}$r(_s,{target:document.getElementById("app")});

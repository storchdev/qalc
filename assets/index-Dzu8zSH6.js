var Jn=Object.defineProperty;var Vn=(e,t,n)=>t in e?Jn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ue=(e,t,n)=>Vn(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();const Tt=!1;var Je=Array.isArray,zn=Array.prototype.indexOf,Wn=Array.from,Gn=Object.defineProperty,re=Object.getOwnPropertyDescriptor,Zn=Object.getOwnPropertyDescriptors,Xn=Object.prototype,Qn=Array.prototype,Vt=Object.getPrototypeOf,It=Object.isExtensible;function Se(e){return typeof e=="function"}const be=()=>{};function er(e){return e()}function Ie(e){for(var t=0;t<e.length;t++)e[t]()}const V=2,zt=4,Ve=8,ct=16,te=32,me=64,dt=128,K=256,Be=512,Y=1024,ee=2048,ie=4096,ye=8192,vt=16384,Wt=32768,ze=65536,Mt=1<<17,tr=1<<18,Gt=1<<19,st=1<<20,se=Symbol("$state"),Zt=Symbol("legacy props"),Xt=new class extends Error{constructor(){super(...arguments);ue(this,"name","StaleReactionError");ue(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Qt(e){return e===this.v}function en(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function tn(e){return!en(e,this.v)}function nr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function rr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function sr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function lr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function or(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function ir(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ar(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ur(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function fr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let we=!1,cr=!1;function dr(){we=!0}const vr=1,pr=2,hr=4,_r=8,gr=16,br=1,yr=2,B=Symbol();function We(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let E=null;function Rt(e){E=e}function pt(e,t=!1,n){var r=E={p:E,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};we&&!t&&(E.l={s:null,u:null,r1:[],r2:_t(!1)}),dn(()=>{r.d=!0})}function ht(e){const t=E;if(t!==null){const a=t.e;if(a!==null){var n=N,r=w;t.e=null;try{for(var s=0;s<a.length;s++){var l=a[s];oe(l.effect),X(l.reaction),bt(l.fn)}}finally{oe(n),X(r)}}E=t.p,t.m=!0}return{}}function Ge(){return!we||E!==null&&E.l===null}function ge(e){if(typeof e!="object"||e===null||se in e)return e;const t=Vt(e);if(t!==Xn&&t!==Qn)return e;var n=new Map,r=Je(e),s=D(0),l=w,a=i=>{var o=w;X(l);var u=i();return X(o),u};return r&&n.set("length",D(e.length)),new Proxy(e,{defineProperty(i,o,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ar();var p=n.get(o);return p===void 0?p=a(()=>{var c=D(u.value);return n.set(o,c),c}):g(p,u.value,!0),!0},deleteProperty(i,o){var u=n.get(o);if(u===void 0){if(o in i){const f=a(()=>D(B));n.set(o,f),et(s)}}else{if(r&&typeof o=="string"){var p=n.get("length"),c=Number(o);Number.isInteger(c)&&c<p.v&&g(p,c)}g(u,B),et(s)}return!0},get(i,o,u){var v;if(o===se)return e;var p=n.get(o),c=o in i;if(p===void 0&&(!c||(v=re(i,o))!=null&&v.writable)&&(p=a(()=>{var h=ge(c?i[o]:B),x=D(h);return x}),n.set(o,p)),p!==void 0){var f=d(p);return f===B?void 0:f}return Reflect.get(i,o,u)},getOwnPropertyDescriptor(i,o){var u=Reflect.getOwnPropertyDescriptor(i,o);if(u&&"value"in u){var p=n.get(o);p&&(u.value=d(p))}else if(u===void 0){var c=n.get(o),f=c==null?void 0:c.v;if(c!==void 0&&f!==B)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(i,o){var f;if(o===se)return!0;var u=n.get(o),p=u!==void 0&&u.v!==B||Reflect.has(i,o);if(u!==void 0||N!==null&&(!p||(f=re(i,o))!=null&&f.writable)){u===void 0&&(u=a(()=>{var v=p?ge(i[o]):B,h=D(v);return h}),n.set(o,u));var c=d(u);if(c===B)return!1}return p},set(i,o,u,p){var M;var c=n.get(o),f=o in i;if(r&&o==="length")for(var v=u;v<c.v;v+=1){var h=n.get(v+"");h!==void 0?g(h,B):v in i&&(h=a(()=>D(B)),n.set(v+"",h))}if(c===void 0)(!f||(M=re(i,o))!=null&&M.writable)&&(c=a(()=>D(void 0)),g(c,ge(u)),n.set(o,c));else{f=c.v!==B;var x=a(()=>ge(u));g(c,x)}var I=Reflect.getOwnPropertyDescriptor(i,o);if(I!=null&&I.set&&I.set.call(p,u),!f){if(r&&typeof o=="string"){var C=n.get("length"),S=Number(o);Number.isInteger(S)&&S>=C.v&&g(C,S+1)}et(s)}return!0},ownKeys(i){d(s);var o=Reflect.ownKeys(i).filter(c=>{var f=n.get(c);return f===void 0||f.v!==B});for(var[u,p]of n)p.v!==B&&!(u in i)&&o.push(u);return o},setPrototypeOf(){ur()}})}function et(e,t=1){g(e,e.v+t)}function De(e){var t=V|ee,n=w!==null&&(w.f&V)!==0?w:null;return N===null||n!==null&&(n.f&K)!==0?t|=K:N.f|=Gt,{ctx:E,deps:null,effects:null,equals:Qt,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??N,ac:null}}function je(e){const t=De(e);return wn(t),t}function mr(e){const t=De(e);return t.equals=tn,t}function nn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ce(t[n])}}function wr(e){for(var t=e.parent;t!==null;){if((t.f&V)===0)return t;t=t.parent}return null}function rn(e){var t,n=N;oe(wr(e));try{nn(e),t=Sn(e)}finally{oe(n)}return t}function sn(e){var t=rn(e);if(e.equals(t)||(e.v=t,e.wv=En()),!Ee){var n=(ne||(e.f&K)!==0)&&e.deps!==null?ie:Y;z(e,n)}}const Me=new Map;function _t(e,t){var n={f:0,v:e,reactions:null,equals:Qt,rv:0,wv:0};return n}function D(e,t){const n=_t(e);return wn(n),n}function tt(e,t=!1,n=!0){var s;const r=_t(e);return t||(r.equals=tn),we&&n&&E!==null&&E.l!==null&&((s=E.l).s??(s.s=[])).push(r),r}function g(e,t,n=!1){w!==null&&(!Z||(w.f&Mt)!==0)&&Ge()&&(w.f&(V|ct|Mt))!==0&&!(A!=null&&A[1].includes(e)&&A[0]===w)&&fr();let r=n?ge(t):t;return xr(e,r)}function xr(e,t){if(!e.equals(t)){var n=e.v;Ee?Me.set(e,t):Me.set(e,n),e.v=t,(e.f&V)!==0&&((e.f&ee)!==0&&rn(e),z(e,(e.f&K)===0?Y:ie)),e.wv=En(),ln(e,ee),Ge()&&N!==null&&(N.f&Y)!==0&&(N.f&(te|me))===0&&(J===null?Dr([e]):J.push(e))}return t}function pe(e,t=1){var n=d(e),r=t===1?n++:n--;return g(e,n),r}function ln(e,t){var n=e.reactions;if(n!==null)for(var r=Ge(),s=n.length,l=0;l<s;l++){var a=n[l],i=a.f;(i&ee)===0&&(!r&&a===N||(z(a,t),(i&(Y|K))!==0&&((i&V)!==0?ln(a,ie):mt(a))))}}var At,on,an,un;function Er(){if(At===void 0){At=window,on=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;an=re(t,"firstChild").get,un=re(t,"nextSibling").get,It(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),It(n)&&(n.__t=void 0)}}function fn(e=""){return document.createTextNode(e)}function He(e){return an.call(e)}function gt(e){return un.call(e)}function H(e,t){return He(e)}function Pe(e,t){{var n=He(e);return n instanceof Comment&&n.data===""?gt(n):n}}function G(e,t=1,n=!1){let r=e;for(;t--;)r=gt(r);return r}function cn(e){N===null&&w===null&&sr(),w!==null&&(w.f&K)!==0&&N===null&&rr(),Ee&&nr()}function kr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function xe(e,t,n,r=!0){var s=N,l={ctx:E,deps:null,nodes_start:null,nodes_end:null,f:e|ee,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Xe(l),l.f|=Wt}catch(o){throw ce(l),o}else t!==null&&mt(l);var a=n&&l.deps===null&&l.first===null&&l.nodes_start===null&&l.teardown===null&&(l.f&(Gt|dt))===0;if(!a&&r&&(s!==null&&kr(l,s),w!==null&&(w.f&V)!==0)){var i=w;(i.effects??(i.effects=[])).push(l)}return l}function dn(e){const t=xe(Ve,null,!1);return z(t,Y),t.teardown=e,t}function lt(e){cn();var t=N!==null&&(N.f&te)!==0&&E!==null&&!E.m;if(t){var n=E;(n.e??(n.e=[])).push({fn:e,effect:N,reaction:w})}else{var r=bt(e);return r}}function Sr(e){return cn(),Ze(e)}function Nr(e){const t=xe(me,e,!0);return(n={})=>new Promise(r=>{n.outro?$e(t,()=>{ce(t),r(void 0)}):(ce(t),r(void 0))})}function bt(e){return xe(zt,e,!1)}function Or(e,t){var n=E,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=Ze(()=>{e(),!r.ran&&(r.ran=!0,g(n.l.r2,!0),de(t))})}function Pr(){var e=E;Ze(()=>{if(d(e.l.r2)){for(var t of e.l.r1){var n=t.effect;(n.f&Y)!==0&&z(n,ie),Fe(n)&&Xe(n),t.ran=!1}e.l.r2.v=!1}})}function Ze(e){return xe(Ve,e,!0)}function Ct(e,t=[],n=De){const r=t.map(n);return yt(()=>e(...r.map(d)))}function yt(e,t=0){var n=xe(Ve|ct|t,e,!0);return n}function Ue(e,t=!0){return xe(Ve|te,e,!0,t)}function vn(e){var t=e.teardown;if(t!==null){const n=Ee,r=w;Ft(!0),X(null);try{t.call(null)}finally{Ft(n),X(r)}}}function pn(e,t=!1){var s;var n=e.first;for(e.first=e.last=null;n!==null;){(s=n.ac)==null||s.abort(Xt);var r=n.next;(n.f&me)!==0?n.parent=null:ce(n,t),n=r}}function Tr(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&te)===0&&ce(t),t=n}}function ce(e,t=!0){var n=!1;(t||(e.f&tr)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ir(e.nodes_start,e.nodes_end),n=!0),pn(e,t&&!n),Ye(e,0),z(e,vt);var r=e.transitions;if(r!==null)for(const l of r)l.stop();vn(e);var s=e.parent;s!==null&&s.first!==null&&hn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Ir(e,t){for(;e!==null;){var n=e===t?null:gt(e);e.remove(),e=n}}function hn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function $e(e,t){var n=[];_n(e,n,!0),Mr(n,()=>{ce(e),t&&t()})}function Mr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function _n(e,t,n){if((e.f&ye)===0){if(e.f^=ye,e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&t.push(a);for(var r=e.first;r!==null;){var s=r.next,l=(r.f&ze)!==0||(r.f&te)!==0;_n(r,t,l?n:!1),r=s}}}function Dt(e){gn(e,!0)}function gn(e,t){if((e.f&ye)!==0){e.f^=ye;for(var n=e.first;n!==null;){var r=n.next,s=(n.f&ze)!==0||(n.f&te)!==0;gn(n,s?t:!1),n=r}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let Re=[],ot=[];function bn(){var e=Re;Re=[],Ie(e)}function Rr(){var e=ot;ot=[],Ie(e)}function yn(e){Re.length===0&&queueMicrotask(bn),Re.push(e)}function Ar(){Re.length>0&&bn(),ot.length>0&&Rr()}function Cr(e){var t=N;if((t.f&Wt)===0){if((t.f&dt)===0)throw e;t.fn(e)}else mn(e,t)}function mn(e,t){for(;t!==null;){if((t.f&dt)!==0)try{t.b.error(e);return}catch{}t=t.parent}throw e}let Ae=!1,Ce=null,fe=!1,Ee=!1;function Ft(e){Ee=e}let Te=[];let w=null,Z=!1;function X(e){w=e}let N=null;function oe(e){N=e}let A=null;function wn(e){w!==null&&w.f&st&&(A===null?A=[w,[e]]:A[1].push(e))}let F=null,$=0,J=null;function Dr(e){J=e}let xn=1,Ke=0,ne=!1;function En(){return++xn}function Fe(e){var c;var t=e.f;if((t&ee)!==0)return!0;if((t&ie)!==0){var n=e.deps,r=(t&K)!==0;if(n!==null){var s,l,a=(t&Be)!==0,i=r&&N!==null&&!ne,o=n.length;if(a||i){var u=e,p=u.parent;for(s=0;s<o;s++)l=n[s],(a||!((c=l==null?void 0:l.reactions)!=null&&c.includes(u)))&&(l.reactions??(l.reactions=[])).push(u);a&&(u.f^=Be),i&&p!==null&&(p.f&K)===0&&(u.f^=K)}for(s=0;s<o;s++)if(l=n[s],Fe(l)&&sn(l),l.wv>e.wv)return!0}(!r||N!==null&&!ne)&&z(e,Y)}return!1}function kn(e,t,n=!0){var r=e.reactions;if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];A!=null&&A[1].includes(e)&&A[0]===w||((l.f&V)!==0?kn(l,t,!1):t===l&&(n?z(l,ee):(l.f&Y)!==0&&z(l,ie),mt(l)))}}function Sn(e){var v;var t=F,n=$,r=J,s=w,l=ne,a=A,i=E,o=Z,u=e.f;F=null,$=0,J=null,ne=(u&K)!==0&&(Z||!fe||w===null),w=(u&(te|me))===0?e:null,A=null,Rt(e.ctx),Z=!1,Ke++,e.f|=st,e.ac!==null&&(e.ac.abort(Xt),e.ac=null);try{var p=(0,e.fn)(),c=e.deps;if(F!==null){var f;if(Ye(e,$),c!==null&&$>0)for(c.length=$+F.length,f=0;f<F.length;f++)c[$+f]=F[f];else e.deps=c=F;if(!ne||(u&V)!==0&&e.reactions!==null)for(f=$;f<c.length;f++)((v=c[f]).reactions??(v.reactions=[])).push(e)}else c!==null&&$<c.length&&(Ye(e,$),c.length=$);if(Ge()&&J!==null&&!Z&&c!==null&&(e.f&(V|ie|ee))===0)for(f=0;f<J.length;f++)kn(J[f],e);return s!==null&&s!==e&&(Ke++,J!==null&&(r===null?r=J:r.push(...J))),p}catch(h){Cr(h)}finally{F=t,$=n,J=r,w=s,ne=l,A=a,Rt(i),Z=o,e.f^=st}}function Fr(e,t){let n=t.reactions;if(n!==null){var r=zn.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&V)!==0&&(F===null||!F.includes(t))&&(z(t,ie),(t.f&(K|Be))===0&&(t.f^=Be),nn(t),Ye(t,0))}function Ye(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Fr(e,n[r])}function Xe(e){var t=e.f;if((t&vt)===0){z(e,Y);var n=N,r=fe;N=e,fe=!0;try{(t&ct)!==0?Tr(e):pn(e),vn(e);var s=Sn(e);e.teardown=typeof s=="function"?s:null,e.wv=xn;var l;Tt&&cr&&(e.f&ee)!==0&&e.deps}finally{fe=r,N=n}}}function Lr(){try{lr()}catch(e){if(Ce!==null)mn(e,Ce);else throw e}}function Nn(){var e=fe;try{var t=0;for(fe=!0;Te.length>0;){t++>1e3&&Lr();var n=Te,r=n.length;Te=[];for(var s=0;s<r;s++){var l=qr(n[s]);jr(l)}Me.clear()}}finally{Ae=!1,fe=e,Ce=null}}function jr(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];(r.f&(vt|ye))===0&&Fe(r)&&(Xe(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?hn(r):r.fn=null))}}function mt(e){Ae||(Ae=!0,queueMicrotask(Nn));for(var t=Ce=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(me|te))!==0){if((n&Y)===0)return;t.f^=Y}}Te.push(t)}function qr(e){for(var t=[],n=e;n!==null;){var r=n.f,s=(r&(te|me))!==0,l=s&&(r&Y)!==0;if(!l&&(r&ye)===0){(r&zt)!==0?t.push(n):s?n.f^=Y:Fe(n)&&Xe(n);var a=n.first;if(a!==null){n=a;continue}}var i=n.parent;for(n=n.next;n===null&&i!==null;)n=i.next,i=i.parent}return t}function Br(e){for(var t;;){if(Ar(),Te.length===0)return Ae=!1,Ce=null,t;Ae=!0,Nn()}}async function Hr(){await Promise.resolve(),Br()}function d(e){var t=e.f,n=(t&V)!==0;if(w!==null&&!Z){if(!(A!=null&&A[1].includes(e))||A[0]!==w){var r=w.deps;e.rv<Ke&&(e.rv=Ke,F===null&&r!==null&&r[$]===e?$++:F===null?F=[e]:(!ne||!F.includes(e))&&F.push(e))}}else if(n&&e.deps===null&&e.effects===null){var s=e,l=s.parent;l!==null&&(l.f&K)===0&&(s.f^=K)}return n&&(s=e,Fe(s)&&sn(s)),Ee&&Me.has(e)?Me.get(e):e.v}function de(e){var t=Z;try{return Z=!0,e()}finally{Z=t}}const Ur=-7169;function z(e,t){e.f=e.f&Ur|t}function On(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(se in e)it(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&se in n&&it(n)}}}function it(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{it(e[r],t)}catch{}const n=Vt(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Zn(n);for(let s in r){const l=r[s].get;if(l)try{l.call(e)}catch{}}}}}const $r=["touchstart","touchmove"];function Kr(e){return $r.includes(e)}function Yr(e){var t=w,n=N;X(null),oe(null);try{return e()}finally{X(t),oe(n)}}const Pn=new Set,at=new Set;function Jr(e,t,n,r={}){function s(l){if(r.capture||Oe.call(t,l),!l.cancelBubble)return Yr(()=>n==null?void 0:n.call(this,l))}return yn(()=>{t.addEventListener(e,s,r)}),s}function Vr(e,t,n,r,s){var l={capture:r,passive:s},a=Jr(e,t,n,l);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&dn(()=>{t.removeEventListener(e,a,l)})}function zr(e){for(var t=0;t<e.length;t++)Pn.add(e[t]);for(var n of at)n(e)}function Oe(e){var S;var t=this,n=t.ownerDocument,r=e.type,s=((S=e.composedPath)==null?void 0:S.call(e))||[],l=s[0]||e.target,a=0,i=e.__root;if(i){var o=s.indexOf(i);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;o<=u&&(a=o)}if(l=s[a]||e.target,l!==t){Gn(e,"currentTarget",{configurable:!0,get(){return l||n}});var p=w,c=N;X(null),oe(null);try{for(var f,v=[];l!==null;){var h=l.assignedSlot||l.parentNode||l.host||null;try{var x=l["__"+r];if(x!=null&&(!l.disabled||e.target===l))if(Je(x)){var[I,...C]=x;I.apply(l,[e,...C])}else x.call(l,e)}catch(M){f?v.push(M):f=M}if(e.cancelBubble||h===t||h===null)break;l=h}if(f){for(let M of v)queueMicrotask(()=>{throw M});throw f}}finally{e.__root=t,delete e.currentTarget,X(p),oe(c)}}}function Wr(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function ut(e,t){var n=N;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function Le(e,t){var n=(t&br)!==0,r=(t&yr)!==0,s,l=!e.startsWith("<!>");return()=>{s===void 0&&(s=Wr(l?e:"<!>"+e),n||(s=He(s)));var a=r||on?document.importNode(s,!0):s.cloneNode(!0);if(n){var i=He(a),o=a.lastChild;ut(i,o)}else ut(a,a);return a}}function nt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=fn();return e.append(t,n),ut(t,n),e}function le(e,t){e!==null&&e.before(t)}function Ne(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Gr(e,t){return Zr(e,t)}const he=new Map;function Zr(e,{target:t,anchor:n,props:r={},events:s,context:l,intro:a=!0}){Er();var i=new Set,o=c=>{for(var f=0;f<c.length;f++){var v=c[f];if(!i.has(v)){i.add(v);var h=Kr(v);t.addEventListener(v,Oe,{passive:h});var x=he.get(v);x===void 0?(document.addEventListener(v,Oe,{passive:h}),he.set(v,1)):he.set(v,x+1)}}};o(Wn(Pn)),at.add(o);var u=void 0,p=Nr(()=>{var c=n??t.appendChild(fn());return Ue(()=>{if(l){pt({});var f=E;f.c=l}s&&(r.$$events=s),u=e(c,r)||{},l&&ht()}),()=>{var h;for(var f of i){t.removeEventListener(f,Oe);var v=he.get(f);--v===0?(document.removeEventListener(f,Oe),he.delete(f)):he.set(f,v)}at.delete(o),c!==n&&((h=c.parentNode)==null||h.removeChild(c))}});return Xr.set(u,p),u}let Xr=new WeakMap;function ft(e,t,[n,r]=[0,0]){var s=e,l=null,a=null,i=B,o=n>0?ze:0,u=!1;const p=(f,v=!0)=>{u=!0,c(v,f)},c=(f,v)=>{i!==(i=f)&&(i?(l?Dt(l):v&&(l=Ue(()=>v(s))),a&&$e(a,()=>{a=null})):(a?Dt(a):v&&(a=Ue(()=>v(s,[n+1,r]))),l&&$e(l,()=>{l=null})))};yt(()=>{u=!1,t(p),u||c(null,null)},o)}function Lt(e,t,n){var r=e,s,l;yt(()=>{s!==(s=t())&&(l&&($e(l),l=null),s&&(l=Ue(()=>n(r,s))))},ze)}function jt(e,t){return e===t||(e==null?void 0:e[se])===t}function Qr(e={},t,n,r){return bt(()=>{var s,l;return Ze(()=>{s=l,l=[],de(()=>{e!==n(...l)&&(t(e,...l),s&&jt(n(...s),e)&&t(null,...s))})}),()=>{yn(()=>{l&&jt(n(...l),e)&&t(null,...l)})}}),e}function es(e=!1){const t=E,n=t.l.u;if(!n)return;let r=()=>On(t.s);if(e){let s=0,l={};const a=De(()=>{let i=!1;const o=t.s;for(const u in o)o[u]!==l[u]&&(l[u]=o[u],i=!0);return i&&s++,s});r=()=>d(a)}n.b.length&&Sr(()=>{qt(t,r),Ie(n.b)}),lt(()=>{const s=de(()=>n.m.map(er));return()=>{for(const l of s)typeof l=="function"&&l()}}),n.a.length&&lt(()=>{qt(t,r),Ie(n.a)})}function qt(e,t){if(e.l.s)for(const n of e.l.s)d(n);t()}function Bt(e,t){var l;var n=(l=e.$$events)==null?void 0:l[t.type],r=Je(n)?n.slice():n==null?[]:[n];for(var s of r)s.call(this,t)}function ts(e,t,n){if(e==null)return t(void 0),n&&n(void 0),be;const r=de(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const _e=[];function Tn(e,t){return{subscribe:In(e,t).subscribe}}function In(e,t=be){let n=null;const r=new Set;function s(i){if(en(e,i)&&(e=i,n)){const o=!_e.length;for(const u of r)u[1](),_e.push(u,e);if(o){for(let u=0;u<_e.length;u+=2)_e[u][0](_e[u+1]);_e.length=0}}}function l(i){s(i(e))}function a(i,o=be){const u=[i,o];return r.add(u),r.size===1&&(n=t(s,l)||be),i(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:s,update:l,subscribe:a}}function Mn(e,t,n){const r=!Array.isArray(e),s=r?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=t.length<2;return Tn(n,(a,i)=>{let o=!1;const u=[];let p=0,c=be;const f=()=>{if(p)return;c();const h=t(r?u[0]:u,a,i);l?a(h):c=typeof h=="function"?h:be},v=s.map((h,x)=>ts(h,I=>{u[x]=I,p&=~(1<<x),o&&f()},()=>{p|=1<<x}));return o=!0,f(),function(){Ie(v),c(),o=!1}})}let qe=!1;function ns(e){var t=qe;try{return qe=!1,[e(),qe]}finally{qe=t}}const rs={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Se(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let s=e.props[r];Se(s)&&(s=s());const l=re(s,t);if(l&&l.set)return l.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Se(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const s=re(r,t);return s&&!s.configurable&&(s.configurable=!0),s}}},has(e,t){if(t===se||t===Zt)return!1;for(let n of e.props)if(Se(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(Se(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function Ht(...e){return new Proxy({props:e},rs)}function ss(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function rt(e,t,n,r){var C;var s=!we||(n&pr)!==0,l=(n&_r)!==0,a=(n&gr)!==0,i=r,o=!0,u=()=>(o&&(o=!1,i=a?de(r):r),i),p;if(l){var c=se in e||Zt in e;p=((C=re(e,t))==null?void 0:C.set)??(c&&t in e?S=>e[t]=S:void 0)}var f,v=!1;l?[f,v]=ns(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=u(),p&&(s&&ir(),p(f)));var h;if(s?h=()=>{var S=e[t];return S===void 0?u():(o=!0,S)}:h=()=>{var S=e[t];return S!==void 0&&(i=void 0),S===void 0?i:S},s&&(n&hr)===0)return h;if(p){var x=e.$$legacy;return function(S,M){return arguments.length>0?((!s||!M||x||v)&&p(M?h():S),S):h()}}var I=((n&vr)!==0?De:mr)(h);return l&&d(I),function(S,M){if(arguments.length>0){const ae=M?d(I):s&&l?ge(S):S;return g(I,ae),i!==void 0&&(i=ae),S}return ss(I)?I.v:d(I)}}function Rn(e){E===null&&We(),we&&E.l!==null?An(E).m.push(e):lt(()=>{const t=de(e);if(typeof t=="function")return t})}function ls(e){E===null&&We(),Rn(()=>()=>de(e))}function os(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function is(){const e=E;return e===null&&We(),(t,n,r)=>{var l;const s=(l=e.s.$$events)==null?void 0:l[t];if(s){const a=Je(s)?s.slice():[s],i=os(t,n,r);for(const o of a)o.call(e.x,i);return!i.defaultPrevented}return!0}}function as(e){E===null&&We(),E.l===null&&or(),An(E).a.push(e)}function An(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const us="5";var Jt;typeof window<"u"&&((Jt=window.__svelte??(window.__svelte={})).v??(Jt.v=new Set)).add(us);dr();function fs(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,l,a=[],i="",o=e.split("/");for(o[0]||o.shift();s=o.shift();)n=s[0],n==="*"?(a.push("wild"),i+="/(.*)"):n===":"?(r=s.indexOf("?",1),l=s.indexOf(".",1),a.push(s.substring(1,~r?r:~l?l:s.length)),i+=~r&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(i+=(~r?"?":"")+"\\"+s.substring(l))):i+="/"+s;return{keys:a,pattern:new RegExp("^"+i+"/?$","i")}}function Ut(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const wt=Tn(null,function(t){t(Ut());const n=()=>{t(Ut())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});Mn(wt,e=>e.location);Mn(wt,e=>e.querystring);const $t=In(void 0);function cs(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function ds(e,t){pt(t,!1);let n=rt(t,"routes",24,()=>({})),r=rt(t,"prefix",8,""),s=rt(t,"restoreScrollState",8,!1);class l{constructor(_,b){if(!b||typeof b!="function"&&(typeof b!="object"||b._sveltesparouter!==!0))throw Error("Invalid component object");if(!_||typeof _=="string"&&(_.length<1||_.charAt(0)!="/"&&_.charAt(0)!="*")||typeof _=="object"&&!(_ instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:R,keys:P}=fs(_);this.path=_,typeof b=="object"&&b._sveltesparouter===!0?(this.component=b.component,this.conditions=b.conditions||[],this.userData=b.userData,this.props=b.props||{}):(this.component=()=>Promise.resolve(b),this.conditions=[],this.props={}),this._pattern=R,this._keys=P}match(_){if(r()){if(typeof r()=="string")if(_.startsWith(r()))_=_.substr(r().length)||"/";else return null;else if(r()instanceof RegExp){const L=_.match(r());if(L&&L[0])_=_.substr(L[0].length)||"/";else return null}}const b=this._pattern.exec(_);if(b===null)return null;if(this._keys===!1)return b;const R={};let P=0;for(;P<this._keys.length;){try{R[this._keys[P]]=decodeURIComponent(b[P+1]||"")||null}catch{R[this._keys[P]]=null}P++}return R}async checkConditions(_){for(let b=0;b<this.conditions.length;b++)if(!await this.conditions[b](_))return!1;return!0}}const a=[];n()instanceof Map?n().forEach((k,_)=>{a.push(new l(_,k))}):Object.keys(n()).forEach(k=>{a.push(new l(k,n()[k]))});let i=tt(null),o=tt(null),u=tt({});const p=is();async function c(k,_){await Hr(),p(k,_)}let f=null,v=null;s()&&(v=k=>{k.state&&(k.state.__svelte_spa_router_scrollY||k.state.__svelte_spa_router_scrollX)?f=k.state:f=null},window.addEventListener("popstate",v),as(()=>{cs(f)}));let h=null,x=null;const I=wt.subscribe(async k=>{h=k;let _=0;for(;_<a.length;){const b=a[_].match(k.location);if(!b){_++;continue}const R={route:a[_].path,location:k.location,querystring:k.querystring,userData:a[_].userData,params:b&&typeof b=="object"&&Object.keys(b).length?b:null};if(!await a[_].checkConditions(R)){g(i,null),x=null,c("conditionsFailed",R);return}c("routeLoading",Object.assign({},R));const P=a[_].component;if(x!=P){P.loading?(g(i,P.loading),x=P,g(o,P.loadingParams),g(u,{}),c("routeLoaded",Object.assign({},R,{component:d(i),name:d(i).name,params:d(o)}))):(g(i,null),x=null);const L=await P();if(k!=h)return;g(i,L&&L.default||L),x=P}b&&typeof b=="object"&&Object.keys(b).length?g(o,b):g(o,null),g(u,a[_].props),c("routeLoaded",Object.assign({},R,{component:d(i),name:d(i).name,params:d(o)})).then(()=>{$t.set(d(o))});return}g(i,null),x=null,$t.set(void 0)});ls(()=>{I(),v&&window.removeEventListener("popstate",v)}),Or(()=>On(s()),()=>{history.scrollRestoration=s()?"manual":"auto"}),Pr(),es();var C=nt(),S=Pe(C);{var M=k=>{var _=nt(),b=Pe(_);Lt(b,()=>d(i),(R,P)=>{P(R,Ht({get params(){return d(o)}},()=>d(u),{$$events:{routeEvent(L){Bt.call(this,t,L)}}}))}),le(k,_)},ae=k=>{var _=nt(),b=Pe(_);Lt(b,()=>d(i),(R,P)=>{P(R,Ht(()=>d(u),{$$events:{routeEvent(L){Bt.call(this,t,L)}}}))}),le(k,_)};ft(S,k=>{d(o)?k(M):k(ae,!1)})}le(e,C),ht()}class U{constructor(t,n){ue(this,"base");ue(this,"exponent");if(t===0)this.base=0,this.exponent=0;else{const r=Math.floor(Math.log10(Math.abs(t))),s=t/Math.pow(10,r);this.base=s,this.exponent=n+r}}static fromNumber(t){if(t===0)return new U(0,0);const n=Math.floor(Math.log10(Math.abs(t))),r=t/Math.pow(10,n);return new U(r,n)}toNumber(){return this.base*Math.pow(10,this.exponent)}add(t){const n=this.toNumber(),r=t.toNumber();return U.fromNumber(n+r)}sub(t){const n=this.toNumber(),r=t.toNumber();return U.fromNumber(n-r)}mul(t){const n=this.base*t.base,r=this.exponent+t.exponent;return new U(n,r)}div(t){const n=this.base/t.base,r=this.exponent-t.exponent;return new U(n,r)}exp(t){const n=this.base*Math.pow(10,this.exponent),r=t.base*Math.pow(10,t.exponent),s=Math.pow(n,r),l=Math.floor(Math.log10(s)),a=s/Math.pow(10,l);return new U(a,l)}ln(){const t=Math.log(this.base)+this.exponent*Math.log(10);return new U(t,0)}sqrt(){const t=Math.sqrt(this.base),n=this.exponent%2===0,r=this.exponent/2;return n?new U(t,r):new U(t*Math.sqrt(10),Math.floor(r))}toString(){return`${this.base}e${this.exponent}`}roundFloat(t,n){return t.toFixed(n).toString().replace(/(\.\d*?[1-9])0+$/g,"$1").replace(/\.0+$/,"")}toRoundedString(t=6){return this.exponent+1>t?`${this.roundFloat(this.base,t)}e${this.exponent}`:this.roundFloat(this.toNumber(),t)}}const Kt={H:1.008,He:4.0026022,Li:6.94,Be:9.01218315,B:10.81,C:12.011,N:14.007,O:15.999,F:18.9984031636,Ne:20.17976,Na:22.989769282,Mg:24.305,Al:26.98153857,Si:28.085,P:30.9737619985,S:32.06,Cl:35.45,Ar:39.9481,K:39.09831,Ca:40.0784,Sc:44.9559085,Ti:47.8671,V:50.94151,Cr:51.99616,Mn:54.9380443,Fe:55.8452,Co:58.9331944,Ni:58.69344,Cu:63.5463,Zn:65.382,Ga:69.7231,Ge:72.6308,As:74.9215956,Se:78.9718,Br:79.904,Kr:83.7982,Rb:85.46783,Sr:87.621,Y:88.905842,Zr:91.2242,Nb:92.906372,Mo:95.951,Tc:98,Ru:101.072,Rh:102.905502,Pd:106.421,Ag:107.86822,Cd:112.4144,In:114.8181,Sn:118.7107,Sb:121.7601,Te:127.603,I:126.904473,Xe:131.2936,Cs:132.905451966,Ba:137.3277,La:138.905477,Ce:140.1161,Pr:140.907662,Nd:144.2423,Pm:145,Sm:150.362,Eu:151.9641,Gd:157.253,Tb:158.925352,Dy:162.5001,Ho:164.930332,Er:167.2593,Tm:168.934222,Yb:173.0451,Lu:174.96681,Hf:178.492,Ta:180.947882,W:183.841,Re:186.2071,Os:190.233,Ir:192.2173,Pt:195.0849,Au:196.9665695,Hg:200.5923,Tl:204.38,Pb:207.21,Bi:208.980401,Po:209,At:210,Rn:222,Fr:223,Ra:226,Ac:227,Th:232.03774,Pa:231.035882,U:238.028913,Np:237,Pu:244,Am:243,Cm:247,Bk:247,Cf:251,Es:252,Fm:257,Md:258,No:259,Lr:266,Rf:267,Db:268,Sg:269,Bh:270,Hs:269,Mt:278,Ds:281,Rg:282,Cn:285,Nh:286,Fl:289,Mc:289,Lv:293,Ts:294,Og:294,Uue:315};function vs(e){e=e.replace(/\s+/g,"");const t=/([A-Z][a-z]?)(\d*)/g;function n(l){let a=0;const i=l.matchAll(t);for(const o of i){const u=o[1],p=o[2]?parseInt(o[2],10):1;if(!(u in Kt))throw new Error(`Invalid element symbol: ${u}`);a+=Kt[u]*p}return a}const r=[];let s=0;for(;s<e.length;){const l=e[s];if(l==="(")r.push("");else if(l===")"){if(!r.length)throw new Error("Unmatched parenthesis in formula");let a=r.pop();s++;let i="";for(;s<e.length&&/\d/.test(e[s]);)i+=e[s],s++;const o=i?parseInt(i,10):1;a=a.repeat(o),r.length?r[r.length-1]+=a:r.push(a);continue}else r.length?r[r.length-1]+=l:r.push(l);s++}return r.length?n(r.join("")):0}class xt{constructor(t=null){ue(this,"functions",{});ue(this,"ans");this.functions.sqrt=([n])=>n.sqrt(),this.functions.ln=([n])=>n.ln(),this.ans=t}static getPrecedence(t,n){const r={"+":1,"-":1,"*":2,"/":2,"u-":3,"i*":3,"^":4};return t==="^"&&["u-","i*"].includes(n)||t==="u-"&&n==="u-"||t==="^"&&n==="^"?"right":t===n||r[t]>=r[n]?"left":"right"}evaluate(t){const n=this.tokenize(t),r=this.toRPN(n);return this.evalRPN(r)}insertImplicitMul(t){let n,r,s=0;for(;s<t.length-1;)n=this.classifyToken(t[s]),r=this.classifyToken(t[s+1]),[3,0,1].includes(n)&&[2,4,6].includes(r)?(t.splice(s+1,0,"i*"),s+=2):s++}classifyToken(t){if(isNaN(Number(t))){if(this.functions[t])return 4;if(t==="(")return 2;if(t===")")return 3;if(["+","-","*","/","^","i*"].includes(t))return 5;if(t.startsWith("M(")&&t.endsWith(")"))return 6;if(t==="Ans")return 1;throw Error("unrecognized token")}else return 0}tokenize(t){const n=/M\([^()]*\)|\d+\.?\d*(?:[eE][+-]?\d+)?|\.\d+(?:[eE][+-]?\d+)?|Ans|[()+\-*/^]|\w+/g,r=t.match(n)??[];return this.insertImplicitMul(r),r}toRPN(t){const n=[],r=[];let s=null,l,a,i;for(const o of t){switch(this.classifyToken(o)){case 0:n.push(o);break;case 1:n.push((this.ans??0).toString());break;case 2:r.push(o);break;case 3:for(;r.length&&r[r.length-1]!=="(";)n.push(r.pop());r.pop(),r.length&&this.functions[r[r.length-1]]&&n.push(r.pop());break;case 4:r.push(o);break;case 5:for(l=o==="-"&&(s===null||["+","-","*","/","^","("].includes(s)),a=l?"u-":o;r.length&&xt.getPrecedence(r[r.length-1],a)==="left";)n.push(r.pop());r.push(a==="i*"?"*":a);break;case 6:if(i=o.match(/^M\(([^()]*)\)$/),i){const u=i[1];n.push(vs(u).toString())}else throw new Error(`Invalid M(...) expression: ${o}`);break}s=o}for(;r.length;)n.push(r.pop());return n}evalRPN(t){const n=[];for(const r of t)if(!isNaN(Number(r)))n.push(U.fromNumber(Number(r)));else if(["+","-","*","/","^"].includes(r)){const s=n.pop(),l=n.pop();switch(r){case"+":n.push(l.add(s));break;case"-":n.push(l.sub(s));break;case"*":n.push(l.mul(s));break;case"/":n.push(l.div(s));break;case"^":n.push(l.exp(s));break}}else if(this.functions[r]){const s=[n.pop()];n.push(this.functions[r](s))}else if(r==="u-"){const s=n.pop();n.push(U.fromNumber(-1).mul(s))}else throw new Error(`Unknown token: ${r}`);return n[0]}}const Yt={1:"1",2:"2",3:"3",q:"4",w:"5",e:"6",a:"7",s:"8",d:"9",c:".",x:"0",z:"e",Alt:"Ans",4:"+",r:"-",f:"*",v:"/",5:"^",t:"sqrt(",g:"ln(",b:"M(",Shift:"Enter",Space:"()",Backtick:"Backspace"};var ps=(e,t)=>{g(t,!d(t))},hs=(e,t)=>{g(t,!d(t))},_s=Le('<div class="flex flex-col items-end gap-4 w-1/2 p-2"><button class="text-gray-500 hover:cursor-pointer"> </button> <button class="font-bold hover:cursor-pointer"> </button></div> <textarea id="textarea" class="w-1/2 h-auto resize-none overflow-hidden whitespace-nowrap border-2 rounded p-2 font-mono" rows="1"></textarea> <p class="text-red-700 font-bold text-[0.5rem]"> </p>',1),gs=Le('<div class="flex gap-4"><button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Use one-handed preset</button> <button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Clear keybinds</button></div> <div class="flex gap-4"><button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Import data from file</button> <button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Export data to file</button></div> <div class="flex gap-4"><button class="rounded p-2 border-2 text-[0.5em] hover:cursor-pointer">Clear history</button></div>',1),bs=Le('<main><div class="absolute m-2 flex flex-col gap-2 text-[0.5rem]"><div class="font-bold inline-block"><button class="border-2 p-2 rounded font-bold hover:cursor-pointer"> </button> <a class="border-2 p-2 rounded font-bold hover:cursor-pointer" href="https://github.com/storchdev/qalc">Info</a></div> <button class="border-2 p-2 rounded font-bold hover:cursor-pointer"> </button></div> <div class="flex flex-col justify-center items-center h-screen gap-4"><!> <!></div></main>');function ys(e,t){pt(t,!0);const n=["+","-","*","/","^"];let r,s={},l=[],a=[],i,o=D(6),u=D(0),p=je(()=>l[d(u)]),c=je(()=>U.fromNumber(a[d(u)]??0)),f=D(0),v=D(0),h=!1,x=D(!1),I=je(()=>d(x)?"Back":"Settings"),C=D(!0),S=je(()=>d(C)?"Keybinds: on":"Keybinds: off"),M=D("");function ae(){s=JSON.parse(localStorage.getItem("keybinds")??"{}"),l=JSON.parse(localStorage.getItem("exprHistory")??"[]"),a=JSON.parse(localStorage.getItem("ansHistory")??"[]"),i=parseInt(localStorage.getItem("maxHistoryLen")??"50"),g(o,parseInt(localStorage.getItem("maxDigits")??"12"),!0),g(u,a.length-1)}Rn(()=>{ae()});function k(){r.value="",g(f,0),g(v,0),h=!1,g(M,"")}function _(m){m.deltaY<0?b():m.deltaY>0&&R()}function b(){d(u)>0&&(pe(u,-1),r.value=l[d(u)],g(f,r.value.split("(").length-1),g(v,r.value.split(")").length-1),h=!1)}function R(){d(u)<a.length-1&&(pe(u),r.value=l[d(u)],g(f,r.value.split("(").length-1),g(v,r.value.split(")").length-1),h=!1)}function P(m){let j=m.key;m.key===" "?j="Space":m.key==="`"&&(j="Backtick");const q=j in s;let y=s[j]??m.key;if(h&&y==="()"&&g(C,!0),!!d(C)){if(y==="Escape"){m.preventDefault(),k();return}if(y==="Backspace"){m.preventDefault();const O=r.selectionStart;if(O>0){const T=r.value,W=r.value[O-1];r.value=T.slice(0,O-1)+T.slice(O),r.selectionStart=r.selectionEnd=O-1,W==="("?pe(f,-1):W===")"&&pe(v,-1)}return}if(y==="ArrowUp"){b();return}if(y==="ArrowDown"){R();return}if(y==="Enter"){if(m.preventDefault(),r.value==="")return;try{for(;d(f)>d(v);)r.value+=")",pe(v);const O=new xt(d(c));g(c,O.evaluate(r.value),!0),g(p,r.value,!0),k(),a.push(d(c).toNumber()),l.push(d(p)),a.length>=i?(a.shift(),l.shift()):pe(u),localStorage.setItem("exprHistory",JSON.stringify(l)),localStorage.setItem("ansHistory",JSON.stringify(a))}catch{g(M,"syntax error")}return}if(y==="()"&&(h?(h=!1,y=")"):n.includes(r.value[r.value.length-1])?y="(":d(f)>d(v)?y=")":d(f)===d(v)?y="(":y=" "),!h&&(g(f,d(f)+(y.split("(").length-1)),g(v,d(v)+(y.split(")").length-1)),y==="M("&&(h=!0,g(C,!1)),q)){m.preventDefault();const{selectionStart:O,selectionEnd:T,value:W}=r,Q=W.slice(0,O),ke=W.slice(T),ve=Q.length+y.length;r.value=Q+y+ke,r.setSelectionRange(ve,ve)}}}function L(m){r.value=d(p)}function Cn(){r.value=d(c)?d(c).toRoundedString():""}function Dn(){const m={};for(let O=0;O<localStorage.length;O++){const T=localStorage.key(O);T&&(["keybinds","exprHistory","ansHistory"].includes(T),m[T]=JSON.parse(localStorage.getItem(T)??"{}"))}const j=JSON.stringify(m,null,2),q=new Blob([j],{type:"application/json"}),y=document.createElement("a");y.href=URL.createObjectURL(q),y.download="qalc_data.json",document.body.appendChild(y),y.click(),document.body.removeChild(y)}function Fn(){localStorage.setItem("keybinds","{}"),s={},alert("Cleared keybinds!")}function Ln(){localStorage.setItem("keybinds",JSON.stringify(Yt)),s=Yt,alert("Set default one-handed keybinds!")}function jn(){const m=document.createElement("input");m.type="file",m.accept=".json",m.onchange=()=>{if(!m.files||m.files.length===0)return alert("No file selected");const j=m.files[0],q=new FileReader;q.onload=()=>{try{const y=JSON.parse(q.result);for(const[O,T]of Object.entries(y))["keybinds","exprHistory","ansHistory"].includes(O)?(localStorage.setItem(O,JSON.stringify(T)),y[O]=JSON.parse(localStorage.getItem(O)??"{}")):localStorage.setItem(O,T);ae(),alert("Updated your settings!")}catch{alert("Invalid JSON file")}},q.onerror=()=>{alert("Failed to read file")},q.readAsText(j)},m.click()}function qn(){a=[],l=[],g(u,0),localStorage.setItem("ansHistory","[]"),localStorage.setItem("exprHistory","[]"),alert("Cleared history!")}var Et=bs(),kt=H(Et),St=H(kt),Nt=H(St);Nt.__click=[ps,x];var Bn=H(Nt),Ot=G(St,2);Ot.__click=[hs,C];var Hn=H(Ot),Un=G(kt,2),Pt=H(Un);{var $n=m=>{var j=_s(),q=Pe(j),y=H(q);y.__click=L;var O=H(y),T=G(y,2);T.__click=Cn;var W=H(T),Q=G(q,2);Q.__keydown=P,Qr(Q,Qe=>r=Qe,()=>r);var ke=G(Q,2),ve=H(ke);Ct(Qe=>{Ne(O,d(p)),Ne(W,`= ${Qe??""}`),Ne(ve,d(M))},[()=>d(c).toRoundedString(d(o))]),Vr("wheel",Q,_),le(m,j)};ft(Pt,m=>{d(x)||m($n)})}var Kn=G(Pt,2);{var Yn=m=>{var j=gs(),q=Pe(j),y=H(q);y.__click=Ln;var O=G(y,2);O.__click=Fn;var T=G(q,2),W=H(T);W.__click=jn;var Q=G(W,2);Q.__click=Dn;var ke=G(T,2),ve=H(ke);ve.__click=qn,le(m,j)};ft(Kn,m=>{d(x)&&m(Yn)})}Ct(()=>{Ne(Bn,d(I)),Ne(Hn,d(S))}),le(e,Et),ht()}zr(["click","keydown"]);var ms=Le('<main><p class="text-red-500 font-bold">Page Not Found!</p></main>');function ws(e){var t=ms();le(e,t)}var xs=Le("<main><!></main>");function Es(e){const t={"/":ys,"*":ws};var n=xs(),r=H(n);ds(r,{get routes(){return t}}),le(e,n)}Gr(Es,{target:document.getElementById("app")});
